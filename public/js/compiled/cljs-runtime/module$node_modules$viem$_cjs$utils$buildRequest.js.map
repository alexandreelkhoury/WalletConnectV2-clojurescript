{
"version":3,
"file":"module$node_modules$viem$_cjs$utils$buildRequest.js",
"lineCount":6,
"mappings":"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",
"sources":["node_modules/viem/_cjs/utils/buildRequest.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$viem$_cjs$utils$buildRequest\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.buildRequest = exports.isDeterministicError = void 0;\nconst base_js_1 = require(\"../errors/base.js\");\nconst request_js_1 = require(\"../errors/request.js\");\nconst rpc_js_1 = require(\"../errors/rpc.js\");\nconst withRetry_js_1 = require(\"./promise/withRetry.js\");\nconst isDeterministicError = (error) => {\n    if ('code' in error)\n        return (error.code !== -1 &&\n            error.code !== -32004 &&\n            error.code !== -32005 &&\n            error.code !== -32042 &&\n            error.code !== -32603);\n    if (error instanceof request_js_1.HttpRequestError && error.status)\n        return (error.status !== 403 &&\n            error.status !== 408 &&\n            error.status !== 413 &&\n            error.status !== 429 &&\n            error.status !== 500 &&\n            error.status !== 502 &&\n            error.status !== 503 &&\n            error.status !== 504);\n    return false;\n};\nexports.isDeterministicError = isDeterministicError;\nfunction buildRequest(request, { retryDelay = 150, retryCount = 3, } = {}) {\n    return (async (args) => (0, withRetry_js_1.withRetry)(async () => {\n        try {\n            return await request(args);\n        }\n        catch (err_) {\n            const err = err_;\n            switch (err.code) {\n                case rpc_js_1.ParseRpcError.code:\n                    throw new rpc_js_1.ParseRpcError(err);\n                case rpc_js_1.InvalidRequestRpcError.code:\n                    throw new rpc_js_1.InvalidRequestRpcError(err);\n                case rpc_js_1.MethodNotFoundRpcError.code:\n                    throw new rpc_js_1.MethodNotFoundRpcError(err);\n                case rpc_js_1.InvalidParamsRpcError.code:\n                    throw new rpc_js_1.InvalidParamsRpcError(err);\n                case rpc_js_1.InternalRpcError.code:\n                    throw new rpc_js_1.InternalRpcError(err);\n                case rpc_js_1.InvalidInputRpcError.code:\n                    throw new rpc_js_1.InvalidInputRpcError(err);\n                case rpc_js_1.ResourceNotFoundRpcError.code:\n                    throw new rpc_js_1.ResourceNotFoundRpcError(err);\n                case rpc_js_1.ResourceUnavailableRpcError.code:\n                    throw new rpc_js_1.ResourceUnavailableRpcError(err);\n                case rpc_js_1.TransactionRejectedRpcError.code:\n                    throw new rpc_js_1.TransactionRejectedRpcError(err);\n                case rpc_js_1.MethodNotSupportedRpcError.code:\n                    throw new rpc_js_1.MethodNotSupportedRpcError(err);\n                case rpc_js_1.LimitExceededRpcError.code:\n                    throw new rpc_js_1.LimitExceededRpcError(err);\n                case rpc_js_1.JsonRpcVersionUnsupportedError.code:\n                    throw new rpc_js_1.JsonRpcVersionUnsupportedError(err);\n                case rpc_js_1.UserRejectedRequestError.code:\n                    throw new rpc_js_1.UserRejectedRequestError(err);\n                case rpc_js_1.UnauthorizedProviderError.code:\n                    throw new rpc_js_1.UnauthorizedProviderError(err);\n                case rpc_js_1.UnsupportedProviderMethodError.code:\n                    throw new rpc_js_1.UnsupportedProviderMethodError(err);\n                case rpc_js_1.ProviderDisconnectedError.code:\n                    throw new rpc_js_1.ProviderDisconnectedError(err);\n                case rpc_js_1.ChainDisconnectedError.code:\n                    throw new rpc_js_1.ChainDisconnectedError(err);\n                case rpc_js_1.SwitchChainError.code:\n                    throw new rpc_js_1.SwitchChainError(err);\n                case 5000:\n                    throw new rpc_js_1.UserRejectedRequestError(err);\n                default:\n                    if (err_ instanceof base_js_1.BaseError)\n                        throw err_;\n                    throw new rpc_js_1.UnknownRpcError(err);\n            }\n        }\n    }, {\n        delay: ({ count, error }) => {\n            if (error && error instanceof request_js_1.HttpRequestError) {\n                const retryAfter = error?.headers?.get('Retry-After');\n                if (retryAfter?.match(/\\d/))\n                    return parseInt(retryAfter) * 1000;\n            }\n            return ~~(1 << count) * retryDelay;\n        },\n        retryCount,\n        shouldRetry: ({ error }) => !(0, exports.isDeterministicError)(error),\n    }));\n}\nexports.buildRequest = buildRequest;\n//# sourceMappingURL=buildRequest.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","Object","defineProperty","value","buildRequest","isDeterministicError","base_js_1","request_js_1","rpc_js_1","withRetry_js_1","error","code","HttpRequestError","status","request","retryDelay","retryCount","args","withRetry","err_","ParseRpcError","InvalidRequestRpcError","MethodNotFoundRpcError","InvalidParamsRpcError","InternalRpcError","InvalidInputRpcError","ResourceNotFoundRpcError","ResourceUnavailableRpcError","TransactionRejectedRpcError","MethodNotSupportedRpcError","LimitExceededRpcError","JsonRpcVersionUnsupportedError","UserRejectedRequestError","UnauthorizedProviderError","UnsupportedProviderMethodError","ProviderDisconnectedError","ChainDisconnectedError","SwitchChainError","BaseError","UnknownRpcError","delay","count","retryAfter","headers","get","match","parseInt","shouldRetry"]
}
