shadow$provide.module$node_modules$viem$_cjs$utils$signature$hashTypedData=function(global,require,module,exports){function hashDomain({domain,types}){return hashStruct({data:domain,primaryType:"EIP712Domain",types})}function hashStruct({data,primaryType,types}){data=encodeData({data,primaryType,types});return(0,keccak256_js_1.keccak256)(data)}function encodeData({data,primaryType,types}){const encodedTypes=[{type:"bytes32"}],encodedValues=[hashType({primaryType,types})];for(const field of types[primaryType]){const [type,
value]=encodeField({types,name:field.name,type:field.type,value:data[field.name]});encodedTypes.push(type);encodedValues.push(value)}return(0,encodeAbiParameters_js_1.encodeAbiParameters)(encodedTypes,encodedValues)}function hashType({primaryType,types}){primaryType=(0,toHex_js_1.toHex)(encodeType({primaryType,types}));return(0,keccak256_js_1.keccak256)(primaryType)}function encodeType({primaryType,types}){let result="";const unsortedDeps=findTypeDependencies({primaryType,types});unsortedDeps.delete(primaryType);
primaryType=[primaryType,...Array.from(unsortedDeps).sort()];for(const type of primaryType)result+=`${type}(${types[type].map(({name,type:t})=>`${t} ${name}`).join(",")})`;return result}function findTypeDependencies({primaryType:primaryType_,types},results=new Set){primaryType_=primaryType_.match(/^\w*/u)?.[0];if(results.has(primaryType_)||void 0===types[primaryType_])return results;results.add(primaryType_);for(const field of types[primaryType_])findTypeDependencies({primaryType:field.type,types},
results);return results}function encodeField({types,name,type,value}){if(void 0!==types[type])return[{type:"bytes32"},(0,keccak256_js_1.keccak256)(encodeData({data:value,primaryType:type,types}))];if("bytes"===type)return value=`0x${(value.length%2?"0":"")+value.slice(2)}`,[{type:"bytes32"},(0,keccak256_js_1.keccak256)(value)];if("string"===type)return[{type:"bytes32"},(0,keccak256_js_1.keccak256)((0,toHex_js_1.toHex)(value))];if(type.lastIndexOf("]")===type.length-1){const parsedType=type.slice(0,
type.lastIndexOf("["));type=value.map(item=>encodeField({name,type:parsedType,types,value:item}));return[{type:"bytes32"},(0,keccak256_js_1.keccak256)((0,encodeAbiParameters_js_1.encodeAbiParameters)(type.map(([t])=>t),type.map(([,v])=>v)))]}return[{type},value]}Object.defineProperty(exports,"__esModule",{value:!0});exports.hashDomain=exports.hashTypedData=void 0;const encodeAbiParameters_js_1=require("module$node_modules$viem$_cjs$utils$abi$encodeAbiParameters"),concat_js_1=require("module$node_modules$viem$_cjs$utils$data$concat"),
toHex_js_1=require("module$node_modules$viem$_cjs$utils$encoding$toHex"),keccak256_js_1=require("module$node_modules$viem$_cjs$utils$hash$keccak256"),typedData_js_1=require("module$node_modules$viem$_cjs$utils$typedData");exports.hashTypedData=function({domain:domain_,message,primaryType,types:types_}){domain_="undefined"===typeof domain_?{}:domain_;types_={EIP712Domain:(0,typedData_js_1.getTypesForEIP712Domain)({domain:domain_}),...types_};(0,typedData_js_1.validateTypedData)({domain:domain_,message,
primaryType,types:types_});const parts=["0x1901"];domain_&&parts.push(hashDomain({domain:domain_,types:types_}));"EIP712Domain"!==primaryType&&parts.push(hashStruct({data:message,primaryType,types:types_}));return(0,keccak256_js_1.keccak256)((0,concat_js_1.concat)(parts))};exports.hashDomain=hashDomain}
//# sourceMappingURL=module$node_modules$viem$_cjs$utils$signature$hashTypedData.js.map
