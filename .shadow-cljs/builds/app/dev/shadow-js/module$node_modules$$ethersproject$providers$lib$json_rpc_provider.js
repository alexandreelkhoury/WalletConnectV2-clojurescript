["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@ethersproject/providers/lib/json-rpc-provider.js"],"~:js","shadow$provide.module$node_modules$$ethersproject$providers$lib$json_rpc_provider=function(global,require,module,exports){function spelunk(value,requireData){if(null==value)return null;if(\"string\"===typeof value.message&&value.message.match(\"reverted\")){var data=(0,bytes_1.isHexString)(value.data)?value.data:null;if(!requireData||data)return{message:value.message,data}}if(\"object\"===typeof value){for(var key in value)if(data=spelunk(value[key],requireData))return data;return null}if(\"string\"===typeof value)try{return spelunk(JSON.parse(value),\nrequireData)}catch(error){}return null}function checkError(method,error,params){params=params.transaction||params.signedTransaction;if(\"call\"===method){var result=spelunk(error,!0);if(result)return result.data;logger.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\",logger_1.Logger.errors.CALL_EXCEPTION,{data:\"0x\",transaction:params,error})}\"estimateGas\"===method&&(result=spelunk(error.body,!1),null==result&&(result=spelunk(error,!1)),result&&logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\",\nlogger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:result.message,method,transaction:params,error}));result=error.message;error.code===logger_1.Logger.errors.SERVER_ERROR&&error.error&&\"string\"===typeof error.error.message?result=error.error.message:\"string\"===typeof error.body?result=error.body:\"string\"===typeof error.responseText&&(result=error.responseText);result=(result||\"\").toLowerCase();result.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&logger.throwError(\"insufficient funds for intrinsic transaction cost\",\nlogger_1.Logger.errors.INSUFFICIENT_FUNDS,{error,method,transaction:params});result.match(/nonce (is )?too low/i)&&logger.throwError(\"nonce has already been used\",logger_1.Logger.errors.NONCE_EXPIRED,{error,method,transaction:params});result.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&logger.throwError(\"replacement fee too low\",logger_1.Logger.errors.REPLACEMENT_UNDERPRICED,{error,method,transaction:params});result.match(/only replay-protected/i)&&logger.throwError(\"legacy pre-eip-155 transactions not supported\",\nlogger_1.Logger.errors.UNSUPPORTED_OPERATION,{error,method,transaction:params});0<=errorGas.indexOf(method)&&result.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\",logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error,method,transaction:params});throw error;}function timer(timeout){return new Promise(function(resolve){setTimeout(resolve,timeout)})}function getResult(payload){if(payload.error){var error=\nError(payload.error.message);error.code=payload.error.code;error.data=payload.error.data;throw error;}return payload.result}function getLowerCase(value){return value?value.toLowerCase():value}var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,\nb$jscomp$0)};return function(d,b){function __(){this.constructor=d}if(\"function\"!==typeof b&&null!==b)throw new TypeError(\"Class extends value \"+String(b)+\" is not a constructor or null\");extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}(),__awaiter=this&&this.__awaiter||function(thisArg,_arguments,P,generator){function adopt(value){return value instanceof P?value:new P(function(resolve){resolve(value)})}return new (P||(P=Promise))(function(resolve,reject){function fulfilled(value){try{step(generator.next(value))}catch(e){reject(e)}}\nfunction rejected(value){try{step(generator[\"throw\"](value))}catch(e){reject(e)}}function step(result){result.done?resolve(result.value):adopt(result.value).then(fulfilled,rejected)}step((generator=generator.apply(thisArg,_arguments||[])).next())})},__generator=this&&this.__generator||function(thisArg,body){function verb(n){return function(v){return step([n,v])}}function step(op){if(f)throw new TypeError(\"Generator is already executing.\");for(;_;)try{if(f=1,y&&(t=op[0]&2?y[\"return\"]:op[0]?y[\"throw\"]||\n((t=y[\"return\"])&&t.call(y),0):y.next)&&!(t=t.call(y,op[1])).done)return t;if(y=0,t)op=[op[0]&2,t.value];switch(op[0]){case 0:case 1:t=op;break;case 4:return _.label++,{value:op[1],done:!1};case 5:_.label++;y=op[1];op=[0];continue;case 7:op=_.ops.pop();_.trys.pop();continue;default:if(!(t=_.trys,t=0<t.length&&t[t.length-1])&&(6===op[0]||2===op[0])){_=0;continue}if(3===op[0]&&(!t||op[1]>t[0]&&op[1]<t[3]))_.label=op[1];else if(6===op[0]&&_.label<t[1])_.label=t[1],t=op;else if(t&&_.label<t[2])_.label=\nt[2],_.ops.push(op);else{t[2]&&_.ops.pop();_.trys.pop();continue}}op=body.call(thisArg,_)}catch(e){op=[6,e],y=0}finally{f=t=0}if(op[0]&5)throw op[1];return{value:op[0]?op[1]:void 0,done:!0}}var _={label:0,sent:function(){if(t[0]&1)throw t[1];return t[1]},trys:[],ops:[]},f,y,t,g;return g={next:verb(0),\"throw\":verb(1),\"return\":verb(2)},\"function\"===typeof Symbol&&(g[Symbol.iterator]=function(){return this}),g};Object.defineProperty(exports,\"__esModule\",{value:!0});exports.JsonRpcProvider=exports.JsonRpcSigner=\nvoid 0;global=require(\"module$node_modules$$ethersproject$abstract_signer$lib$index\");var bignumber_1=require(\"module$node_modules$$ethersproject$bignumber$lib$index\"),bytes_1=require(\"module$node_modules$$ethersproject$bytes$lib$index\"),hash_1=require(\"module$node_modules$$ethersproject$hash$lib$index\"),properties_1=require(\"module$node_modules$$ethersproject$properties$lib$index\"),strings_1=require(\"module$node_modules$$ethersproject$strings$lib$index\"),transactions_1=require(\"module$node_modules$$ethersproject$transactions$lib$index\"),\nweb_1=require(\"module$node_modules$$ethersproject$web$lib$index\"),logger_1=require(\"module$node_modules$$ethersproject$logger$lib$index\");module=require(\"module$node_modules$$ethersproject$providers$lib$_version\");var logger=new logger_1.Logger(module.version);require=require(\"module$node_modules$$ethersproject$providers$lib$base_provider\");var errorGas=[\"call\",\"estimateGas\"],_constructorGuard={},JsonRpcSigner=function(_super){function JsonRpcSigner(constructorGuard,provider,addressOrIndex){var _this=\n_super.call(this)||this;if(constructorGuard!==_constructorGuard)throw Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");(0,properties_1.defineReadOnly)(_this,\"provider\",provider);null==addressOrIndex&&(addressOrIndex=0);\"string\"===typeof addressOrIndex?((0,properties_1.defineReadOnly)(_this,\"_address\",_this.provider.formatter.address(addressOrIndex)),(0,properties_1.defineReadOnly)(_this,\"_index\",null)):\"number\"===typeof addressOrIndex?((0,properties_1.defineReadOnly)(_this,\n\"_index\",addressOrIndex),(0,properties_1.defineReadOnly)(_this,\"_address\",null)):logger.throwArgumentError(\"invalid address or index\",\"addressOrIndex\",addressOrIndex);return _this}__extends(JsonRpcSigner,_super);JsonRpcSigner.prototype.connect=function(provider){return logger.throwError(\"cannot alter JSON-RPC Signer connection\",logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"connect\"})};JsonRpcSigner.prototype.connectUnchecked=function(){return new UncheckedJsonRpcSigner(_constructorGuard,\nthis.provider,this._address||this._index)};JsonRpcSigner.prototype.getAddress=function(){var _this=this;return this._address?Promise.resolve(this._address):this.provider.send(\"eth_accounts\",[]).then(function(accounts){accounts.length<=_this._index&&logger.throwError(\"unknown account #\"+_this._index,logger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"getAddress\"});return _this.provider.formatter.address(accounts[_this._index])})};JsonRpcSigner.prototype.sendUncheckedTransaction=function(transaction){var _this=\nthis;transaction=(0,properties_1.shallowCopy)(transaction);var fromAddress=this.getAddress().then(function(address){address&&(address=address.toLowerCase());return address});if(null==transaction.gasLimit){var estimate=(0,properties_1.shallowCopy)(transaction);estimate.from=fromAddress;transaction.gasLimit=this.provider.estimateGas(estimate)}null!=transaction.to&&(transaction.to=Promise.resolve(transaction.to).then(function(to){return __awaiter(_this,void 0,void 0,function(){var address;return __generator(this,\nfunction(_a){switch(_a.label){case 0:return null==to?[2,null]:[4,this.provider.resolveName(to)];case 1:return address=_a.sent(),null==address&&logger.throwArgumentError(\"provided ENS name resolves to null\",\"tx.to\",to),[2,address]}})})}));return(0,properties_1.resolveProperties)({tx:(0,properties_1.resolveProperties)(transaction),sender:fromAddress}).then(function(_a){var tx=_a.tx;_a=_a.sender;null!=tx.from?tx.from.toLowerCase()!==_a&&logger.throwArgumentError(\"from address mismatch\",\"transaction\",\ntransaction):tx.from=_a;var hexTx=_this.provider.constructor.hexlifyTransaction(tx,{from:!0});return _this.provider.send(\"eth_sendTransaction\",[hexTx]).then(function(hash){return hash},function(error){\"string\"===typeof error.message&&error.message.match(/user denied/i)&&logger.throwError(\"user rejected transaction\",logger_1.Logger.errors.ACTION_REJECTED,{action:\"sendTransaction\",transaction:tx});return checkError(\"sendTransaction\",error,hexTx)})})};JsonRpcSigner.prototype.signTransaction=function(transaction){return logger.throwError(\"signing transactions is unsupported\",\nlogger_1.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"signTransaction\"})};JsonRpcSigner.prototype.sendTransaction=function(transaction){return __awaiter(this,void 0,void 0,function(){var blockNumber,hash,error_1,_this=this;return __generator(this,function(_a$jscomp$0){switch(_a$jscomp$0.label){case 0:return[4,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval)];case 1:return blockNumber=_a$jscomp$0.sent(),[4,this.sendUncheckedTransaction(transaction)];case 2:hash=_a$jscomp$0.sent(),\n_a$jscomp$0.label=3;case 3:return _a$jscomp$0.trys.push([3,5,,6]),[4,(0,web_1.poll)(function(){return __awaiter(_this,void 0,void 0,function(){var tx;return __generator(this,function(_a){switch(_a.label){case 0:return[4,this.provider.getTransaction(hash)];case 1:return tx=_a.sent(),null===tx?[2,void 0]:[2,this.provider._wrapTransaction(tx,hash,blockNumber)]}})})},{oncePoll:this.provider})];case 4:return[2,_a$jscomp$0.sent()];case 5:throw error_1=_a$jscomp$0.sent(),error_1.transactionHash=hash,error_1;\ncase 6:return[2]}})})};JsonRpcSigner.prototype.signMessage=function(message){return __awaiter(this,void 0,void 0,function(){var data,address,error_2;return __generator(this,function(_a){switch(_a.label){case 0:return data=\"string\"===typeof message?(0,strings_1.toUtf8Bytes)(message):message,[4,this.getAddress()];case 1:address=_a.sent(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.provider.send(\"personal_sign\",[(0,bytes_1.hexlify)(data),address.toLowerCase()])];case 3:return[2,_a.sent()];\ncase 4:throw error_2=_a.sent(),\"string\"===typeof error_2.message&&error_2.message.match(/user denied/i)&&logger.throwError(\"user rejected signing\",logger_1.Logger.errors.ACTION_REJECTED,{action:\"signMessage\",from:address,messageData:message}),error_2;case 5:return[2]}})})};JsonRpcSigner.prototype._legacySignMessage=function(message){return __awaiter(this,void 0,void 0,function(){var data,address,error_3;return __generator(this,function(_a){switch(_a.label){case 0:return data=\"string\"===typeof message?\n(0,strings_1.toUtf8Bytes)(message):message,[4,this.getAddress()];case 1:address=_a.sent(),_a.label=2;case 2:return _a.trys.push([2,4,,5]),[4,this.provider.send(\"eth_sign\",[address.toLowerCase(),(0,bytes_1.hexlify)(data)])];case 3:return[2,_a.sent()];case 4:throw error_3=_a.sent(),\"string\"===typeof error_3.message&&error_3.message.match(/user denied/i)&&logger.throwError(\"user rejected signing\",logger_1.Logger.errors.ACTION_REJECTED,{action:\"_legacySignMessage\",from:address,messageData:message}),error_3;\ncase 5:return[2]}})})};JsonRpcSigner.prototype._signTypedData=function(domain,types,value){return __awaiter(this,void 0,void 0,function(){var populated,address,error_4,_this=this;return __generator(this,function(_a){switch(_a.label){case 0:return[4,hash_1._TypedDataEncoder.resolveNames(domain,types,value,function(name){return _this.provider.resolveName(name)})];case 1:return populated=_a.sent(),[4,this.getAddress()];case 2:address=_a.sent(),_a.label=3;case 3:return _a.trys.push([3,5,,6]),[4,this.provider.send(\"eth_signTypedData_v4\",\n[address.toLowerCase(),JSON.stringify(hash_1._TypedDataEncoder.getPayload(populated.domain,types,populated.value))])];case 4:return[2,_a.sent()];case 5:throw error_4=_a.sent(),\"string\"===typeof error_4.message&&error_4.message.match(/user denied/i)&&logger.throwError(\"user rejected signing\",logger_1.Logger.errors.ACTION_REJECTED,{action:\"_signTypedData\",from:address,messageData:{domain:populated.domain,types,value:populated.value}}),error_4;case 6:return[2]}})})};JsonRpcSigner.prototype.unlock=function(password){return __awaiter(this,\nvoid 0,void 0,function(){var provider,address;return __generator(this,function(_a){switch(_a.label){case 0:return provider=this.provider,[4,this.getAddress()];case 1:return address=_a.sent(),[2,provider.send(\"personal_unlockAccount\",[address.toLowerCase(),password,null])]}})})};return JsonRpcSigner}(global.Signer);exports.JsonRpcSigner=JsonRpcSigner;var UncheckedJsonRpcSigner=function(_super){function UncheckedJsonRpcSigner(){return null!==_super&&_super.apply(this,arguments)||this}__extends(UncheckedJsonRpcSigner,\n_super);UncheckedJsonRpcSigner.prototype.sendTransaction=function(transaction){var _this=this;return this.sendUncheckedTransaction(transaction).then(function(hash){return{hash,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(confirmations){return _this.provider.waitForTransaction(hash,confirmations)}}})};return UncheckedJsonRpcSigner}(JsonRpcSigner),allowedTransactionKeys={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,to:!0,value:!0,\ntype:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};require=function(_super){function JsonRpcProvider(url,network$jscomp$0){var _this=this;null==network$jscomp$0&&(network$jscomp$0=new Promise(function(resolve,reject){setTimeout(function(){_this.detectNetwork().then(function(network){resolve(network)},function(error){reject(error)})},0)}));_this=_super.call(this,network$jscomp$0)||this;url||(url=(0,properties_1.getStatic)(_this.constructor,\"defaultUrl\")());\"string\"===typeof url?(0,properties_1.defineReadOnly)(_this,\n\"connection\",Object.freeze({url})):(0,properties_1.defineReadOnly)(_this,\"connection\",Object.freeze((0,properties_1.shallowCopy)(url)));_this._nextId=42;return _this}__extends(JsonRpcProvider,_super);Object.defineProperty(JsonRpcProvider.prototype,\"_cache\",{get:function(){null==this._eventLoopCache&&(this._eventLoopCache={});return this._eventLoopCache},enumerable:!1,configurable:!0});JsonRpcProvider.defaultUrl=function(){return\"http://localhost:8545\"};JsonRpcProvider.prototype.detectNetwork=function(){var _this=\nthis;this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(function(){_this._cache.detectNetwork=null},0));return this._cache.detectNetwork};JsonRpcProvider.prototype._uncachedDetectNetwork=function(){return __awaiter(this,void 0,void 0,function(){var chainId,getNetwork;return __generator(this,function(_a){switch(_a.label){case 0:return[4,timer(0)];case 1:_a.sent(),chainId=null,_a.label=2;case 2:return _a.trys.push([2,4,,9]),[4,this.send(\"eth_chainId\",[])];\ncase 3:return chainId=_a.sent(),[3,9];case 4:_a.sent(),_a.label=5;case 5:return _a.trys.push([5,7,,8]),[4,this.send(\"net_version\",[])];case 6:return chainId=_a.sent(),[3,8];case 7:return _a.sent(),[3,8];case 8:return[3,9];case 9:if(null!=chainId){getNetwork=(0,properties_1.getStatic)(this.constructor,\"getNetwork\");try{return[2,getNetwork(bignumber_1.BigNumber.from(chainId).toNumber())]}catch(error){return[2,logger.throwError(\"could not detect network\",logger_1.Logger.errors.NETWORK_ERROR,{chainId,\nevent:\"invalidNetwork\",serverError:error})]}}return[2,logger.throwError(\"could not detect network\",logger_1.Logger.errors.NETWORK_ERROR,{event:\"noNetwork\"})]}})})};JsonRpcProvider.prototype.getSigner=function(addressOrIndex){return new JsonRpcSigner(_constructorGuard,this,addressOrIndex)};JsonRpcProvider.prototype.getUncheckedSigner=function(addressOrIndex){return this.getSigner(addressOrIndex).connectUnchecked()};JsonRpcProvider.prototype.listAccounts=function(){var _this=this;return this.send(\"eth_accounts\",\n[]).then(function(accounts){return accounts.map(function(a){return _this.formatter.address(a)})})};JsonRpcProvider.prototype.send=function(method,params){var _this=this,request={method,params,id:this._nextId++,jsonrpc:\"2.0\"};this.emit(\"debug\",{action:\"request\",request:(0,properties_1.deepCopy)(request),provider:this});if((params=0<=[\"eth_chainId\",\"eth_blockNumber\"].indexOf(method))&&this._cache[method])return this._cache[method];var result$jscomp$0=(0,web_1.fetchJson)(this.connection,JSON.stringify(request),\ngetResult).then(function(result){_this.emit(\"debug\",{action:\"response\",request,response:result,provider:_this});return result},function(error){_this.emit(\"debug\",{action:\"response\",error,request,provider:_this});throw error;});params&&(this._cache[method]=result$jscomp$0,setTimeout(function(){_this._cache[method]=null},0));return result$jscomp$0};JsonRpcProvider.prototype.prepareRequest=function(method,params){switch(method){case \"getBlockNumber\":return[\"eth_blockNumber\",[]];case \"getGasPrice\":return[\"eth_gasPrice\",\n[]];case \"getBalance\":return[\"eth_getBalance\",[getLowerCase(params.address),params.blockTag]];case \"getTransactionCount\":return[\"eth_getTransactionCount\",[getLowerCase(params.address),params.blockTag]];case \"getCode\":return[\"eth_getCode\",[getLowerCase(params.address),params.blockTag]];case \"getStorageAt\":return[\"eth_getStorageAt\",[getLowerCase(params.address),(0,bytes_1.hexZeroPad)(params.position,32),params.blockTag]];case \"sendTransaction\":return[\"eth_sendRawTransaction\",[params.signedTransaction]];\ncase \"getBlock\":if(params.blockTag)return[\"eth_getBlockByNumber\",[params.blockTag,!!params.includeTransactions]];if(params.blockHash)return[\"eth_getBlockByHash\",[params.blockHash,!!params.includeTransactions]];break;case \"getTransaction\":return[\"eth_getTransactionByHash\",[params.transactionHash]];case \"getTransactionReceipt\":return[\"eth_getTransactionReceipt\",[params.transactionHash]];case \"call\":return method=(0,properties_1.getStatic)(this.constructor,\"hexlifyTransaction\"),[\"eth_call\",[method(params.transaction,\n{from:!0}),params.blockTag]];case \"estimateGas\":return method=(0,properties_1.getStatic)(this.constructor,\"hexlifyTransaction\"),[\"eth_estimateGas\",[method(params.transaction,{from:!0})]];case \"getLogs\":return params.filter&&null!=params.filter.address&&(params.filter.address=getLowerCase(params.filter.address)),[\"eth_getLogs\",[params.filter]]}return null};JsonRpcProvider.prototype.perform=function(method,params){return __awaiter(this,void 0,void 0,function(){var tx,feeData,args,error_7;return __generator(this,\nfunction(_a){switch(_a.label){case 0:return\"call\"!==method&&\"estimateGas\"!==method?[3,2]:(tx=params.transaction)&&null!=tx.type&&bignumber_1.BigNumber.from(tx.type).isZero()&&null==tx.maxFeePerGas&&null==tx.maxPriorityFeePerGas?[4,this.getFeeData()]:[3,2];case 1:feeData=_a.sent(),null==feeData.maxFeePerGas&&null==feeData.maxPriorityFeePerGas&&(params=(0,properties_1.shallowCopy)(params),params.transaction=(0,properties_1.shallowCopy)(tx),delete params.transaction.type),_a.label=2;case 2:args=this.prepareRequest(method,\nparams),null==args&&logger.throwError(method+\" not implemented\",logger_1.Logger.errors.NOT_IMPLEMENTED,{operation:method}),_a.label=3;case 3:return _a.trys.push([3,5,,6]),[4,this.send(args[0],args[1])];case 4:return[2,_a.sent()];case 5:return error_7=_a.sent(),[2,checkError(method,error_7,params)];case 6:return[2]}})})};JsonRpcProvider.prototype._startEvent=function(event){\"pending\"===event.tag&&this._startPending();_super.prototype._startEvent.call(this,event)};JsonRpcProvider.prototype._startPending=\nfunction(){if(null==this._pendingFilter){var self=this,pendingFilter=this.send(\"eth_newPendingTransactionFilter\",[]);this._pendingFilter=pendingFilter;pendingFilter.then(function(filterId){function poll(){self.send(\"eth_getFilterChanges\",[filterId]).then(function(hashes){if(self._pendingFilter!=pendingFilter)return null;var seq=Promise.resolve();hashes.forEach(function(hash){self._emitted[\"t:\"+hash.toLowerCase()]=\"pending\";seq=seq.then(function(){return self.getTransaction(hash).then(function(tx){self.emit(\"pending\",\ntx);return null})})});return seq.then(function(){return timer(1E3)})}).then(function(){if(self._pendingFilter!=pendingFilter)self.send(\"eth_uninstallFilter\",[filterId]);else return setTimeout(function(){poll()},0),null}).catch(function(error){})}poll();return filterId}).catch(function(error){})}};JsonRpcProvider.prototype._stopEvent=function(event){\"pending\"===event.tag&&0===this.listenerCount(\"pending\")&&(this._pendingFilter=null);_super.prototype._stopEvent.call(this,event)};JsonRpcProvider.hexlifyTransaction=\nfunction(transaction,allowExtra){var allowed=(0,properties_1.shallowCopy)(allowedTransactionKeys);if(allowExtra)for(var key$jscomp$0 in allowExtra)allowExtra[key$jscomp$0]&&(allowed[key$jscomp$0]=!0);(0,properties_1.checkProperties)(transaction,allowed);var result={};\"chainId gasLimit gasPrice type maxFeePerGas maxPriorityFeePerGas nonce value\".split(\" \").forEach(function(key){if(null!=transaction[key]){var value=(0,bytes_1.hexValue)(bignumber_1.BigNumber.from(transaction[key]));\"gasLimit\"===key&&\n(key=\"gas\");result[key]=value}});[\"from\",\"to\",\"data\"].forEach(function(key){null!=transaction[key]&&(result[key]=(0,bytes_1.hexlify)(transaction[key]))});transaction.accessList&&(result.accessList=(0,transactions_1.accessListify)(transaction.accessList));return result};return JsonRpcProvider}(require.BaseProvider);exports.JsonRpcProvider=require}","~:source","shadow$provide[\"module$node_modules$$ethersproject$providers$lib$json_rpc_provider\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = exports.JsonRpcSigner = void 0;\nvar abstract_signer_1 = require(\"@ethersproject/abstract-signer\");\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar hash_1 = require(\"@ethersproject/hash\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar strings_1 = require(\"@ethersproject/strings\");\nvar transactions_1 = require(\"@ethersproject/transactions\");\nvar web_1 = require(\"@ethersproject/web\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nvar base_provider_1 = require(\"./base-provider\");\nvar errorGas = [\"call\", \"estimateGas\"];\nfunction spelunk(value, requireData) {\n    if (value == null) {\n        return null;\n    }\n    // These *are* the droids we're looking for.\n    if (typeof (value.message) === \"string\" && value.message.match(\"reverted\")) {\n        var data = (0, bytes_1.isHexString)(value.data) ? value.data : null;\n        if (!requireData || data) {\n            return { message: value.message, data: data };\n        }\n    }\n    // Spelunk further...\n    if (typeof (value) === \"object\") {\n        for (var key in value) {\n            var result = spelunk(value[key], requireData);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n    // Might be a JSON string we can further descend...\n    if (typeof (value) === \"string\") {\n        try {\n            return spelunk(JSON.parse(value), requireData);\n        }\n        catch (error) { }\n    }\n    return null;\n}\nfunction checkError(method, error, params) {\n    var transaction = params.transaction || params.signedTransaction;\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\n    if (method === \"call\") {\n        var result = spelunk(error, true);\n        if (result) {\n            return result.data;\n        }\n        // Nothing descriptive..\n        logger.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\", logger_1.Logger.errors.CALL_EXCEPTION, {\n            data: \"0x\",\n            transaction: transaction,\n            error: error\n        });\n    }\n    if (method === \"estimateGas\") {\n        // Try to find something, with a preference on SERVER_ERROR body\n        var result = spelunk(error.body, false);\n        if (result == null) {\n            result = spelunk(error, false);\n        }\n        // Found \"reverted\", this is a CALL_EXCEPTION\n        if (result) {\n            logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n                reason: result.message,\n                method: method,\n                transaction: transaction,\n                error: error\n            });\n        }\n    }\n    // @TODO: Should we spelunk for message too?\n    var message = error.message;\n    if (error.code === logger_1.Logger.errors.SERVER_ERROR && error.error && typeof (error.error.message) === \"string\") {\n        message = error.error.message;\n    }\n    else if (typeof (error.body) === \"string\") {\n        message = error.body;\n    }\n    else if (typeof (error.responseText) === \"string\") {\n        message = error.responseText;\n    }\n    message = (message || \"\").toLowerCase();\n    // \"insufficient funds for gas * price + value + cost(data)\"\n    if (message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)) {\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", logger_1.Logger.errors.INSUFFICIENT_FUNDS, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"nonce too low\"\n    if (message.match(/nonce (is )?too low/i)) {\n        logger.throwError(\"nonce has already been used\", logger_1.Logger.errors.NONCE_EXPIRED, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\n        logger.throwError(\"replacement fee too low\", logger_1.Logger.errors.REPLACEMENT_UNDERPRICED, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/only replay-protected/i)) {\n        logger.throwError(\"legacy pre-eip-155 transactions not supported\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)) {\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    throw error;\n}\nfunction timer(timeout) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, timeout);\n    });\n}\nfunction getResult(payload) {\n    if (payload.error) {\n        // @TODO: not any\n        var error = new Error(payload.error.message);\n        error.code = payload.error.code;\n        error.data = payload.error.data;\n        throw error;\n    }\n    return payload.result;\n}\nfunction getLowerCase(value) {\n    if (value) {\n        return value.toLowerCase();\n    }\n    return value;\n}\nvar _constructorGuard = {};\nvar JsonRpcSigner = /** @class */ (function (_super) {\n    __extends(JsonRpcSigner, _super);\n    function JsonRpcSigner(constructorGuard, provider, addressOrIndex) {\n        var _this = _super.call(this) || this;\n        if (constructorGuard !== _constructorGuard) {\n            throw new Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");\n        }\n        (0, properties_1.defineReadOnly)(_this, \"provider\", provider);\n        if (addressOrIndex == null) {\n            addressOrIndex = 0;\n        }\n        if (typeof (addressOrIndex) === \"string\") {\n            (0, properties_1.defineReadOnly)(_this, \"_address\", _this.provider.formatter.address(addressOrIndex));\n            (0, properties_1.defineReadOnly)(_this, \"_index\", null);\n        }\n        else if (typeof (addressOrIndex) === \"number\") {\n            (0, properties_1.defineReadOnly)(_this, \"_index\", addressOrIndex);\n            (0, properties_1.defineReadOnly)(_this, \"_address\", null);\n        }\n        else {\n            logger.throwArgumentError(\"invalid address or index\", \"addressOrIndex\", addressOrIndex);\n        }\n        return _this;\n    }\n    JsonRpcSigner.prototype.connect = function (provider) {\n        return logger.throwError(\"cannot alter JSON-RPC Signer connection\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"connect\"\n        });\n    };\n    JsonRpcSigner.prototype.connectUnchecked = function () {\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\n    };\n    JsonRpcSigner.prototype.getAddress = function () {\n        var _this = this;\n        if (this._address) {\n            return Promise.resolve(this._address);\n        }\n        return this.provider.send(\"eth_accounts\", []).then(function (accounts) {\n            if (accounts.length <= _this._index) {\n                logger.throwError(\"unknown account #\" + _this._index, logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: \"getAddress\"\n                });\n            }\n            return _this.provider.formatter.address(accounts[_this._index]);\n        });\n    };\n    JsonRpcSigner.prototype.sendUncheckedTransaction = function (transaction) {\n        var _this = this;\n        transaction = (0, properties_1.shallowCopy)(transaction);\n        var fromAddress = this.getAddress().then(function (address) {\n            if (address) {\n                address = address.toLowerCase();\n            }\n            return address;\n        });\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\n        // wishes to use this, it is easy to specify explicitly, otherwise\n        // we look it up for them.\n        if (transaction.gasLimit == null) {\n            var estimate = (0, properties_1.shallowCopy)(transaction);\n            estimate.from = fromAddress;\n            transaction.gasLimit = this.provider.estimateGas(estimate);\n        }\n        if (transaction.to != null) {\n            transaction.to = Promise.resolve(transaction.to).then(function (to) { return __awaiter(_this, void 0, void 0, function () {\n                var address;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (to == null) {\n                                return [2 /*return*/, null];\n                            }\n                            return [4 /*yield*/, this.provider.resolveName(to)];\n                        case 1:\n                            address = _a.sent();\n                            if (address == null) {\n                                logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\n                            }\n                            return [2 /*return*/, address];\n                    }\n                });\n            }); });\n        }\n        return (0, properties_1.resolveProperties)({\n            tx: (0, properties_1.resolveProperties)(transaction),\n            sender: fromAddress\n        }).then(function (_a) {\n            var tx = _a.tx, sender = _a.sender;\n            if (tx.from != null) {\n                if (tx.from.toLowerCase() !== sender) {\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\n                }\n            }\n            else {\n                tx.from = sender;\n            }\n            var hexTx = _this.provider.constructor.hexlifyTransaction(tx, { from: true });\n            return _this.provider.send(\"eth_sendTransaction\", [hexTx]).then(function (hash) {\n                return hash;\n            }, function (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected transaction\", logger_1.Logger.errors.ACTION_REJECTED, {\n                        action: \"sendTransaction\",\n                        transaction: tx\n                    });\n                }\n                return checkError(\"sendTransaction\", error, hexTx);\n            });\n        });\n    };\n    JsonRpcSigner.prototype.signTransaction = function (transaction) {\n        return logger.throwError(\"signing transactions is unsupported\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"signTransaction\"\n        });\n    };\n    JsonRpcSigner.prototype.sendTransaction = function (transaction) {\n        return __awaiter(this, void 0, void 0, function () {\n            var blockNumber, hash, error_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval)];\n                    case 1:\n                        blockNumber = _a.sent();\n                        return [4 /*yield*/, this.sendUncheckedTransaction(transaction)];\n                    case 2:\n                        hash = _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, (0, web_1.poll)(function () { return __awaiter(_this, void 0, void 0, function () {\n                                var tx;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, this.provider.getTransaction(hash)];\n                                        case 1:\n                                            tx = _a.sent();\n                                            if (tx === null) {\n                                                return [2 /*return*/, undefined];\n                                            }\n                                            return [2 /*return*/, this.provider._wrapTransaction(tx, hash, blockNumber)];\n                                    }\n                                });\n                            }); }, { oncePoll: this.provider })];\n                    case 4: \n                    // Unfortunately, JSON-RPC only provides and opaque transaction hash\n                    // for a response, and we need the actual transaction, so we poll\n                    // for it; it should show up very quickly\n                    return [2 /*return*/, _a.sent()];\n                    case 5:\n                        error_1 = _a.sent();\n                        error_1.transactionHash = hash;\n                        throw error_1;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype.signMessage = function (message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, address, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        data = ((typeof (message) === \"string\") ? (0, strings_1.toUtf8Bytes)(message) : message);\n                        return [4 /*yield*/, this.getAddress()];\n                    case 1:\n                        address = _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.provider.send(\"personal_sign\", [(0, bytes_1.hexlify)(data), address.toLowerCase()])];\n                    case 3: return [2 /*return*/, _a.sent()];\n                    case 4:\n                        error_2 = _a.sent();\n                        if (typeof (error_2.message) === \"string\" && error_2.message.match(/user denied/i)) {\n                            logger.throwError(\"user rejected signing\", logger_1.Logger.errors.ACTION_REJECTED, {\n                                action: \"signMessage\",\n                                from: address,\n                                messageData: message\n                            });\n                        }\n                        throw error_2;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype._legacySignMessage = function (message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, address, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        data = ((typeof (message) === \"string\") ? (0, strings_1.toUtf8Bytes)(message) : message);\n                        return [4 /*yield*/, this.getAddress()];\n                    case 1:\n                        address = _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.provider.send(\"eth_sign\", [address.toLowerCase(), (0, bytes_1.hexlify)(data)])];\n                    case 3: \n                    // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\n                    return [2 /*return*/, _a.sent()];\n                    case 4:\n                        error_3 = _a.sent();\n                        if (typeof (error_3.message) === \"string\" && error_3.message.match(/user denied/i)) {\n                            logger.throwError(\"user rejected signing\", logger_1.Logger.errors.ACTION_REJECTED, {\n                                action: \"_legacySignMessage\",\n                                from: address,\n                                messageData: message\n                            });\n                        }\n                        throw error_3;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype._signTypedData = function (domain, types, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            var populated, address, error_4;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, hash_1._TypedDataEncoder.resolveNames(domain, types, value, function (name) {\n                            return _this.provider.resolveName(name);\n                        })];\n                    case 1:\n                        populated = _a.sent();\n                        return [4 /*yield*/, this.getAddress()];\n                    case 2:\n                        address = _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, this.provider.send(\"eth_signTypedData_v4\", [\n                                address.toLowerCase(),\n                                JSON.stringify(hash_1._TypedDataEncoder.getPayload(populated.domain, types, populated.value))\n                            ])];\n                    case 4: return [2 /*return*/, _a.sent()];\n                    case 5:\n                        error_4 = _a.sent();\n                        if (typeof (error_4.message) === \"string\" && error_4.message.match(/user denied/i)) {\n                            logger.throwError(\"user rejected signing\", logger_1.Logger.errors.ACTION_REJECTED, {\n                                action: \"_signTypedData\",\n                                from: address,\n                                messageData: { domain: populated.domain, types: types, value: populated.value }\n                            });\n                        }\n                        throw error_4;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype.unlock = function (password) {\n        return __awaiter(this, void 0, void 0, function () {\n            var provider, address;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        provider = this.provider;\n                        return [4 /*yield*/, this.getAddress()];\n                    case 1:\n                        address = _a.sent();\n                        return [2 /*return*/, provider.send(\"personal_unlockAccount\", [address.toLowerCase(), password, null])];\n                }\n            });\n        });\n    };\n    return JsonRpcSigner;\n}(abstract_signer_1.Signer));\nexports.JsonRpcSigner = JsonRpcSigner;\nvar UncheckedJsonRpcSigner = /** @class */ (function (_super) {\n    __extends(UncheckedJsonRpcSigner, _super);\n    function UncheckedJsonRpcSigner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    UncheckedJsonRpcSigner.prototype.sendTransaction = function (transaction) {\n        var _this = this;\n        return this.sendUncheckedTransaction(transaction).then(function (hash) {\n            return {\n                hash: hash,\n                nonce: null,\n                gasLimit: null,\n                gasPrice: null,\n                data: null,\n                value: null,\n                chainId: null,\n                confirmations: 0,\n                from: null,\n                wait: function (confirmations) { return _this.provider.waitForTransaction(hash, confirmations); }\n            };\n        });\n    };\n    return UncheckedJsonRpcSigner;\n}(JsonRpcSigner));\nvar allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true,\n    type: true, accessList: true,\n    maxFeePerGas: true, maxPriorityFeePerGas: true\n};\nvar JsonRpcProvider = /** @class */ (function (_super) {\n    __extends(JsonRpcProvider, _super);\n    function JsonRpcProvider(url, network) {\n        var _this = this;\n        var networkOrReady = network;\n        // The network is unknown, query the JSON-RPC for it\n        if (networkOrReady == null) {\n            networkOrReady = new Promise(function (resolve, reject) {\n                setTimeout(function () {\n                    _this.detectNetwork().then(function (network) {\n                        resolve(network);\n                    }, function (error) {\n                        reject(error);\n                    });\n                }, 0);\n            });\n        }\n        _this = _super.call(this, networkOrReady) || this;\n        // Default URL\n        if (!url) {\n            url = (0, properties_1.getStatic)(_this.constructor, \"defaultUrl\")();\n        }\n        if (typeof (url) === \"string\") {\n            (0, properties_1.defineReadOnly)(_this, \"connection\", Object.freeze({\n                url: url\n            }));\n        }\n        else {\n            (0, properties_1.defineReadOnly)(_this, \"connection\", Object.freeze((0, properties_1.shallowCopy)(url)));\n        }\n        _this._nextId = 42;\n        return _this;\n    }\n    Object.defineProperty(JsonRpcProvider.prototype, \"_cache\", {\n        get: function () {\n            if (this._eventLoopCache == null) {\n                this._eventLoopCache = {};\n            }\n            return this._eventLoopCache;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    JsonRpcProvider.defaultUrl = function () {\n        return \"http:/\\/localhost:8545\";\n    };\n    JsonRpcProvider.prototype.detectNetwork = function () {\n        var _this = this;\n        if (!this._cache[\"detectNetwork\"]) {\n            this._cache[\"detectNetwork\"] = this._uncachedDetectNetwork();\n            // Clear this cache at the beginning of the next event loop\n            setTimeout(function () {\n                _this._cache[\"detectNetwork\"] = null;\n            }, 0);\n        }\n        return this._cache[\"detectNetwork\"];\n    };\n    JsonRpcProvider.prototype._uncachedDetectNetwork = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var chainId, error_5, error_6, getNetwork;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, timer(0)];\n                    case 1:\n                        _a.sent();\n                        chainId = null;\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 9]);\n                        return [4 /*yield*/, this.send(\"eth_chainId\", [])];\n                    case 3:\n                        chainId = _a.sent();\n                        return [3 /*break*/, 9];\n                    case 4:\n                        error_5 = _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        _a.trys.push([5, 7, , 8]);\n                        return [4 /*yield*/, this.send(\"net_version\", [])];\n                    case 6:\n                        chainId = _a.sent();\n                        return [3 /*break*/, 8];\n                    case 7:\n                        error_6 = _a.sent();\n                        return [3 /*break*/, 8];\n                    case 8: return [3 /*break*/, 9];\n                    case 9:\n                        if (chainId != null) {\n                            getNetwork = (0, properties_1.getStatic)(this.constructor, \"getNetwork\");\n                            try {\n                                return [2 /*return*/, getNetwork(bignumber_1.BigNumber.from(chainId).toNumber())];\n                            }\n                            catch (error) {\n                                return [2 /*return*/, logger.throwError(\"could not detect network\", logger_1.Logger.errors.NETWORK_ERROR, {\n                                        chainId: chainId,\n                                        event: \"invalidNetwork\",\n                                        serverError: error\n                                    })];\n                            }\n                        }\n                        return [2 /*return*/, logger.throwError(\"could not detect network\", logger_1.Logger.errors.NETWORK_ERROR, {\n                                event: \"noNetwork\"\n                            })];\n                }\n            });\n        });\n    };\n    JsonRpcProvider.prototype.getSigner = function (addressOrIndex) {\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\n    };\n    JsonRpcProvider.prototype.getUncheckedSigner = function (addressOrIndex) {\n        return this.getSigner(addressOrIndex).connectUnchecked();\n    };\n    JsonRpcProvider.prototype.listAccounts = function () {\n        var _this = this;\n        return this.send(\"eth_accounts\", []).then(function (accounts) {\n            return accounts.map(function (a) { return _this.formatter.address(a); });\n        });\n    };\n    JsonRpcProvider.prototype.send = function (method, params) {\n        var _this = this;\n        var request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        this.emit(\"debug\", {\n            action: \"request\",\n            request: (0, properties_1.deepCopy)(request),\n            provider: this\n        });\n        // We can expand this in the future to any call, but for now these\n        // are the biggest wins and do not require any serializing parameters.\n        var cache = ([\"eth_chainId\", \"eth_blockNumber\"].indexOf(method) >= 0);\n        if (cache && this._cache[method]) {\n            return this._cache[method];\n        }\n        var result = (0, web_1.fetchJson)(this.connection, JSON.stringify(request), getResult).then(function (result) {\n            _this.emit(\"debug\", {\n                action: \"response\",\n                request: request,\n                response: result,\n                provider: _this\n            });\n            return result;\n        }, function (error) {\n            _this.emit(\"debug\", {\n                action: \"response\",\n                error: error,\n                request: request,\n                provider: _this\n            });\n            throw error;\n        });\n        // Cache the fetch, but clear it on the next event loop\n        if (cache) {\n            this._cache[method] = result;\n            setTimeout(function () {\n                _this._cache[method] = null;\n            }, 0);\n        }\n        return result;\n    };\n    JsonRpcProvider.prototype.prepareRequest = function (method, params) {\n        switch (method) {\n            case \"getBlockNumber\":\n                return [\"eth_blockNumber\", []];\n            case \"getGasPrice\":\n                return [\"eth_gasPrice\", []];\n            case \"getBalance\":\n                return [\"eth_getBalance\", [getLowerCase(params.address), params.blockTag]];\n            case \"getTransactionCount\":\n                return [\"eth_getTransactionCount\", [getLowerCase(params.address), params.blockTag]];\n            case \"getCode\":\n                return [\"eth_getCode\", [getLowerCase(params.address), params.blockTag]];\n            case \"getStorageAt\":\n                return [\"eth_getStorageAt\", [getLowerCase(params.address), (0, bytes_1.hexZeroPad)(params.position, 32), params.blockTag]];\n            case \"sendTransaction\":\n                return [\"eth_sendRawTransaction\", [params.signedTransaction]];\n            case \"getBlock\":\n                if (params.blockTag) {\n                    return [\"eth_getBlockByNumber\", [params.blockTag, !!params.includeTransactions]];\n                }\n                else if (params.blockHash) {\n                    return [\"eth_getBlockByHash\", [params.blockHash, !!params.includeTransactions]];\n                }\n                return null;\n            case \"getTransaction\":\n                return [\"eth_getTransactionByHash\", [params.transactionHash]];\n            case \"getTransactionReceipt\":\n                return [\"eth_getTransactionReceipt\", [params.transactionHash]];\n            case \"call\": {\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_call\", [hexlifyTransaction(params.transaction, { from: true }), params.blockTag]];\n            }\n            case \"estimateGas\": {\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_estimateGas\", [hexlifyTransaction(params.transaction, { from: true })]];\n            }\n            case \"getLogs\":\n                if (params.filter && params.filter.address != null) {\n                    params.filter.address = getLowerCase(params.filter.address);\n                }\n                return [\"eth_getLogs\", [params.filter]];\n            default:\n                break;\n        }\n        return null;\n    };\n    JsonRpcProvider.prototype.perform = function (method, params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tx, feeData, args, error_7;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(method === \"call\" || method === \"estimateGas\")) return [3 /*break*/, 2];\n                        tx = params.transaction;\n                        if (!(tx && tx.type != null && bignumber_1.BigNumber.from(tx.type).isZero())) return [3 /*break*/, 2];\n                        if (!(tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.getFeeData()];\n                    case 1:\n                        feeData = _a.sent();\n                        if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\n                            // Network doesn't know about EIP-1559 (and hence type)\n                            params = (0, properties_1.shallowCopy)(params);\n                            params.transaction = (0, properties_1.shallowCopy)(tx);\n                            delete params.transaction.type;\n                        }\n                        _a.label = 2;\n                    case 2:\n                        args = this.prepareRequest(method, params);\n                        if (args == null) {\n                            logger.throwError(method + \" not implemented\", logger_1.Logger.errors.NOT_IMPLEMENTED, { operation: method });\n                        }\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, this.send(args[0], args[1])];\n                    case 4: return [2 /*return*/, _a.sent()];\n                    case 5:\n                        error_7 = _a.sent();\n                        return [2 /*return*/, checkError(method, error_7, params)];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcProvider.prototype._startEvent = function (event) {\n        if (event.tag === \"pending\") {\n            this._startPending();\n        }\n        _super.prototype._startEvent.call(this, event);\n    };\n    JsonRpcProvider.prototype._startPending = function () {\n        if (this._pendingFilter != null) {\n            return;\n        }\n        var self = this;\n        var pendingFilter = this.send(\"eth_newPendingTransactionFilter\", []);\n        this._pendingFilter = pendingFilter;\n        pendingFilter.then(function (filterId) {\n            function poll() {\n                self.send(\"eth_getFilterChanges\", [filterId]).then(function (hashes) {\n                    if (self._pendingFilter != pendingFilter) {\n                        return null;\n                    }\n                    var seq = Promise.resolve();\n                    hashes.forEach(function (hash) {\n                        // @TODO: This should be garbage collected at some point... How? When?\n                        self._emitted[\"t:\" + hash.toLowerCase()] = \"pending\";\n                        seq = seq.then(function () {\n                            return self.getTransaction(hash).then(function (tx) {\n                                self.emit(\"pending\", tx);\n                                return null;\n                            });\n                        });\n                    });\n                    return seq.then(function () {\n                        return timer(1000);\n                    });\n                }).then(function () {\n                    if (self._pendingFilter != pendingFilter) {\n                        self.send(\"eth_uninstallFilter\", [filterId]);\n                        return;\n                    }\n                    setTimeout(function () { poll(); }, 0);\n                    return null;\n                }).catch(function (error) { });\n            }\n            poll();\n            return filterId;\n        }).catch(function (error) { });\n    };\n    JsonRpcProvider.prototype._stopEvent = function (event) {\n        if (event.tag === \"pending\" && this.listenerCount(\"pending\") === 0) {\n            this._pendingFilter = null;\n        }\n        _super.prototype._stopEvent.call(this, event);\n    };\n    // Convert an ethers.js transaction into a JSON-RPC transaction\n    //  - gasLimit => gas\n    //  - All values hexlified\n    //  - All numeric values zero-striped\n    //  - All addresses are lowercased\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\n    //       before this is called\n    // @TODO: This will likely be removed in future versions and prepareRequest\n    //        will be the preferred method for this.\n    JsonRpcProvider.hexlifyTransaction = function (transaction, allowExtra) {\n        // Check only allowed properties are given\n        var allowed = (0, properties_1.shallowCopy)(allowedTransactionKeys);\n        if (allowExtra) {\n            for (var key in allowExtra) {\n                if (allowExtra[key]) {\n                    allowed[key] = true;\n                }\n            }\n        }\n        (0, properties_1.checkProperties)(transaction, allowed);\n        var result = {};\n        // JSON-RPC now requires numeric values to be \"quantity\" values\n        [\"chainId\", \"gasLimit\", \"gasPrice\", \"type\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"value\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            var value = (0, bytes_1.hexValue)(bignumber_1.BigNumber.from(transaction[key]));\n            if (key === \"gasLimit\") {\n                key = \"gas\";\n            }\n            result[key] = value;\n        });\n        [\"from\", \"to\", \"data\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            result[key] = (0, bytes_1.hexlify)(transaction[key]);\n        });\n        if (transaction.accessList) {\n            result[\"accessList\"] = (0, transactions_1.accessListify)(transaction.accessList);\n        }\n        return result;\n    };\n    return JsonRpcProvider;\n}(base_provider_1.BaseProvider));\nexports.JsonRpcProvider = JsonRpcProvider;\n//# sourceMappingURL=json-rpc-provider.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$ethersproject$providers$lib$base_provider","~$module$node_modules$$ethersproject$abstract_signer$lib$index","~$module$node_modules$$ethersproject$strings$lib$index","~$shadow.js","~$module$node_modules$$ethersproject$bytes$lib$index","~$module$node_modules$$ethersproject$providers$lib$_version","~$module$node_modules$$ethersproject$bignumber$lib$index","~$module$node_modules$$ethersproject$transactions$lib$index","~$module$node_modules$$ethersproject$web$lib$index","~$module$node_modules$$ethersproject$logger$lib$index","~$module$node_modules$$ethersproject$properties$lib$index","~$module$node_modules$$ethersproject$hash$lib$index"]],"~:properties",["^5",["gasLimit","sent","message","_pendingFilter","defaultUrl","serverError","prepareRequest","_startPending","url","next","chainId","transaction","gasPrice","_startEvent","confirmations","params","prototype","accessList","send","unlock","sendUncheckedTransaction","hash","label","ops","method","__esModule","signTransaction","error","id","_eventLoopCache","getAddress","event","types","_cache","_stopEvent","getSigner","_nextId","provider","configurable","maxPriorityFeePerGas","_signTypedData","maxFeePerGas","value","connect","enumerable","address","connectUnchecked","hexlifyTransaction","wait","sendTransaction","request","operation","_legacySignMessage","action","domain","trys","tx","perform","transactionHash","type","listAccounts","__proto__","JsonRpcProvider","from","reason","response","nonce","oncePoll","jsonrpc","messageData","getUncheckedSigner","sender","to","detectNetwork","data","get","JsonRpcSigner","signMessage","code","done","_uncachedDetectNetwork","constructor"]],"~:compiled-at",1695040653787,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$ethersproject$providers$lib$json_rpc_provider.js\",\n\"lineCount\":43,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@ethersproject/providers/lib/json-rpc-provider.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$ethersproject$providers$lib$json_rpc_provider\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        if (typeof b !== \\\"function\\\" && b !== null)\\n            throw new TypeError(\\\"Class extends value \\\" + String(b) + \\\" is not a constructor or null\\\");\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nvar __generator = (this && this.__generator) || function (thisArg, body) {\\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\\n    return g = { next: verb(0), \\\"throw\\\": verb(1), \\\"return\\\": verb(2) }, typeof Symbol === \\\"function\\\" && (g[Symbol.iterator] = function() { return this; }), g;\\n    function verb(n) { return function (v) { return step([n, v]); }; }\\n    function step(op) {\\n        if (f) throw new TypeError(\\\"Generator is already executing.\\\");\\n        while (_) try {\\n            if (f = 1, y && (t = op[0] & 2 ? y[\\\"return\\\"] : op[0] ? y[\\\"throw\\\"] || ((t = y[\\\"return\\\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\\n            if (y = 0, t) op = [op[0] & 2, t.value];\\n            switch (op[0]) {\\n                case 0: case 1: t = op; break;\\n                case 4: _.label++; return { value: op[1], done: false };\\n                case 5: _.label++; y = op[1]; op = [0]; continue;\\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\\n                default:\\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\\n                    if (t[2]) _.ops.pop();\\n                    _.trys.pop(); continue;\\n            }\\n            op = body.call(thisArg, _);\\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\\n    }\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.JsonRpcProvider = exports.JsonRpcSigner = void 0;\\nvar abstract_signer_1 = require(\\\"@ethersproject/abstract-signer\\\");\\nvar bignumber_1 = require(\\\"@ethersproject/bignumber\\\");\\nvar bytes_1 = require(\\\"@ethersproject/bytes\\\");\\nvar hash_1 = require(\\\"@ethersproject/hash\\\");\\nvar properties_1 = require(\\\"@ethersproject/properties\\\");\\nvar strings_1 = require(\\\"@ethersproject/strings\\\");\\nvar transactions_1 = require(\\\"@ethersproject/transactions\\\");\\nvar web_1 = require(\\\"@ethersproject/web\\\");\\nvar logger_1 = require(\\\"@ethersproject/logger\\\");\\nvar _version_1 = require(\\\"./_version\\\");\\nvar logger = new logger_1.Logger(_version_1.version);\\nvar base_provider_1 = require(\\\"./base-provider\\\");\\nvar errorGas = [\\\"call\\\", \\\"estimateGas\\\"];\\nfunction spelunk(value, requireData) {\\n    if (value == null) {\\n        return null;\\n    }\\n    // These *are* the droids we're looking for.\\n    if (typeof (value.message) === \\\"string\\\" && value.message.match(\\\"reverted\\\")) {\\n        var data = (0, bytes_1.isHexString)(value.data) ? value.data : null;\\n        if (!requireData || data) {\\n            return { message: value.message, data: data };\\n        }\\n    }\\n    // Spelunk further...\\n    if (typeof (value) === \\\"object\\\") {\\n        for (var key in value) {\\n            var result = spelunk(value[key], requireData);\\n            if (result) {\\n                return result;\\n            }\\n        }\\n        return null;\\n    }\\n    // Might be a JSON string we can further descend...\\n    if (typeof (value) === \\\"string\\\") {\\n        try {\\n            return spelunk(JSON.parse(value), requireData);\\n        }\\n        catch (error) { }\\n    }\\n    return null;\\n}\\nfunction checkError(method, error, params) {\\n    var transaction = params.transaction || params.signedTransaction;\\n    // Undo the \\\"convenience\\\" some nodes are attempting to prevent backwards\\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\\n    if (method === \\\"call\\\") {\\n        var result = spelunk(error, true);\\n        if (result) {\\n            return result.data;\\n        }\\n        // Nothing descriptive..\\n        logger.throwError(\\\"missing revert data in call exception; Transaction reverted without a reason string\\\", logger_1.Logger.errors.CALL_EXCEPTION, {\\n            data: \\\"0x\\\",\\n            transaction: transaction,\\n            error: error\\n        });\\n    }\\n    if (method === \\\"estimateGas\\\") {\\n        // Try to find something, with a preference on SERVER_ERROR body\\n        var result = spelunk(error.body, false);\\n        if (result == null) {\\n            result = spelunk(error, false);\\n        }\\n        // Found \\\"reverted\\\", this is a CALL_EXCEPTION\\n        if (result) {\\n            logger.throwError(\\\"cannot estimate gas; transaction may fail or may require manual gas limit\\\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\\n                reason: result.message,\\n                method: method,\\n                transaction: transaction,\\n                error: error\\n            });\\n        }\\n    }\\n    // @TODO: Should we spelunk for message too?\\n    var message = error.message;\\n    if (error.code === logger_1.Logger.errors.SERVER_ERROR && error.error && typeof (error.error.message) === \\\"string\\\") {\\n        message = error.error.message;\\n    }\\n    else if (typeof (error.body) === \\\"string\\\") {\\n        message = error.body;\\n    }\\n    else if (typeof (error.responseText) === \\\"string\\\") {\\n        message = error.responseText;\\n    }\\n    message = (message || \\\"\\\").toLowerCase();\\n    // \\\"insufficient funds for gas * price + value + cost(data)\\\"\\n    if (message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)) {\\n        logger.throwError(\\\"insufficient funds for intrinsic transaction cost\\\", logger_1.Logger.errors.INSUFFICIENT_FUNDS, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"nonce too low\\\"\\n    if (message.match(/nonce (is )?too low/i)) {\\n        logger.throwError(\\\"nonce has already been used\\\", logger_1.Logger.errors.NONCE_EXPIRED, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"replacement transaction underpriced\\\"\\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\\n        logger.throwError(\\\"replacement fee too low\\\", logger_1.Logger.errors.REPLACEMENT_UNDERPRICED, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"replacement transaction underpriced\\\"\\n    if (message.match(/only replay-protected/i)) {\\n        logger.throwError(\\\"legacy pre-eip-155 transactions not supported\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)) {\\n        logger.throwError(\\\"cannot estimate gas; transaction may fail or may require manual gas limit\\\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    throw error;\\n}\\nfunction timer(timeout) {\\n    return new Promise(function (resolve) {\\n        setTimeout(resolve, timeout);\\n    });\\n}\\nfunction getResult(payload) {\\n    if (payload.error) {\\n        // @TODO: not any\\n        var error = new Error(payload.error.message);\\n        error.code = payload.error.code;\\n        error.data = payload.error.data;\\n        throw error;\\n    }\\n    return payload.result;\\n}\\nfunction getLowerCase(value) {\\n    if (value) {\\n        return value.toLowerCase();\\n    }\\n    return value;\\n}\\nvar _constructorGuard = {};\\nvar JsonRpcSigner = /** @class */ (function (_super) {\\n    __extends(JsonRpcSigner, _super);\\n    function JsonRpcSigner(constructorGuard, provider, addressOrIndex) {\\n        var _this = _super.call(this) || this;\\n        if (constructorGuard !== _constructorGuard) {\\n            throw new Error(\\\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\\\");\\n        }\\n        (0, properties_1.defineReadOnly)(_this, \\\"provider\\\", provider);\\n        if (addressOrIndex == null) {\\n            addressOrIndex = 0;\\n        }\\n        if (typeof (addressOrIndex) === \\\"string\\\") {\\n            (0, properties_1.defineReadOnly)(_this, \\\"_address\\\", _this.provider.formatter.address(addressOrIndex));\\n            (0, properties_1.defineReadOnly)(_this, \\\"_index\\\", null);\\n        }\\n        else if (typeof (addressOrIndex) === \\\"number\\\") {\\n            (0, properties_1.defineReadOnly)(_this, \\\"_index\\\", addressOrIndex);\\n            (0, properties_1.defineReadOnly)(_this, \\\"_address\\\", null);\\n        }\\n        else {\\n            logger.throwArgumentError(\\\"invalid address or index\\\", \\\"addressOrIndex\\\", addressOrIndex);\\n        }\\n        return _this;\\n    }\\n    JsonRpcSigner.prototype.connect = function (provider) {\\n        return logger.throwError(\\\"cannot alter JSON-RPC Signer connection\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n            operation: \\\"connect\\\"\\n        });\\n    };\\n    JsonRpcSigner.prototype.connectUnchecked = function () {\\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\\n    };\\n    JsonRpcSigner.prototype.getAddress = function () {\\n        var _this = this;\\n        if (this._address) {\\n            return Promise.resolve(this._address);\\n        }\\n        return this.provider.send(\\\"eth_accounts\\\", []).then(function (accounts) {\\n            if (accounts.length <= _this._index) {\\n                logger.throwError(\\\"unknown account #\\\" + _this._index, logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n                    operation: \\\"getAddress\\\"\\n                });\\n            }\\n            return _this.provider.formatter.address(accounts[_this._index]);\\n        });\\n    };\\n    JsonRpcSigner.prototype.sendUncheckedTransaction = function (transaction) {\\n        var _this = this;\\n        transaction = (0, properties_1.shallowCopy)(transaction);\\n        var fromAddress = this.getAddress().then(function (address) {\\n            if (address) {\\n                address = address.toLowerCase();\\n            }\\n            return address;\\n        });\\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\\n        // wishes to use this, it is easy to specify explicitly, otherwise\\n        // we look it up for them.\\n        if (transaction.gasLimit == null) {\\n            var estimate = (0, properties_1.shallowCopy)(transaction);\\n            estimate.from = fromAddress;\\n            transaction.gasLimit = this.provider.estimateGas(estimate);\\n        }\\n        if (transaction.to != null) {\\n            transaction.to = Promise.resolve(transaction.to).then(function (to) { return __awaiter(_this, void 0, void 0, function () {\\n                var address;\\n                return __generator(this, function (_a) {\\n                    switch (_a.label) {\\n                        case 0:\\n                            if (to == null) {\\n                                return [2 /*return*/, null];\\n                            }\\n                            return [4 /*yield*/, this.provider.resolveName(to)];\\n                        case 1:\\n                            address = _a.sent();\\n                            if (address == null) {\\n                                logger.throwArgumentError(\\\"provided ENS name resolves to null\\\", \\\"tx.to\\\", to);\\n                            }\\n                            return [2 /*return*/, address];\\n                    }\\n                });\\n            }); });\\n        }\\n        return (0, properties_1.resolveProperties)({\\n            tx: (0, properties_1.resolveProperties)(transaction),\\n            sender: fromAddress\\n        }).then(function (_a) {\\n            var tx = _a.tx, sender = _a.sender;\\n            if (tx.from != null) {\\n                if (tx.from.toLowerCase() !== sender) {\\n                    logger.throwArgumentError(\\\"from address mismatch\\\", \\\"transaction\\\", transaction);\\n                }\\n            }\\n            else {\\n                tx.from = sender;\\n            }\\n            var hexTx = _this.provider.constructor.hexlifyTransaction(tx, { from: true });\\n            return _this.provider.send(\\\"eth_sendTransaction\\\", [hexTx]).then(function (hash) {\\n                return hash;\\n            }, function (error) {\\n                if (typeof (error.message) === \\\"string\\\" && error.message.match(/user denied/i)) {\\n                    logger.throwError(\\\"user rejected transaction\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                        action: \\\"sendTransaction\\\",\\n                        transaction: tx\\n                    });\\n                }\\n                return checkError(\\\"sendTransaction\\\", error, hexTx);\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype.signTransaction = function (transaction) {\\n        return logger.throwError(\\\"signing transactions is unsupported\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n            operation: \\\"signTransaction\\\"\\n        });\\n    };\\n    JsonRpcSigner.prototype.sendTransaction = function (transaction) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var blockNumber, hash, error_1;\\n            var _this = this;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0: return [4 /*yield*/, this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval)];\\n                    case 1:\\n                        blockNumber = _a.sent();\\n                        return [4 /*yield*/, this.sendUncheckedTransaction(transaction)];\\n                    case 2:\\n                        hash = _a.sent();\\n                        _a.label = 3;\\n                    case 3:\\n                        _a.trys.push([3, 5, , 6]);\\n                        return [4 /*yield*/, (0, web_1.poll)(function () { return __awaiter(_this, void 0, void 0, function () {\\n                                var tx;\\n                                return __generator(this, function (_a) {\\n                                    switch (_a.label) {\\n                                        case 0: return [4 /*yield*/, this.provider.getTransaction(hash)];\\n                                        case 1:\\n                                            tx = _a.sent();\\n                                            if (tx === null) {\\n                                                return [2 /*return*/, undefined];\\n                                            }\\n                                            return [2 /*return*/, this.provider._wrapTransaction(tx, hash, blockNumber)];\\n                                    }\\n                                });\\n                            }); }, { oncePoll: this.provider })];\\n                    case 4: \\n                    // Unfortunately, JSON-RPC only provides and opaque transaction hash\\n                    // for a response, and we need the actual transaction, so we poll\\n                    // for it; it should show up very quickly\\n                    return [2 /*return*/, _a.sent()];\\n                    case 5:\\n                        error_1 = _a.sent();\\n                        error_1.transactionHash = hash;\\n                        throw error_1;\\n                    case 6: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype.signMessage = function (message) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var data, address, error_2;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        data = ((typeof (message) === \\\"string\\\") ? (0, strings_1.toUtf8Bytes)(message) : message);\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 1:\\n                        address = _a.sent();\\n                        _a.label = 2;\\n                    case 2:\\n                        _a.trys.push([2, 4, , 5]);\\n                        return [4 /*yield*/, this.provider.send(\\\"personal_sign\\\", [(0, bytes_1.hexlify)(data), address.toLowerCase()])];\\n                    case 3: return [2 /*return*/, _a.sent()];\\n                    case 4:\\n                        error_2 = _a.sent();\\n                        if (typeof (error_2.message) === \\\"string\\\" && error_2.message.match(/user denied/i)) {\\n                            logger.throwError(\\\"user rejected signing\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                                action: \\\"signMessage\\\",\\n                                from: address,\\n                                messageData: message\\n                            });\\n                        }\\n                        throw error_2;\\n                    case 5: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype._legacySignMessage = function (message) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var data, address, error_3;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        data = ((typeof (message) === \\\"string\\\") ? (0, strings_1.toUtf8Bytes)(message) : message);\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 1:\\n                        address = _a.sent();\\n                        _a.label = 2;\\n                    case 2:\\n                        _a.trys.push([2, 4, , 5]);\\n                        return [4 /*yield*/, this.provider.send(\\\"eth_sign\\\", [address.toLowerCase(), (0, bytes_1.hexlify)(data)])];\\n                    case 3: \\n                    // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\\n                    return [2 /*return*/, _a.sent()];\\n                    case 4:\\n                        error_3 = _a.sent();\\n                        if (typeof (error_3.message) === \\\"string\\\" && error_3.message.match(/user denied/i)) {\\n                            logger.throwError(\\\"user rejected signing\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                                action: \\\"_legacySignMessage\\\",\\n                                from: address,\\n                                messageData: message\\n                            });\\n                        }\\n                        throw error_3;\\n                    case 5: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype._signTypedData = function (domain, types, value) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var populated, address, error_4;\\n            var _this = this;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0: return [4 /*yield*/, hash_1._TypedDataEncoder.resolveNames(domain, types, value, function (name) {\\n                            return _this.provider.resolveName(name);\\n                        })];\\n                    case 1:\\n                        populated = _a.sent();\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 2:\\n                        address = _a.sent();\\n                        _a.label = 3;\\n                    case 3:\\n                        _a.trys.push([3, 5, , 6]);\\n                        return [4 /*yield*/, this.provider.send(\\\"eth_signTypedData_v4\\\", [\\n                                address.toLowerCase(),\\n                                JSON.stringify(hash_1._TypedDataEncoder.getPayload(populated.domain, types, populated.value))\\n                            ])];\\n                    case 4: return [2 /*return*/, _a.sent()];\\n                    case 5:\\n                        error_4 = _a.sent();\\n                        if (typeof (error_4.message) === \\\"string\\\" && error_4.message.match(/user denied/i)) {\\n                            logger.throwError(\\\"user rejected signing\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                                action: \\\"_signTypedData\\\",\\n                                from: address,\\n                                messageData: { domain: populated.domain, types: types, value: populated.value }\\n                            });\\n                        }\\n                        throw error_4;\\n                    case 6: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype.unlock = function (password) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var provider, address;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        provider = this.provider;\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 1:\\n                        address = _a.sent();\\n                        return [2 /*return*/, provider.send(\\\"personal_unlockAccount\\\", [address.toLowerCase(), password, null])];\\n                }\\n            });\\n        });\\n    };\\n    return JsonRpcSigner;\\n}(abstract_signer_1.Signer));\\nexports.JsonRpcSigner = JsonRpcSigner;\\nvar UncheckedJsonRpcSigner = /** @class */ (function (_super) {\\n    __extends(UncheckedJsonRpcSigner, _super);\\n    function UncheckedJsonRpcSigner() {\\n        return _super !== null && _super.apply(this, arguments) || this;\\n    }\\n    UncheckedJsonRpcSigner.prototype.sendTransaction = function (transaction) {\\n        var _this = this;\\n        return this.sendUncheckedTransaction(transaction).then(function (hash) {\\n            return {\\n                hash: hash,\\n                nonce: null,\\n                gasLimit: null,\\n                gasPrice: null,\\n                data: null,\\n                value: null,\\n                chainId: null,\\n                confirmations: 0,\\n                from: null,\\n                wait: function (confirmations) { return _this.provider.waitForTransaction(hash, confirmations); }\\n            };\\n        });\\n    };\\n    return UncheckedJsonRpcSigner;\\n}(JsonRpcSigner));\\nvar allowedTransactionKeys = {\\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true,\\n    type: true, accessList: true,\\n    maxFeePerGas: true, maxPriorityFeePerGas: true\\n};\\nvar JsonRpcProvider = /** @class */ (function (_super) {\\n    __extends(JsonRpcProvider, _super);\\n    function JsonRpcProvider(url, network) {\\n        var _this = this;\\n        var networkOrReady = network;\\n        // The network is unknown, query the JSON-RPC for it\\n        if (networkOrReady == null) {\\n            networkOrReady = new Promise(function (resolve, reject) {\\n                setTimeout(function () {\\n                    _this.detectNetwork().then(function (network) {\\n                        resolve(network);\\n                    }, function (error) {\\n                        reject(error);\\n                    });\\n                }, 0);\\n            });\\n        }\\n        _this = _super.call(this, networkOrReady) || this;\\n        // Default URL\\n        if (!url) {\\n            url = (0, properties_1.getStatic)(_this.constructor, \\\"defaultUrl\\\")();\\n        }\\n        if (typeof (url) === \\\"string\\\") {\\n            (0, properties_1.defineReadOnly)(_this, \\\"connection\\\", Object.freeze({\\n                url: url\\n            }));\\n        }\\n        else {\\n            (0, properties_1.defineReadOnly)(_this, \\\"connection\\\", Object.freeze((0, properties_1.shallowCopy)(url)));\\n        }\\n        _this._nextId = 42;\\n        return _this;\\n    }\\n    Object.defineProperty(JsonRpcProvider.prototype, \\\"_cache\\\", {\\n        get: function () {\\n            if (this._eventLoopCache == null) {\\n                this._eventLoopCache = {};\\n            }\\n            return this._eventLoopCache;\\n        },\\n        enumerable: false,\\n        configurable: true\\n    });\\n    JsonRpcProvider.defaultUrl = function () {\\n        return \\\"http:/\\\\/localhost:8545\\\";\\n    };\\n    JsonRpcProvider.prototype.detectNetwork = function () {\\n        var _this = this;\\n        if (!this._cache[\\\"detectNetwork\\\"]) {\\n            this._cache[\\\"detectNetwork\\\"] = this._uncachedDetectNetwork();\\n            // Clear this cache at the beginning of the next event loop\\n            setTimeout(function () {\\n                _this._cache[\\\"detectNetwork\\\"] = null;\\n            }, 0);\\n        }\\n        return this._cache[\\\"detectNetwork\\\"];\\n    };\\n    JsonRpcProvider.prototype._uncachedDetectNetwork = function () {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var chainId, error_5, error_6, getNetwork;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0: return [4 /*yield*/, timer(0)];\\n                    case 1:\\n                        _a.sent();\\n                        chainId = null;\\n                        _a.label = 2;\\n                    case 2:\\n                        _a.trys.push([2, 4, , 9]);\\n                        return [4 /*yield*/, this.send(\\\"eth_chainId\\\", [])];\\n                    case 3:\\n                        chainId = _a.sent();\\n                        return [3 /*break*/, 9];\\n                    case 4:\\n                        error_5 = _a.sent();\\n                        _a.label = 5;\\n                    case 5:\\n                        _a.trys.push([5, 7, , 8]);\\n                        return [4 /*yield*/, this.send(\\\"net_version\\\", [])];\\n                    case 6:\\n                        chainId = _a.sent();\\n                        return [3 /*break*/, 8];\\n                    case 7:\\n                        error_6 = _a.sent();\\n                        return [3 /*break*/, 8];\\n                    case 8: return [3 /*break*/, 9];\\n                    case 9:\\n                        if (chainId != null) {\\n                            getNetwork = (0, properties_1.getStatic)(this.constructor, \\\"getNetwork\\\");\\n                            try {\\n                                return [2 /*return*/, getNetwork(bignumber_1.BigNumber.from(chainId).toNumber())];\\n                            }\\n                            catch (error) {\\n                                return [2 /*return*/, logger.throwError(\\\"could not detect network\\\", logger_1.Logger.errors.NETWORK_ERROR, {\\n                                        chainId: chainId,\\n                                        event: \\\"invalidNetwork\\\",\\n                                        serverError: error\\n                                    })];\\n                            }\\n                        }\\n                        return [2 /*return*/, logger.throwError(\\\"could not detect network\\\", logger_1.Logger.errors.NETWORK_ERROR, {\\n                                event: \\\"noNetwork\\\"\\n                            })];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcProvider.prototype.getSigner = function (addressOrIndex) {\\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\\n    };\\n    JsonRpcProvider.prototype.getUncheckedSigner = function (addressOrIndex) {\\n        return this.getSigner(addressOrIndex).connectUnchecked();\\n    };\\n    JsonRpcProvider.prototype.listAccounts = function () {\\n        var _this = this;\\n        return this.send(\\\"eth_accounts\\\", []).then(function (accounts) {\\n            return accounts.map(function (a) { return _this.formatter.address(a); });\\n        });\\n    };\\n    JsonRpcProvider.prototype.send = function (method, params) {\\n        var _this = this;\\n        var request = {\\n            method: method,\\n            params: params,\\n            id: (this._nextId++),\\n            jsonrpc: \\\"2.0\\\"\\n        };\\n        this.emit(\\\"debug\\\", {\\n            action: \\\"request\\\",\\n            request: (0, properties_1.deepCopy)(request),\\n            provider: this\\n        });\\n        // We can expand this in the future to any call, but for now these\\n        // are the biggest wins and do not require any serializing parameters.\\n        var cache = ([\\\"eth_chainId\\\", \\\"eth_blockNumber\\\"].indexOf(method) >= 0);\\n        if (cache && this._cache[method]) {\\n            return this._cache[method];\\n        }\\n        var result = (0, web_1.fetchJson)(this.connection, JSON.stringify(request), getResult).then(function (result) {\\n            _this.emit(\\\"debug\\\", {\\n                action: \\\"response\\\",\\n                request: request,\\n                response: result,\\n                provider: _this\\n            });\\n            return result;\\n        }, function (error) {\\n            _this.emit(\\\"debug\\\", {\\n                action: \\\"response\\\",\\n                error: error,\\n                request: request,\\n                provider: _this\\n            });\\n            throw error;\\n        });\\n        // Cache the fetch, but clear it on the next event loop\\n        if (cache) {\\n            this._cache[method] = result;\\n            setTimeout(function () {\\n                _this._cache[method] = null;\\n            }, 0);\\n        }\\n        return result;\\n    };\\n    JsonRpcProvider.prototype.prepareRequest = function (method, params) {\\n        switch (method) {\\n            case \\\"getBlockNumber\\\":\\n                return [\\\"eth_blockNumber\\\", []];\\n            case \\\"getGasPrice\\\":\\n                return [\\\"eth_gasPrice\\\", []];\\n            case \\\"getBalance\\\":\\n                return [\\\"eth_getBalance\\\", [getLowerCase(params.address), params.blockTag]];\\n            case \\\"getTransactionCount\\\":\\n                return [\\\"eth_getTransactionCount\\\", [getLowerCase(params.address), params.blockTag]];\\n            case \\\"getCode\\\":\\n                return [\\\"eth_getCode\\\", [getLowerCase(params.address), params.blockTag]];\\n            case \\\"getStorageAt\\\":\\n                return [\\\"eth_getStorageAt\\\", [getLowerCase(params.address), (0, bytes_1.hexZeroPad)(params.position, 32), params.blockTag]];\\n            case \\\"sendTransaction\\\":\\n                return [\\\"eth_sendRawTransaction\\\", [params.signedTransaction]];\\n            case \\\"getBlock\\\":\\n                if (params.blockTag) {\\n                    return [\\\"eth_getBlockByNumber\\\", [params.blockTag, !!params.includeTransactions]];\\n                }\\n                else if (params.blockHash) {\\n                    return [\\\"eth_getBlockByHash\\\", [params.blockHash, !!params.includeTransactions]];\\n                }\\n                return null;\\n            case \\\"getTransaction\\\":\\n                return [\\\"eth_getTransactionByHash\\\", [params.transactionHash]];\\n            case \\\"getTransactionReceipt\\\":\\n                return [\\\"eth_getTransactionReceipt\\\", [params.transactionHash]];\\n            case \\\"call\\\": {\\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \\\"hexlifyTransaction\\\");\\n                return [\\\"eth_call\\\", [hexlifyTransaction(params.transaction, { from: true }), params.blockTag]];\\n            }\\n            case \\\"estimateGas\\\": {\\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \\\"hexlifyTransaction\\\");\\n                return [\\\"eth_estimateGas\\\", [hexlifyTransaction(params.transaction, { from: true })]];\\n            }\\n            case \\\"getLogs\\\":\\n                if (params.filter && params.filter.address != null) {\\n                    params.filter.address = getLowerCase(params.filter.address);\\n                }\\n                return [\\\"eth_getLogs\\\", [params.filter]];\\n            default:\\n                break;\\n        }\\n        return null;\\n    };\\n    JsonRpcProvider.prototype.perform = function (method, params) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var tx, feeData, args, error_7;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        if (!(method === \\\"call\\\" || method === \\\"estimateGas\\\")) return [3 /*break*/, 2];\\n                        tx = params.transaction;\\n                        if (!(tx && tx.type != null && bignumber_1.BigNumber.from(tx.type).isZero())) return [3 /*break*/, 2];\\n                        if (!(tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null)) return [3 /*break*/, 2];\\n                        return [4 /*yield*/, this.getFeeData()];\\n                    case 1:\\n                        feeData = _a.sent();\\n                        if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\\n                            // Network doesn't know about EIP-1559 (and hence type)\\n                            params = (0, properties_1.shallowCopy)(params);\\n                            params.transaction = (0, properties_1.shallowCopy)(tx);\\n                            delete params.transaction.type;\\n                        }\\n                        _a.label = 2;\\n                    case 2:\\n                        args = this.prepareRequest(method, params);\\n                        if (args == null) {\\n                            logger.throwError(method + \\\" not implemented\\\", logger_1.Logger.errors.NOT_IMPLEMENTED, { operation: method });\\n                        }\\n                        _a.label = 3;\\n                    case 3:\\n                        _a.trys.push([3, 5, , 6]);\\n                        return [4 /*yield*/, this.send(args[0], args[1])];\\n                    case 4: return [2 /*return*/, _a.sent()];\\n                    case 5:\\n                        error_7 = _a.sent();\\n                        return [2 /*return*/, checkError(method, error_7, params)];\\n                    case 6: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcProvider.prototype._startEvent = function (event) {\\n        if (event.tag === \\\"pending\\\") {\\n            this._startPending();\\n        }\\n        _super.prototype._startEvent.call(this, event);\\n    };\\n    JsonRpcProvider.prototype._startPending = function () {\\n        if (this._pendingFilter != null) {\\n            return;\\n        }\\n        var self = this;\\n        var pendingFilter = this.send(\\\"eth_newPendingTransactionFilter\\\", []);\\n        this._pendingFilter = pendingFilter;\\n        pendingFilter.then(function (filterId) {\\n            function poll() {\\n                self.send(\\\"eth_getFilterChanges\\\", [filterId]).then(function (hashes) {\\n                    if (self._pendingFilter != pendingFilter) {\\n                        return null;\\n                    }\\n                    var seq = Promise.resolve();\\n                    hashes.forEach(function (hash) {\\n                        // @TODO: This should be garbage collected at some point... How? When?\\n                        self._emitted[\\\"t:\\\" + hash.toLowerCase()] = \\\"pending\\\";\\n                        seq = seq.then(function () {\\n                            return self.getTransaction(hash).then(function (tx) {\\n                                self.emit(\\\"pending\\\", tx);\\n                                return null;\\n                            });\\n                        });\\n                    });\\n                    return seq.then(function () {\\n                        return timer(1000);\\n                    });\\n                }).then(function () {\\n                    if (self._pendingFilter != pendingFilter) {\\n                        self.send(\\\"eth_uninstallFilter\\\", [filterId]);\\n                        return;\\n                    }\\n                    setTimeout(function () { poll(); }, 0);\\n                    return null;\\n                }).catch(function (error) { });\\n            }\\n            poll();\\n            return filterId;\\n        }).catch(function (error) { });\\n    };\\n    JsonRpcProvider.prototype._stopEvent = function (event) {\\n        if (event.tag === \\\"pending\\\" && this.listenerCount(\\\"pending\\\") === 0) {\\n            this._pendingFilter = null;\\n        }\\n        _super.prototype._stopEvent.call(this, event);\\n    };\\n    // Convert an ethers.js transaction into a JSON-RPC transaction\\n    //  - gasLimit => gas\\n    //  - All values hexlified\\n    //  - All numeric values zero-striped\\n    //  - All addresses are lowercased\\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\\n    //       before this is called\\n    // @TODO: This will likely be removed in future versions and prepareRequest\\n    //        will be the preferred method for this.\\n    JsonRpcProvider.hexlifyTransaction = function (transaction, allowExtra) {\\n        // Check only allowed properties are given\\n        var allowed = (0, properties_1.shallowCopy)(allowedTransactionKeys);\\n        if (allowExtra) {\\n            for (var key in allowExtra) {\\n                if (allowExtra[key]) {\\n                    allowed[key] = true;\\n                }\\n            }\\n        }\\n        (0, properties_1.checkProperties)(transaction, allowed);\\n        var result = {};\\n        // JSON-RPC now requires numeric values to be \\\"quantity\\\" values\\n        [\\\"chainId\\\", \\\"gasLimit\\\", \\\"gasPrice\\\", \\\"type\\\", \\\"maxFeePerGas\\\", \\\"maxPriorityFeePerGas\\\", \\\"nonce\\\", \\\"value\\\"].forEach(function (key) {\\n            if (transaction[key] == null) {\\n                return;\\n            }\\n            var value = (0, bytes_1.hexValue)(bignumber_1.BigNumber.from(transaction[key]));\\n            if (key === \\\"gasLimit\\\") {\\n                key = \\\"gas\\\";\\n            }\\n            result[key] = value;\\n        });\\n        [\\\"from\\\", \\\"to\\\", \\\"data\\\"].forEach(function (key) {\\n            if (transaction[key] == null) {\\n                return;\\n            }\\n            result[key] = (0, bytes_1.hexlify)(transaction[key]);\\n        });\\n        if (transaction.accessList) {\\n            result[\\\"accessList\\\"] = (0, transactions_1.accessListify)(transaction.accessList);\\n        }\\n        return result;\\n    };\\n    return JsonRpcProvider;\\n}(base_provider_1.BaseProvider));\\nexports.JsonRpcProvider = JsonRpcProvider;\\n//# sourceMappingURL=json-rpc-provider.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"spelunk\",\"value\",\"requireData\",\"message\",\"match\",\"data\",\"bytes_1\",\"isHexString\",\"key\",\"result\",\"JSON\",\"parse\",\"error\",\"checkError\",\"method\",\"params\",\"transaction\",\"signedTransaction\",\"logger\",\"throwError\",\"logger_1\",\"Logger\",\"errors\",\"CALL_EXCEPTION\",\"body\",\"UNPREDICTABLE_GAS_LIMIT\",\"reason\",\"code\",\"SERVER_ERROR\",\"responseText\",\"toLowerCase\",\"INSUFFICIENT_FUNDS\",\"NONCE_EXPIRED\",\"REPLACEMENT_UNDERPRICED\",\"UNSUPPORTED_OPERATION\",\"errorGas\",\"indexOf\",\"timer\",\"timeout\",\"Promise\",\"resolve\",\"setTimeout\",\"getResult\",\"payload\",\"Error\",\"getLowerCase\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"prototype\",\"hasOwnProperty\",\"call\",\"__\",\"constructor\",\"TypeError\",\"String\",\"create\",\"__awaiter\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"adopt\",\"reject\",\"fulfilled\",\"step\",\"next\",\"e\",\"rejected\",\"done\",\"then\",\"apply\",\"__generator\",\"verb\",\"n\",\"v\",\"op\",\"f\",\"_\",\"y\",\"t\",\"label\",\"ops\",\"pop\",\"trys\",\"length\",\"push\",\"sent\",\"g\",\"Symbol\",\"iterator\",\"defineProperty\",\"JsonRpcProvider\",\"JsonRpcSigner\",\"abstract_signer_1\",\"bignumber_1\",\"hash_1\",\"properties_1\",\"strings_1\",\"transactions_1\",\"web_1\",\"_version_1\",\"version\",\"base_provider_1\",\"_constructorGuard\",\"_super\",\"constructorGuard\",\"provider\",\"addressOrIndex\",\"_this\",\"defineReadOnly\",\"formatter\",\"address\",\"throwArgumentError\",\"connect\",\"JsonRpcSigner.prototype.connect\",\"operation\",\"connectUnchecked\",\"JsonRpcSigner.prototype.connectUnchecked\",\"UncheckedJsonRpcSigner\",\"_address\",\"_index\",\"getAddress\",\"JsonRpcSigner.prototype.getAddress\",\"send\",\"accounts\",\"sendUncheckedTransaction\",\"JsonRpcSigner.prototype.sendUncheckedTransaction\",\"shallowCopy\",\"fromAddress\",\"gasLimit\",\"estimate\",\"from\",\"estimateGas\",\"to\",\"_a\",\"resolveName\",\"resolveProperties\",\"tx\",\"sender\",\"hexTx\",\"hexlifyTransaction\",\"hash\",\"ACTION_REJECTED\",\"action\",\"signTransaction\",\"JsonRpcSigner.prototype.signTransaction\",\"sendTransaction\",\"JsonRpcSigner.prototype.sendTransaction\",\"blockNumber\",\"error_1\",\"_getInternalBlockNumber\",\"pollingInterval\",\"poll\",\"getTransaction\",\"undefined\",\"_wrapTransaction\",\"oncePoll\",\"transactionHash\",\"signMessage\",\"JsonRpcSigner.prototype.signMessage\",\"error_2\",\"toUtf8Bytes\",\"hexlify\",\"messageData\",\"_legacySignMessage\",\"JsonRpcSigner.prototype._legacySignMessage\",\"error_3\",\"_signTypedData\",\"JsonRpcSigner.prototype._signTypedData\",\"domain\",\"types\",\"populated\",\"error_4\",\"_TypedDataEncoder\",\"resolveNames\",\"name\",\"stringify\",\"getPayload\",\"unlock\",\"JsonRpcSigner.prototype.unlock\",\"password\",\"Signer\",\"arguments\",\"UncheckedJsonRpcSigner.prototype.sendTransaction\",\"nonce\",\"gasPrice\",\"chainId\",\"confirmations\",\"wait\",\"waitForTransaction\",\"allowedTransactionKeys\",\"type\",\"accessList\",\"maxFeePerGas\",\"maxPriorityFeePerGas\",\"url\",\"network\",\"networkOrReady\",\"detectNetwork\",\"getStatic\",\"freeze\",\"_nextId\",\"get\",\"_eventLoopCache\",\"enumerable\",\"configurable\",\"defaultUrl\",\"JsonRpcProvider.defaultUrl\",\"JsonRpcProvider.prototype.detectNetwork\",\"_cache\",\"_uncachedDetectNetwork\",\"JsonRpcProvider.prototype._uncachedDetectNetwork\",\"getNetwork\",\"BigNumber\",\"toNumber\",\"NETWORK_ERROR\",\"event\",\"serverError\",\"getSigner\",\"JsonRpcProvider.prototype.getSigner\",\"getUncheckedSigner\",\"JsonRpcProvider.prototype.getUncheckedSigner\",\"listAccounts\",\"JsonRpcProvider.prototype.listAccounts\",\"map\",\"a\",\"JsonRpcProvider.prototype.send\",\"request\",\"id\",\"jsonrpc\",\"emit\",\"deepCopy\",\"cache\",\"fetchJson\",\"connection\",\"response\",\"prepareRequest\",\"JsonRpcProvider.prototype.prepareRequest\",\"blockTag\",\"hexZeroPad\",\"position\",\"includeTransactions\",\"blockHash\",\"filter\",\"perform\",\"JsonRpcProvider.prototype.perform\",\"feeData\",\"args\",\"error_7\",\"isZero\",\"getFeeData\",\"NOT_IMPLEMENTED\",\"_startEvent\",\"JsonRpcProvider.prototype._startEvent\",\"tag\",\"_startPending\",\"JsonRpcProvider.prototype._startPending\",\"_pendingFilter\",\"self\",\"pendingFilter\",\"filterId\",\"hashes\",\"seq\",\"forEach\",\"_emitted\",\"catch\",\"_stopEvent\",\"JsonRpcProvider.prototype._stopEvent\",\"listenerCount\",\"JsonRpcProvider.hexlifyTransaction\",\"allowExtra\",\"allowed\",\"checkProperties\",\"hexValue\",\"accessListify\",\"BaseProvider\"]\n}\n"]