["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@ethersproject/providers/lib/etherscan-provider.js"],"~:js","shadow$provide[344]=function(S,A,V,q){function F(D){var C={},I;for(I in D)if(null!=D[I]){var M=D[I];if(\"type\"!==I||0!==M)M={type:!0,gasLimit:!0,gasPrice:!0,maxFeePerGs:!0,maxPriorityFeePerGas:!0,nonce:!0,value:!0}[I]?(0,l.hexValue)((0,l.hexlify)(M)):\"accessList\"===I?\"[\"+(0,k.accessListify)(M).map(function(P){return'{address:\"'+P.address+'\",storageKeys:[\"'+P.storageKeys.join('\",\"')+'\"]}'}).join(\",\")+\"]\":(0,l.hexlify)(M),C[I]=M}return C}function G(D){if(0==D.status&&(\"No records found\"===D.message||\n\"No transactions found\"===D.message))return D.result;if(1!=D.status||\"string\"!==typeof D.message||!D.message.match(/^OK/)){var C=Error(\"invalid response\");C.result=JSON.stringify(D);0<=(D.result||\"\").toLowerCase().indexOf(\"rate limit\")&&(C.throttleRetry=!0);throw C;}return D.result}function r(D){if(D&&0==D.status&&\"NOTOK\"==D.message&&0<=(D.result||\"\").toLowerCase().indexOf(\"rate limit\")){var C=Error(\"throttled response\");C.result=JSON.stringify(D);C.throttleRetry=!0;throw C;}if(\"2.0\"!=D.jsonrpc)throw C=\nError(\"invalid response\"),C.result=JSON.stringify(D),C;if(D.error)throw C=Error(D.error.message||\"unknown error\"),D.error.code&&(C.code=D.error.code),D.error.data&&(C.data=D.error.data),C;return D.result}function y(D){if(\"pending\"===D)throw Error(\"pending not supported\");return\"latest\"===D?D:parseInt(D.substring(2),16)}function e(D,C,I){if(\"call\"===D&&C.code===E.Logger.errors.SERVER_ERROR){var M=C.error;if(M&&(M.message.match(/reverted/i)||M.message.match(/VM execution error/i))){(M=M.data)&&(M=\"0x\"+\nM.replace(/^.*0x/i,\"\"));if((0,l.isHexString)(M))return M;H.throwError(\"missing revert data in call exception\",E.Logger.errors.CALL_EXCEPTION,{error:C,data:\"0x\"})}}M=C.message;C.code===E.Logger.errors.SERVER_ERROR&&(C.error&&\"string\"===typeof C.error.message?M=C.error.message:\"string\"===typeof C.body?M=C.body:\"string\"===typeof C.responseText&&(M=C.responseText));M=(M||\"\").toLowerCase();M.match(/insufficient funds/)&&H.throwError(\"insufficient funds for intrinsic transaction cost\",E.Logger.errors.INSUFFICIENT_FUNDS,\n{error:C,method:D,transaction:I});M.match(/same hash was already imported|transaction nonce is too low|nonce too low/)&&H.throwError(\"nonce has already been used\",E.Logger.errors.NONCE_EXPIRED,{error:C,method:D,transaction:I});M.match(/another transaction with same nonce/)&&H.throwError(\"replacement fee too low\",E.Logger.errors.REPLACEMENT_UNDERPRICED,{error:C,method:D,transaction:I});M.match(/execution failed due to an exception|execution reverted/)&&H.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\",\nE.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:C,method:D,transaction:I});throw C;}var u=this&&this.__extends||function(){var D=function(C,I){D=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(M,P){M.__proto__=P}||function(M,P){for(var J in P)Object.prototype.hasOwnProperty.call(P,J)&&(M[J]=P[J])};return D(C,I)};return function(C,I){function M(){this.constructor=C}if(\"function\"!==typeof I&&null!==I)throw new TypeError(\"Class extends value \"+String(I)+\" is not a constructor or null\");\nD(C,I);C.prototype=null===I?Object.create(I):(M.prototype=I.prototype,new M)}}(),p=this&&this.__awaiter||function(D,C,I,M){function P(J){return J instanceof I?J:new I(function(T){T(J)})}return new (I||(I=Promise))(function(J,T){function N(c){try{b(M.next(c))}catch(d){T(d)}}function a(c){try{b(M[\"throw\"](c))}catch(d){T(d)}}function b(c){c.done?J(c.value):P(c.value).then(N,a)}b((M=M.apply(D,C||[])).next())})},n=this&&this.__generator||function(D,C){function I(b){return function(c){return M([b,c])}}\nfunction M(b){if(J)throw new TypeError(\"Generator is already executing.\");for(;P;)try{if(J=1,T&&(N=b[0]&2?T[\"return\"]:b[0]?T[\"throw\"]||((N=T[\"return\"])&&N.call(T),0):T.next)&&!(N=N.call(T,b[1])).done)return N;if(T=0,N)b=[b[0]&2,N.value];switch(b[0]){case 0:case 1:N=b;break;case 4:return P.label++,{value:b[1],done:!1};case 5:P.label++;T=b[1];b=[0];continue;case 7:b=P.ops.pop();P.trys.pop();continue;default:if(!(N=P.trys,N=0<N.length&&N[N.length-1])&&(6===b[0]||2===b[0])){P=0;continue}if(3===b[0]&&\n(!N||b[1]>N[0]&&b[1]<N[3]))P.label=b[1];else if(6===b[0]&&P.label<N[1])P.label=N[1],N=b;else if(N&&P.label<N[2])P.label=N[2],P.ops.push(b);else{N[2]&&P.ops.pop();P.trys.pop();continue}}b=C.call(D,P)}catch(c){b=[6,c],T=0}finally{J=N=0}if(b[0]&5)throw b[1];return{value:b[0]?b[1]:void 0,done:!0}}var P={label:0,sent:function(){if(N[0]&1)throw N[1];return N[1]},trys:[],ops:[]},J,T,N,a;return a={next:I(0),\"throw\":I(1),\"return\":I(2)},\"function\"===typeof Symbol&&(a[Symbol.iterator]=function(){return this}),\na};Object.defineProperty(q,\"__esModule\",{value:!0});q.EtherscanProvider=void 0;var l=A(11),h=A(17),k=A(107),t=A(331),B=A(334),E=A(9);S=A(333);var H=new E.Logger(S.version);A=function(D){function C(I,M){I=D.call(this,I)||this;(0,h.defineReadOnly)(I,\"baseUrl\",I.getBaseUrl());(0,h.defineReadOnly)(I,\"apiKey\",M||null);return I}u(C,D);C.prototype.getBaseUrl=function(){switch(this.network?this.network.name:\"invalid\"){case \"homestead\":return\"https://api.etherscan.io\";case \"goerli\":return\"https://api-goerli.etherscan.io\";\ncase \"sepolia\":return\"https://api-sepolia.etherscan.io\";case \"matic\":return\"https://api.polygonscan.com\";case \"maticmum\":return\"https://api-testnet.polygonscan.com\";case \"arbitrum\":return\"https://api.arbiscan.io\";case \"arbitrum-goerli\":return\"https://api-goerli.arbiscan.io\";case \"optimism\":return\"https://api-optimistic.etherscan.io\";case \"optimism-goerli\":return\"https://api-goerli-optimistic.etherscan.io\"}return H.throwArgumentError(\"unsupported network\",\"network\",this.network.name)};C.prototype.getUrl=\nfunction(I,M){var P=Object.keys(M).reduce(function(J,T){var N=M[T];null!=N&&(J+=\"\\x26\"+T+\"\\x3d\"+N);return J},\"\");return this.baseUrl+\"/api?module\\x3d\"+I+P+(this.apiKey?\"\\x26apikey\\x3d\"+this.apiKey:\"\")};C.prototype.getPostUrl=function(){return this.baseUrl+\"/api\"};C.prototype.getPostData=function(I,M){M.module=I;M.apikey=this.apiKey;return M};C.prototype.fetch=function(I,M,P){return p(this,void 0,void 0,function(){var J,T,N,a,b,c,d=this;return n(this,function(f){switch(f.label){case 0:return J=P?this.getPostUrl():\nthis.getUrl(I,M),T=P?this.getPostData(I,M):null,N=\"proxy\"===I?r:G,this.emit(\"debug\",{action:\"request\",request:J,provider:this}),a={url:J,throttleSlotInterval:1E3,throttleCallback:function(g,m){d.isCommunityResource()&&(0,B.showThrottleMessage)();return Promise.resolve(!0)}},b=null,T&&(a.headers={\"content-type\":\"application/x-www-form-urlencoded; charset\\x3dUTF-8\"},b=Object.keys(T).map(function(g){return g+\"\\x3d\"+T[g]}).join(\"\\x26\")),[4,(0,t.fetchJson)(a,b,N||r)];case 1:return c=f.sent(),this.emit(\"debug\",\n{action:\"response\",request:J,response:(0,h.deepCopy)(c),provider:this}),[2,c]}})})};C.prototype.detectNetwork=function(){return p(this,void 0,void 0,function(){return n(this,function(I){return[2,this.network]})})};C.prototype.perform=function(I,M){return p(this,void 0,void 0,function(){var P,J,T,N,a,b,c,d,f,g,m,w;return n(this,function(x){switch(x.label){case 0:P=I;switch(P){case \"getBlockNumber\":return[3,1];case \"getGasPrice\":return[3,2];case \"getBalance\":return[3,3];case \"getTransactionCount\":return[3,\n4];case \"getCode\":return[3,5];case \"getStorageAt\":return[3,6];case \"sendTransaction\":return[3,7];case \"getBlock\":return[3,8];case \"getTransaction\":return[3,9];case \"getTransactionReceipt\":return[3,10];case \"call\":return[3,11];case \"estimateGas\":return[3,15];case \"getLogs\":return[3,19];case \"getEtherPrice\":return[3,26]}return[3,28];case 1:return[2,this.fetch(\"proxy\",{action:\"eth_blockNumber\"})];case 2:return[2,this.fetch(\"proxy\",{action:\"eth_gasPrice\"})];case 3:return[2,this.fetch(\"account\",{action:\"balance\",\naddress:M.address,tag:M.blockTag})];case 4:return[2,this.fetch(\"proxy\",{action:\"eth_getTransactionCount\",address:M.address,tag:M.blockTag})];case 5:return[2,this.fetch(\"proxy\",{action:\"eth_getCode\",address:M.address,tag:M.blockTag})];case 6:return[2,this.fetch(\"proxy\",{action:\"eth_getStorageAt\",address:M.address,position:M.position,tag:M.blockTag})];case 7:return[2,this.fetch(\"proxy\",{action:\"eth_sendRawTransaction\",hex:M.signedTransaction},!0).catch(function(z){return e(\"sendTransaction\",z,M.signedTransaction)})];\ncase 8:if(M.blockTag)return[2,this.fetch(\"proxy\",{action:\"eth_getBlockByNumber\",tag:M.blockTag,boolean:M.includeTransactions?\"true\":\"false\"})];throw Error(\"getBlock by blockHash not implemented\");case 9:return[2,this.fetch(\"proxy\",{action:\"eth_getTransactionByHash\",txhash:M.transactionHash})];case 10:return[2,this.fetch(\"proxy\",{action:\"eth_getTransactionReceipt\",txhash:M.transactionHash})];case 11:if(\"latest\"!==M.blockTag)throw Error(\"EtherscanProvider does not support blockTag for call\");J=F(M.transaction);\nJ.module=\"proxy\";J.action=\"eth_call\";x.label=12;case 12:return x.trys.push([12,14,,15]),[4,this.fetch(\"proxy\",J,!0)];case 13:return[2,x.sent()];case 14:return T=x.sent(),[2,e(\"call\",T,M.transaction)];case 15:J=F(M.transaction),J.module=\"proxy\",J.action=\"eth_estimateGas\",x.label=16;case 16:return x.trys.push([16,18,,19]),[4,this.fetch(\"proxy\",J,!0)];case 17:return[2,x.sent()];case 18:return N=x.sent(),[2,e(\"estimateGas\",N,M.transaction)];case 19:return a={action:\"getLogs\"},M.filter.fromBlock&&(a.fromBlock=\ny(M.filter.fromBlock)),M.filter.toBlock&&(a.toBlock=y(M.filter.toBlock)),M.filter.address&&(a.address=M.filter.address),M.filter.topics&&0<M.filter.topics.length&&(1<M.filter.topics.length&&H.throwError(\"unsupported topic count\",E.Logger.errors.UNSUPPORTED_OPERATION,{topics:M.filter.topics}),1===M.filter.topics.length&&(b=M.filter.topics[0],\"string\"===typeof b&&66===b.length||H.throwError(\"unsupported topic format\",E.Logger.errors.UNSUPPORTED_OPERATION,{topic0:b}),a.topic0=b)),[4,this.fetch(\"logs\",\na)];case 20:c=x.sent(),d={},f=0,x.label=21;case 21:if(!(f<c.length))return[3,25];g=c[f];return null!=g.blockHash?[3,24]:null!=d[g.blockNumber]?[3,23]:[4,this.getBlock(g.blockNumber)];case 22:if(m=x.sent())d[g.blockNumber]=m.hash;x.label=23;case 23:g.blockHash=d[g.blockNumber],x.label=24;case 24:return f++,[3,21];case 25:return[2,c];case 26:if(\"homestead\"!==this.network.name)return[2,0];w=parseFloat;return[4,this.fetch(\"stats\",{action:\"ethprice\"})];case 27:return[2,w.apply(void 0,[x.sent().ethusd])];\ncase 28:return[3,29];case 29:return[2,D.prototype.perform.call(this,I,M)]}})})};C.prototype.getHistory=function(I,M,P){return p(this,void 0,void 0,function(){var J,T,N,a=this;return n(this,function(b){switch(b.label){case 0:return N={action:\"txlist\"},[4,this.resolveName(I)];case 1:return J=(N.address=b.sent(),N.startblock=null==M?0:M,N.endblock=null==P?99999999:P,N.sort=\"asc\",N),[4,this.fetch(\"account\",J)];case 2:return T=b.sent(),[2,T.map(function(c){[\"contractAddress\",\"to\"].forEach(function(f){\"\"==\nc[f]&&delete c[f]});null==c.creates&&null!=c.contractAddress&&(c.creates=c.contractAddress);var d=a.formatter.transactionResponse(c);c.timeStamp&&(d.timestamp=parseInt(c.timeStamp));return d})]}})})};C.prototype.isCommunityResource=function(){return null==this.apiKey};return C}(A(335).BaseProvider);q.EtherscanProvider=A}","~:source","shadow$provide[344] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.EtherscanProvider = void 0;\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar transactions_1 = require(\"@ethersproject/transactions\");\nvar web_1 = require(\"@ethersproject/web\");\nvar formatter_1 = require(\"./formatter\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nvar base_provider_1 = require(\"./base-provider\");\n// The transaction has already been sanitized by the calls in Provider\nfunction getTransactionPostData(transaction) {\n    var result = {};\n    for (var key in transaction) {\n        if (transaction[key] == null) {\n            continue;\n        }\n        var value = transaction[key];\n        if (key === \"type\" && value === 0) {\n            continue;\n        }\n        // Quantity-types require no leading zero, unless 0\n        if ({ type: true, gasLimit: true, gasPrice: true, maxFeePerGs: true, maxPriorityFeePerGas: true, nonce: true, value: true }[key]) {\n            value = (0, bytes_1.hexValue)((0, bytes_1.hexlify)(value));\n        }\n        else if (key === \"accessList\") {\n            value = \"[\" + (0, transactions_1.accessListify)(value).map(function (set) {\n                return \"{address:\\\"\" + set.address + \"\\\",storageKeys:[\\\"\" + set.storageKeys.join('\",\"') + \"\\\"]}\";\n            }).join(\",\") + \"]\";\n        }\n        else {\n            value = (0, bytes_1.hexlify)(value);\n        }\n        result[key] = value;\n    }\n    return result;\n}\nfunction getResult(result) {\n    // getLogs, getHistory have weird success responses\n    if (result.status == 0 && (result.message === \"No records found\" || result.message === \"No transactions found\")) {\n        return result.result;\n    }\n    if (result.status != 1 || typeof (result.message) !== \"string\" || !result.message.match(/^OK/)) {\n        var error = new Error(\"invalid response\");\n        error.result = JSON.stringify(result);\n        if ((result.result || \"\").toLowerCase().indexOf(\"rate limit\") >= 0) {\n            error.throttleRetry = true;\n        }\n        throw error;\n    }\n    return result.result;\n}\nfunction getJsonResult(result) {\n    // This response indicates we are being throttled\n    if (result && result.status == 0 && result.message == \"NOTOK\" && (result.result || \"\").toLowerCase().indexOf(\"rate limit\") >= 0) {\n        var error = new Error(\"throttled response\");\n        error.result = JSON.stringify(result);\n        error.throttleRetry = true;\n        throw error;\n    }\n    if (result.jsonrpc != \"2.0\") {\n        // @TODO: not any\n        var error = new Error(\"invalid response\");\n        error.result = JSON.stringify(result);\n        throw error;\n    }\n    if (result.error) {\n        // @TODO: not any\n        var error = new Error(result.error.message || \"unknown error\");\n        if (result.error.code) {\n            error.code = result.error.code;\n        }\n        if (result.error.data) {\n            error.data = result.error.data;\n        }\n        throw error;\n    }\n    return result.result;\n}\n// The blockTag was normalized as a string by the Provider pre-perform operations\nfunction checkLogTag(blockTag) {\n    if (blockTag === \"pending\") {\n        throw new Error(\"pending not supported\");\n    }\n    if (blockTag === \"latest\") {\n        return blockTag;\n    }\n    return parseInt(blockTag.substring(2), 16);\n}\nfunction checkError(method, error, transaction) {\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\n    if (method === \"call\" && error.code === logger_1.Logger.errors.SERVER_ERROR) {\n        var e = error.error;\n        // Etherscan keeps changing their string\n        if (e && (e.message.match(/reverted/i) || e.message.match(/VM execution error/i))) {\n            // Etherscan prefixes the data like \"Reverted 0x1234\"\n            var data = e.data;\n            if (data) {\n                data = \"0x\" + data.replace(/^.*0x/i, \"\");\n            }\n            if ((0, bytes_1.isHexString)(data)) {\n                return data;\n            }\n            logger.throwError(\"missing revert data in call exception\", logger_1.Logger.errors.CALL_EXCEPTION, {\n                error: error,\n                data: \"0x\"\n            });\n        }\n    }\n    // Get the message from any nested error structure\n    var message = error.message;\n    if (error.code === logger_1.Logger.errors.SERVER_ERROR) {\n        if (error.error && typeof (error.error.message) === \"string\") {\n            message = error.error.message;\n        }\n        else if (typeof (error.body) === \"string\") {\n            message = error.body;\n        }\n        else if (typeof (error.responseText) === \"string\") {\n            message = error.responseText;\n        }\n    }\n    message = (message || \"\").toLowerCase();\n    // \"Insufficient funds. The account you tried to send transaction from does not have enough funds. Required 21464000000000 and got: 0\"\n    if (message.match(/insufficient funds/)) {\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", logger_1.Logger.errors.INSUFFICIENT_FUNDS, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"Transaction with the same hash was already imported.\"\n    if (message.match(/same hash was already imported|transaction nonce is too low|nonce too low/)) {\n        logger.throwError(\"nonce has already been used\", logger_1.Logger.errors.NONCE_EXPIRED, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"Transaction gas price is too low. There is another transaction with same nonce in the queue. Try increasing the gas price or incrementing the nonce.\"\n    if (message.match(/another transaction with same nonce/)) {\n        logger.throwError(\"replacement fee too low\", logger_1.Logger.errors.REPLACEMENT_UNDERPRICED, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    if (message.match(/execution failed due to an exception|execution reverted/)) {\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    throw error;\n}\nvar EtherscanProvider = /** @class */ (function (_super) {\n    __extends(EtherscanProvider, _super);\n    function EtherscanProvider(network, apiKey) {\n        var _this = _super.call(this, network) || this;\n        (0, properties_1.defineReadOnly)(_this, \"baseUrl\", _this.getBaseUrl());\n        (0, properties_1.defineReadOnly)(_this, \"apiKey\", apiKey || null);\n        return _this;\n    }\n    EtherscanProvider.prototype.getBaseUrl = function () {\n        switch (this.network ? this.network.name : \"invalid\") {\n            case \"homestead\":\n                return \"https:/\\/api.etherscan.io\";\n            case \"goerli\":\n                return \"https:/\\/api-goerli.etherscan.io\";\n            case \"sepolia\":\n                return \"https:/\\/api-sepolia.etherscan.io\";\n            case \"matic\":\n                return \"https:/\\/api.polygonscan.com\";\n            case \"maticmum\":\n                return \"https:/\\/api-testnet.polygonscan.com\";\n            case \"arbitrum\":\n                return \"https:/\\/api.arbiscan.io\";\n            case \"arbitrum-goerli\":\n                return \"https:/\\/api-goerli.arbiscan.io\";\n            case \"optimism\":\n                return \"https:/\\/api-optimistic.etherscan.io\";\n            case \"optimism-goerli\":\n                return \"https:/\\/api-goerli-optimistic.etherscan.io\";\n            default:\n        }\n        return logger.throwArgumentError(\"unsupported network\", \"network\", this.network.name);\n    };\n    EtherscanProvider.prototype.getUrl = function (module, params) {\n        var query = Object.keys(params).reduce(function (accum, key) {\n            var value = params[key];\n            if (value != null) {\n                accum += \"&\" + key + \"=\" + value;\n            }\n            return accum;\n        }, \"\");\n        var apiKey = ((this.apiKey) ? \"&apikey=\" + this.apiKey : \"\");\n        return this.baseUrl + \"/api?module=\" + module + query + apiKey;\n    };\n    EtherscanProvider.prototype.getPostUrl = function () {\n        return this.baseUrl + \"/api\";\n    };\n    EtherscanProvider.prototype.getPostData = function (module, params) {\n        params.module = module;\n        params.apikey = this.apiKey;\n        return params;\n    };\n    EtherscanProvider.prototype.fetch = function (module, params, post) {\n        return __awaiter(this, void 0, void 0, function () {\n            var url, payload, procFunc, connection, payloadStr, result;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        url = (post ? this.getPostUrl() : this.getUrl(module, params));\n                        payload = (post ? this.getPostData(module, params) : null);\n                        procFunc = (module === \"proxy\") ? getJsonResult : getResult;\n                        this.emit(\"debug\", {\n                            action: \"request\",\n                            request: url,\n                            provider: this\n                        });\n                        connection = {\n                            url: url,\n                            throttleSlotInterval: 1000,\n                            throttleCallback: function (attempt, url) {\n                                if (_this.isCommunityResource()) {\n                                    (0, formatter_1.showThrottleMessage)();\n                                }\n                                return Promise.resolve(true);\n                            }\n                        };\n                        payloadStr = null;\n                        if (payload) {\n                            connection.headers = { \"content-type\": \"application/x-www-form-urlencoded; charset=UTF-8\" };\n                            payloadStr = Object.keys(payload).map(function (key) {\n                                return key + \"=\" + payload[key];\n                            }).join(\"&\");\n                        }\n                        return [4 /*yield*/, (0, web_1.fetchJson)(connection, payloadStr, procFunc || getJsonResult)];\n                    case 1:\n                        result = _a.sent();\n                        this.emit(\"debug\", {\n                            action: \"response\",\n                            request: url,\n                            response: (0, properties_1.deepCopy)(result),\n                            provider: this\n                        });\n                        return [2 /*return*/, result];\n                }\n            });\n        });\n    };\n    EtherscanProvider.prototype.detectNetwork = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this.network];\n            });\n        });\n    };\n    EtherscanProvider.prototype.perform = function (method, params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var _a, postData, error_1, postData, error_2, args, topic0, logs, blocks, i, log, block, _b;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0:\n                        _a = method;\n                        switch (_a) {\n                            case \"getBlockNumber\": return [3 /*break*/, 1];\n                            case \"getGasPrice\": return [3 /*break*/, 2];\n                            case \"getBalance\": return [3 /*break*/, 3];\n                            case \"getTransactionCount\": return [3 /*break*/, 4];\n                            case \"getCode\": return [3 /*break*/, 5];\n                            case \"getStorageAt\": return [3 /*break*/, 6];\n                            case \"sendTransaction\": return [3 /*break*/, 7];\n                            case \"getBlock\": return [3 /*break*/, 8];\n                            case \"getTransaction\": return [3 /*break*/, 9];\n                            case \"getTransactionReceipt\": return [3 /*break*/, 10];\n                            case \"call\": return [3 /*break*/, 11];\n                            case \"estimateGas\": return [3 /*break*/, 15];\n                            case \"getLogs\": return [3 /*break*/, 19];\n                            case \"getEtherPrice\": return [3 /*break*/, 26];\n                        }\n                        return [3 /*break*/, 28];\n                    case 1: return [2 /*return*/, this.fetch(\"proxy\", { action: \"eth_blockNumber\" })];\n                    case 2: return [2 /*return*/, this.fetch(\"proxy\", { action: \"eth_gasPrice\" })];\n                    case 3: \n                    // Returns base-10 result\n                    return [2 /*return*/, this.fetch(\"account\", {\n                            action: \"balance\",\n                            address: params.address,\n                            tag: params.blockTag\n                        })];\n                    case 4: return [2 /*return*/, this.fetch(\"proxy\", {\n                            action: \"eth_getTransactionCount\",\n                            address: params.address,\n                            tag: params.blockTag\n                        })];\n                    case 5: return [2 /*return*/, this.fetch(\"proxy\", {\n                            action: \"eth_getCode\",\n                            address: params.address,\n                            tag: params.blockTag\n                        })];\n                    case 6: return [2 /*return*/, this.fetch(\"proxy\", {\n                            action: \"eth_getStorageAt\",\n                            address: params.address,\n                            position: params.position,\n                            tag: params.blockTag\n                        })];\n                    case 7: return [2 /*return*/, this.fetch(\"proxy\", {\n                            action: \"eth_sendRawTransaction\",\n                            hex: params.signedTransaction\n                        }, true).catch(function (error) {\n                            return checkError(\"sendTransaction\", error, params.signedTransaction);\n                        })];\n                    case 8:\n                        if (params.blockTag) {\n                            return [2 /*return*/, this.fetch(\"proxy\", {\n                                    action: \"eth_getBlockByNumber\",\n                                    tag: params.blockTag,\n                                    boolean: (params.includeTransactions ? \"true\" : \"false\")\n                                })];\n                        }\n                        throw new Error(\"getBlock by blockHash not implemented\");\n                    case 9: return [2 /*return*/, this.fetch(\"proxy\", {\n                            action: \"eth_getTransactionByHash\",\n                            txhash: params.transactionHash\n                        })];\n                    case 10: return [2 /*return*/, this.fetch(\"proxy\", {\n                            action: \"eth_getTransactionReceipt\",\n                            txhash: params.transactionHash\n                        })];\n                    case 11:\n                        if (params.blockTag !== \"latest\") {\n                            throw new Error(\"EtherscanProvider does not support blockTag for call\");\n                        }\n                        postData = getTransactionPostData(params.transaction);\n                        postData.module = \"proxy\";\n                        postData.action = \"eth_call\";\n                        _c.label = 12;\n                    case 12:\n                        _c.trys.push([12, 14, , 15]);\n                        return [4 /*yield*/, this.fetch(\"proxy\", postData, true)];\n                    case 13: return [2 /*return*/, _c.sent()];\n                    case 14:\n                        error_1 = _c.sent();\n                        return [2 /*return*/, checkError(\"call\", error_1, params.transaction)];\n                    case 15:\n                        postData = getTransactionPostData(params.transaction);\n                        postData.module = \"proxy\";\n                        postData.action = \"eth_estimateGas\";\n                        _c.label = 16;\n                    case 16:\n                        _c.trys.push([16, 18, , 19]);\n                        return [4 /*yield*/, this.fetch(\"proxy\", postData, true)];\n                    case 17: return [2 /*return*/, _c.sent()];\n                    case 18:\n                        error_2 = _c.sent();\n                        return [2 /*return*/, checkError(\"estimateGas\", error_2, params.transaction)];\n                    case 19:\n                        args = { action: \"getLogs\" };\n                        if (params.filter.fromBlock) {\n                            args.fromBlock = checkLogTag(params.filter.fromBlock);\n                        }\n                        if (params.filter.toBlock) {\n                            args.toBlock = checkLogTag(params.filter.toBlock);\n                        }\n                        if (params.filter.address) {\n                            args.address = params.filter.address;\n                        }\n                        // @TODO: We can handle slightly more complicated logs using the logs API\n                        if (params.filter.topics && params.filter.topics.length > 0) {\n                            if (params.filter.topics.length > 1) {\n                                logger.throwError(\"unsupported topic count\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, { topics: params.filter.topics });\n                            }\n                            if (params.filter.topics.length === 1) {\n                                topic0 = params.filter.topics[0];\n                                if (typeof (topic0) !== \"string\" || topic0.length !== 66) {\n                                    logger.throwError(\"unsupported topic format\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, { topic0: topic0 });\n                                }\n                                args.topic0 = topic0;\n                            }\n                        }\n                        return [4 /*yield*/, this.fetch(\"logs\", args)];\n                    case 20:\n                        logs = _c.sent();\n                        blocks = {};\n                        i = 0;\n                        _c.label = 21;\n                    case 21:\n                        if (!(i < logs.length)) return [3 /*break*/, 25];\n                        log = logs[i];\n                        if (log.blockHash != null) {\n                            return [3 /*break*/, 24];\n                        }\n                        if (!(blocks[log.blockNumber] == null)) return [3 /*break*/, 23];\n                        return [4 /*yield*/, this.getBlock(log.blockNumber)];\n                    case 22:\n                        block = _c.sent();\n                        if (block) {\n                            blocks[log.blockNumber] = block.hash;\n                        }\n                        _c.label = 23;\n                    case 23:\n                        log.blockHash = blocks[log.blockNumber];\n                        _c.label = 24;\n                    case 24:\n                        i++;\n                        return [3 /*break*/, 21];\n                    case 25: return [2 /*return*/, logs];\n                    case 26:\n                        if (this.network.name !== \"homestead\") {\n                            return [2 /*return*/, 0.0];\n                        }\n                        _b = parseFloat;\n                        return [4 /*yield*/, this.fetch(\"stats\", { action: \"ethprice\" })];\n                    case 27: return [2 /*return*/, _b.apply(void 0, [(_c.sent()).ethusd])];\n                    case 28: return [3 /*break*/, 29];\n                    case 29: return [2 /*return*/, _super.prototype.perform.call(this, method, params)];\n                }\n            });\n        });\n    };\n    // Note: The `page` page parameter only allows pagination within the\n    //       10,000 window available without a page and offset parameter\n    //       Error: Result window is too large, PageNo x Offset size must\n    //              be less than or equal to 10000\n    EtherscanProvider.prototype.getHistory = function (addressOrName, startBlock, endBlock) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, result;\n            var _a;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        _a = {\n                            action: \"txlist\"\n                        };\n                        return [4 /*yield*/, this.resolveName(addressOrName)];\n                    case 1:\n                        params = (_a.address = (_b.sent()),\n                            _a.startblock = ((startBlock == null) ? 0 : startBlock),\n                            _a.endblock = ((endBlock == null) ? 99999999 : endBlock),\n                            _a.sort = \"asc\",\n                            _a);\n                        return [4 /*yield*/, this.fetch(\"account\", params)];\n                    case 2:\n                        result = _b.sent();\n                        return [2 /*return*/, result.map(function (tx) {\n                                [\"contractAddress\", \"to\"].forEach(function (key) {\n                                    if (tx[key] == \"\") {\n                                        delete tx[key];\n                                    }\n                                });\n                                if (tx.creates == null && tx.contractAddress != null) {\n                                    tx.creates = tx.contractAddress;\n                                }\n                                var item = _this.formatter.transactionResponse(tx);\n                                if (tx.timeStamp) {\n                                    item.timestamp = parseInt(tx.timeStamp);\n                                }\n                                return item;\n                            })];\n                }\n            });\n        });\n    };\n    EtherscanProvider.prototype.isCommunityResource = function () {\n        return (this.apiKey == null);\n    };\n    return EtherscanProvider;\n}(base_provider_1.BaseProvider));\nexports.EtherscanProvider = EtherscanProvider;\n//# sourceMappingURL=etherscan-provider.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$ethersproject$providers$lib$base_provider","~$shadow.js","~$module$node_modules$$ethersproject$bytes$lib$index","~$module$node_modules$$ethersproject$providers$lib$_version","~$module$node_modules$$ethersproject$transactions$lib$index","~$module$node_modules$$ethersproject$web$lib$index","~$module$node_modules$$ethersproject$logger$lib$index","~$module$node_modules$$ethersproject$properties$lib$index","~$module$node_modules$$ethersproject$providers$lib$formatter"]],"~:properties",["^5",["boolean","gasLimit","sent","topics","fetch","url","next","transaction","gasPrice","getUrl","prototype","getHistory","hex","apikey","label","ops","method","__esModule","error","txhash","timestamp","toBlock","getBaseUrl","endblock","sort","provider","position","maxPriorityFeePerGas","fromBlock","tag","value","creates","address","request","action","getPostData","trys","blockHash","perform","getPostUrl","type","__proto__","throttleSlotInterval","response","nonce","isCommunityResource","throttleRetry","detectNetwork","startblock","data","EtherscanProvider","code","done","topic0","maxFeePerGs","result","constructor","throttleCallback","headers"]],"~:compiled-at",1695041440920,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$ethersproject$providers$lib$etherscan_provider.js\",\n\"lineCount\":22,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@ethersproject/providers/lib/etherscan-provider.js\"],\n\"sourcesContent\":[\"shadow$provide[344] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        if (typeof b !== \\\"function\\\" && b !== null)\\n            throw new TypeError(\\\"Class extends value \\\" + String(b) + \\\" is not a constructor or null\\\");\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nvar __generator = (this && this.__generator) || function (thisArg, body) {\\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\\n    return g = { next: verb(0), \\\"throw\\\": verb(1), \\\"return\\\": verb(2) }, typeof Symbol === \\\"function\\\" && (g[Symbol.iterator] = function() { return this; }), g;\\n    function verb(n) { return function (v) { return step([n, v]); }; }\\n    function step(op) {\\n        if (f) throw new TypeError(\\\"Generator is already executing.\\\");\\n        while (_) try {\\n            if (f = 1, y && (t = op[0] & 2 ? y[\\\"return\\\"] : op[0] ? y[\\\"throw\\\"] || ((t = y[\\\"return\\\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\\n            if (y = 0, t) op = [op[0] & 2, t.value];\\n            switch (op[0]) {\\n                case 0: case 1: t = op; break;\\n                case 4: _.label++; return { value: op[1], done: false };\\n                case 5: _.label++; y = op[1]; op = [0]; continue;\\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\\n                default:\\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\\n                    if (t[2]) _.ops.pop();\\n                    _.trys.pop(); continue;\\n            }\\n            op = body.call(thisArg, _);\\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\\n    }\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.EtherscanProvider = void 0;\\nvar bytes_1 = require(\\\"@ethersproject/bytes\\\");\\nvar properties_1 = require(\\\"@ethersproject/properties\\\");\\nvar transactions_1 = require(\\\"@ethersproject/transactions\\\");\\nvar web_1 = require(\\\"@ethersproject/web\\\");\\nvar formatter_1 = require(\\\"./formatter\\\");\\nvar logger_1 = require(\\\"@ethersproject/logger\\\");\\nvar _version_1 = require(\\\"./_version\\\");\\nvar logger = new logger_1.Logger(_version_1.version);\\nvar base_provider_1 = require(\\\"./base-provider\\\");\\n// The transaction has already been sanitized by the calls in Provider\\nfunction getTransactionPostData(transaction) {\\n    var result = {};\\n    for (var key in transaction) {\\n        if (transaction[key] == null) {\\n            continue;\\n        }\\n        var value = transaction[key];\\n        if (key === \\\"type\\\" && value === 0) {\\n            continue;\\n        }\\n        // Quantity-types require no leading zero, unless 0\\n        if ({ type: true, gasLimit: true, gasPrice: true, maxFeePerGs: true, maxPriorityFeePerGas: true, nonce: true, value: true }[key]) {\\n            value = (0, bytes_1.hexValue)((0, bytes_1.hexlify)(value));\\n        }\\n        else if (key === \\\"accessList\\\") {\\n            value = \\\"[\\\" + (0, transactions_1.accessListify)(value).map(function (set) {\\n                return \\\"{address:\\\\\\\"\\\" + set.address + \\\"\\\\\\\",storageKeys:[\\\\\\\"\\\" + set.storageKeys.join('\\\",\\\"') + \\\"\\\\\\\"]}\\\";\\n            }).join(\\\",\\\") + \\\"]\\\";\\n        }\\n        else {\\n            value = (0, bytes_1.hexlify)(value);\\n        }\\n        result[key] = value;\\n    }\\n    return result;\\n}\\nfunction getResult(result) {\\n    // getLogs, getHistory have weird success responses\\n    if (result.status == 0 && (result.message === \\\"No records found\\\" || result.message === \\\"No transactions found\\\")) {\\n        return result.result;\\n    }\\n    if (result.status != 1 || typeof (result.message) !== \\\"string\\\" || !result.message.match(/^OK/)) {\\n        var error = new Error(\\\"invalid response\\\");\\n        error.result = JSON.stringify(result);\\n        if ((result.result || \\\"\\\").toLowerCase().indexOf(\\\"rate limit\\\") >= 0) {\\n            error.throttleRetry = true;\\n        }\\n        throw error;\\n    }\\n    return result.result;\\n}\\nfunction getJsonResult(result) {\\n    // This response indicates we are being throttled\\n    if (result && result.status == 0 && result.message == \\\"NOTOK\\\" && (result.result || \\\"\\\").toLowerCase().indexOf(\\\"rate limit\\\") >= 0) {\\n        var error = new Error(\\\"throttled response\\\");\\n        error.result = JSON.stringify(result);\\n        error.throttleRetry = true;\\n        throw error;\\n    }\\n    if (result.jsonrpc != \\\"2.0\\\") {\\n        // @TODO: not any\\n        var error = new Error(\\\"invalid response\\\");\\n        error.result = JSON.stringify(result);\\n        throw error;\\n    }\\n    if (result.error) {\\n        // @TODO: not any\\n        var error = new Error(result.error.message || \\\"unknown error\\\");\\n        if (result.error.code) {\\n            error.code = result.error.code;\\n        }\\n        if (result.error.data) {\\n            error.data = result.error.data;\\n        }\\n        throw error;\\n    }\\n    return result.result;\\n}\\n// The blockTag was normalized as a string by the Provider pre-perform operations\\nfunction checkLogTag(blockTag) {\\n    if (blockTag === \\\"pending\\\") {\\n        throw new Error(\\\"pending not supported\\\");\\n    }\\n    if (blockTag === \\\"latest\\\") {\\n        return blockTag;\\n    }\\n    return parseInt(blockTag.substring(2), 16);\\n}\\nfunction checkError(method, error, transaction) {\\n    // Undo the \\\"convenience\\\" some nodes are attempting to prevent backwards\\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\\n    if (method === \\\"call\\\" && error.code === logger_1.Logger.errors.SERVER_ERROR) {\\n        var e = error.error;\\n        // Etherscan keeps changing their string\\n        if (e && (e.message.match(/reverted/i) || e.message.match(/VM execution error/i))) {\\n            // Etherscan prefixes the data like \\\"Reverted 0x1234\\\"\\n            var data = e.data;\\n            if (data) {\\n                data = \\\"0x\\\" + data.replace(/^.*0x/i, \\\"\\\");\\n            }\\n            if ((0, bytes_1.isHexString)(data)) {\\n                return data;\\n            }\\n            logger.throwError(\\\"missing revert data in call exception\\\", logger_1.Logger.errors.CALL_EXCEPTION, {\\n                error: error,\\n                data: \\\"0x\\\"\\n            });\\n        }\\n    }\\n    // Get the message from any nested error structure\\n    var message = error.message;\\n    if (error.code === logger_1.Logger.errors.SERVER_ERROR) {\\n        if (error.error && typeof (error.error.message) === \\\"string\\\") {\\n            message = error.error.message;\\n        }\\n        else if (typeof (error.body) === \\\"string\\\") {\\n            message = error.body;\\n        }\\n        else if (typeof (error.responseText) === \\\"string\\\") {\\n            message = error.responseText;\\n        }\\n    }\\n    message = (message || \\\"\\\").toLowerCase();\\n    // \\\"Insufficient funds. The account you tried to send transaction from does not have enough funds. Required 21464000000000 and got: 0\\\"\\n    if (message.match(/insufficient funds/)) {\\n        logger.throwError(\\\"insufficient funds for intrinsic transaction cost\\\", logger_1.Logger.errors.INSUFFICIENT_FUNDS, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"Transaction with the same hash was already imported.\\\"\\n    if (message.match(/same hash was already imported|transaction nonce is too low|nonce too low/)) {\\n        logger.throwError(\\\"nonce has already been used\\\", logger_1.Logger.errors.NONCE_EXPIRED, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"Transaction gas price is too low. There is another transaction with same nonce in the queue. Try increasing the gas price or incrementing the nonce.\\\"\\n    if (message.match(/another transaction with same nonce/)) {\\n        logger.throwError(\\\"replacement fee too low\\\", logger_1.Logger.errors.REPLACEMENT_UNDERPRICED, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    if (message.match(/execution failed due to an exception|execution reverted/)) {\\n        logger.throwError(\\\"cannot estimate gas; transaction may fail or may require manual gas limit\\\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    throw error;\\n}\\nvar EtherscanProvider = /** @class */ (function (_super) {\\n    __extends(EtherscanProvider, _super);\\n    function EtherscanProvider(network, apiKey) {\\n        var _this = _super.call(this, network) || this;\\n        (0, properties_1.defineReadOnly)(_this, \\\"baseUrl\\\", _this.getBaseUrl());\\n        (0, properties_1.defineReadOnly)(_this, \\\"apiKey\\\", apiKey || null);\\n        return _this;\\n    }\\n    EtherscanProvider.prototype.getBaseUrl = function () {\\n        switch (this.network ? this.network.name : \\\"invalid\\\") {\\n            case \\\"homestead\\\":\\n                return \\\"https:/\\\\/api.etherscan.io\\\";\\n            case \\\"goerli\\\":\\n                return \\\"https:/\\\\/api-goerli.etherscan.io\\\";\\n            case \\\"sepolia\\\":\\n                return \\\"https:/\\\\/api-sepolia.etherscan.io\\\";\\n            case \\\"matic\\\":\\n                return \\\"https:/\\\\/api.polygonscan.com\\\";\\n            case \\\"maticmum\\\":\\n                return \\\"https:/\\\\/api-testnet.polygonscan.com\\\";\\n            case \\\"arbitrum\\\":\\n                return \\\"https:/\\\\/api.arbiscan.io\\\";\\n            case \\\"arbitrum-goerli\\\":\\n                return \\\"https:/\\\\/api-goerli.arbiscan.io\\\";\\n            case \\\"optimism\\\":\\n                return \\\"https:/\\\\/api-optimistic.etherscan.io\\\";\\n            case \\\"optimism-goerli\\\":\\n                return \\\"https:/\\\\/api-goerli-optimistic.etherscan.io\\\";\\n            default:\\n        }\\n        return logger.throwArgumentError(\\\"unsupported network\\\", \\\"network\\\", this.network.name);\\n    };\\n    EtherscanProvider.prototype.getUrl = function (module, params) {\\n        var query = Object.keys(params).reduce(function (accum, key) {\\n            var value = params[key];\\n            if (value != null) {\\n                accum += \\\"&\\\" + key + \\\"=\\\" + value;\\n            }\\n            return accum;\\n        }, \\\"\\\");\\n        var apiKey = ((this.apiKey) ? \\\"&apikey=\\\" + this.apiKey : \\\"\\\");\\n        return this.baseUrl + \\\"/api?module=\\\" + module + query + apiKey;\\n    };\\n    EtherscanProvider.prototype.getPostUrl = function () {\\n        return this.baseUrl + \\\"/api\\\";\\n    };\\n    EtherscanProvider.prototype.getPostData = function (module, params) {\\n        params.module = module;\\n        params.apikey = this.apiKey;\\n        return params;\\n    };\\n    EtherscanProvider.prototype.fetch = function (module, params, post) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var url, payload, procFunc, connection, payloadStr, result;\\n            var _this = this;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        url = (post ? this.getPostUrl() : this.getUrl(module, params));\\n                        payload = (post ? this.getPostData(module, params) : null);\\n                        procFunc = (module === \\\"proxy\\\") ? getJsonResult : getResult;\\n                        this.emit(\\\"debug\\\", {\\n                            action: \\\"request\\\",\\n                            request: url,\\n                            provider: this\\n                        });\\n                        connection = {\\n                            url: url,\\n                            throttleSlotInterval: 1000,\\n                            throttleCallback: function (attempt, url) {\\n                                if (_this.isCommunityResource()) {\\n                                    (0, formatter_1.showThrottleMessage)();\\n                                }\\n                                return Promise.resolve(true);\\n                            }\\n                        };\\n                        payloadStr = null;\\n                        if (payload) {\\n                            connection.headers = { \\\"content-type\\\": \\\"application/x-www-form-urlencoded; charset=UTF-8\\\" };\\n                            payloadStr = Object.keys(payload).map(function (key) {\\n                                return key + \\\"=\\\" + payload[key];\\n                            }).join(\\\"&\\\");\\n                        }\\n                        return [4 /*yield*/, (0, web_1.fetchJson)(connection, payloadStr, procFunc || getJsonResult)];\\n                    case 1:\\n                        result = _a.sent();\\n                        this.emit(\\\"debug\\\", {\\n                            action: \\\"response\\\",\\n                            request: url,\\n                            response: (0, properties_1.deepCopy)(result),\\n                            provider: this\\n                        });\\n                        return [2 /*return*/, result];\\n                }\\n            });\\n        });\\n    };\\n    EtherscanProvider.prototype.detectNetwork = function () {\\n        return __awaiter(this, void 0, void 0, function () {\\n            return __generator(this, function (_a) {\\n                return [2 /*return*/, this.network];\\n            });\\n        });\\n    };\\n    EtherscanProvider.prototype.perform = function (method, params) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var _a, postData, error_1, postData, error_2, args, topic0, logs, blocks, i, log, block, _b;\\n            return __generator(this, function (_c) {\\n                switch (_c.label) {\\n                    case 0:\\n                        _a = method;\\n                        switch (_a) {\\n                            case \\\"getBlockNumber\\\": return [3 /*break*/, 1];\\n                            case \\\"getGasPrice\\\": return [3 /*break*/, 2];\\n                            case \\\"getBalance\\\": return [3 /*break*/, 3];\\n                            case \\\"getTransactionCount\\\": return [3 /*break*/, 4];\\n                            case \\\"getCode\\\": return [3 /*break*/, 5];\\n                            case \\\"getStorageAt\\\": return [3 /*break*/, 6];\\n                            case \\\"sendTransaction\\\": return [3 /*break*/, 7];\\n                            case \\\"getBlock\\\": return [3 /*break*/, 8];\\n                            case \\\"getTransaction\\\": return [3 /*break*/, 9];\\n                            case \\\"getTransactionReceipt\\\": return [3 /*break*/, 10];\\n                            case \\\"call\\\": return [3 /*break*/, 11];\\n                            case \\\"estimateGas\\\": return [3 /*break*/, 15];\\n                            case \\\"getLogs\\\": return [3 /*break*/, 19];\\n                            case \\\"getEtherPrice\\\": return [3 /*break*/, 26];\\n                        }\\n                        return [3 /*break*/, 28];\\n                    case 1: return [2 /*return*/, this.fetch(\\\"proxy\\\", { action: \\\"eth_blockNumber\\\" })];\\n                    case 2: return [2 /*return*/, this.fetch(\\\"proxy\\\", { action: \\\"eth_gasPrice\\\" })];\\n                    case 3: \\n                    // Returns base-10 result\\n                    return [2 /*return*/, this.fetch(\\\"account\\\", {\\n                            action: \\\"balance\\\",\\n                            address: params.address,\\n                            tag: params.blockTag\\n                        })];\\n                    case 4: return [2 /*return*/, this.fetch(\\\"proxy\\\", {\\n                            action: \\\"eth_getTransactionCount\\\",\\n                            address: params.address,\\n                            tag: params.blockTag\\n                        })];\\n                    case 5: return [2 /*return*/, this.fetch(\\\"proxy\\\", {\\n                            action: \\\"eth_getCode\\\",\\n                            address: params.address,\\n                            tag: params.blockTag\\n                        })];\\n                    case 6: return [2 /*return*/, this.fetch(\\\"proxy\\\", {\\n                            action: \\\"eth_getStorageAt\\\",\\n                            address: params.address,\\n                            position: params.position,\\n                            tag: params.blockTag\\n                        })];\\n                    case 7: return [2 /*return*/, this.fetch(\\\"proxy\\\", {\\n                            action: \\\"eth_sendRawTransaction\\\",\\n                            hex: params.signedTransaction\\n                        }, true).catch(function (error) {\\n                            return checkError(\\\"sendTransaction\\\", error, params.signedTransaction);\\n                        })];\\n                    case 8:\\n                        if (params.blockTag) {\\n                            return [2 /*return*/, this.fetch(\\\"proxy\\\", {\\n                                    action: \\\"eth_getBlockByNumber\\\",\\n                                    tag: params.blockTag,\\n                                    boolean: (params.includeTransactions ? \\\"true\\\" : \\\"false\\\")\\n                                })];\\n                        }\\n                        throw new Error(\\\"getBlock by blockHash not implemented\\\");\\n                    case 9: return [2 /*return*/, this.fetch(\\\"proxy\\\", {\\n                            action: \\\"eth_getTransactionByHash\\\",\\n                            txhash: params.transactionHash\\n                        })];\\n                    case 10: return [2 /*return*/, this.fetch(\\\"proxy\\\", {\\n                            action: \\\"eth_getTransactionReceipt\\\",\\n                            txhash: params.transactionHash\\n                        })];\\n                    case 11:\\n                        if (params.blockTag !== \\\"latest\\\") {\\n                            throw new Error(\\\"EtherscanProvider does not support blockTag for call\\\");\\n                        }\\n                        postData = getTransactionPostData(params.transaction);\\n                        postData.module = \\\"proxy\\\";\\n                        postData.action = \\\"eth_call\\\";\\n                        _c.label = 12;\\n                    case 12:\\n                        _c.trys.push([12, 14, , 15]);\\n                        return [4 /*yield*/, this.fetch(\\\"proxy\\\", postData, true)];\\n                    case 13: return [2 /*return*/, _c.sent()];\\n                    case 14:\\n                        error_1 = _c.sent();\\n                        return [2 /*return*/, checkError(\\\"call\\\", error_1, params.transaction)];\\n                    case 15:\\n                        postData = getTransactionPostData(params.transaction);\\n                        postData.module = \\\"proxy\\\";\\n                        postData.action = \\\"eth_estimateGas\\\";\\n                        _c.label = 16;\\n                    case 16:\\n                        _c.trys.push([16, 18, , 19]);\\n                        return [4 /*yield*/, this.fetch(\\\"proxy\\\", postData, true)];\\n                    case 17: return [2 /*return*/, _c.sent()];\\n                    case 18:\\n                        error_2 = _c.sent();\\n                        return [2 /*return*/, checkError(\\\"estimateGas\\\", error_2, params.transaction)];\\n                    case 19:\\n                        args = { action: \\\"getLogs\\\" };\\n                        if (params.filter.fromBlock) {\\n                            args.fromBlock = checkLogTag(params.filter.fromBlock);\\n                        }\\n                        if (params.filter.toBlock) {\\n                            args.toBlock = checkLogTag(params.filter.toBlock);\\n                        }\\n                        if (params.filter.address) {\\n                            args.address = params.filter.address;\\n                        }\\n                        // @TODO: We can handle slightly more complicated logs using the logs API\\n                        if (params.filter.topics && params.filter.topics.length > 0) {\\n                            if (params.filter.topics.length > 1) {\\n                                logger.throwError(\\\"unsupported topic count\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, { topics: params.filter.topics });\\n                            }\\n                            if (params.filter.topics.length === 1) {\\n                                topic0 = params.filter.topics[0];\\n                                if (typeof (topic0) !== \\\"string\\\" || topic0.length !== 66) {\\n                                    logger.throwError(\\\"unsupported topic format\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, { topic0: topic0 });\\n                                }\\n                                args.topic0 = topic0;\\n                            }\\n                        }\\n                        return [4 /*yield*/, this.fetch(\\\"logs\\\", args)];\\n                    case 20:\\n                        logs = _c.sent();\\n                        blocks = {};\\n                        i = 0;\\n                        _c.label = 21;\\n                    case 21:\\n                        if (!(i < logs.length)) return [3 /*break*/, 25];\\n                        log = logs[i];\\n                        if (log.blockHash != null) {\\n                            return [3 /*break*/, 24];\\n                        }\\n                        if (!(blocks[log.blockNumber] == null)) return [3 /*break*/, 23];\\n                        return [4 /*yield*/, this.getBlock(log.blockNumber)];\\n                    case 22:\\n                        block = _c.sent();\\n                        if (block) {\\n                            blocks[log.blockNumber] = block.hash;\\n                        }\\n                        _c.label = 23;\\n                    case 23:\\n                        log.blockHash = blocks[log.blockNumber];\\n                        _c.label = 24;\\n                    case 24:\\n                        i++;\\n                        return [3 /*break*/, 21];\\n                    case 25: return [2 /*return*/, logs];\\n                    case 26:\\n                        if (this.network.name !== \\\"homestead\\\") {\\n                            return [2 /*return*/, 0.0];\\n                        }\\n                        _b = parseFloat;\\n                        return [4 /*yield*/, this.fetch(\\\"stats\\\", { action: \\\"ethprice\\\" })];\\n                    case 27: return [2 /*return*/, _b.apply(void 0, [(_c.sent()).ethusd])];\\n                    case 28: return [3 /*break*/, 29];\\n                    case 29: return [2 /*return*/, _super.prototype.perform.call(this, method, params)];\\n                }\\n            });\\n        });\\n    };\\n    // Note: The `page` page parameter only allows pagination within the\\n    //       10,000 window available without a page and offset parameter\\n    //       Error: Result window is too large, PageNo x Offset size must\\n    //              be less than or equal to 10000\\n    EtherscanProvider.prototype.getHistory = function (addressOrName, startBlock, endBlock) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var params, result;\\n            var _a;\\n            var _this = this;\\n            return __generator(this, function (_b) {\\n                switch (_b.label) {\\n                    case 0:\\n                        _a = {\\n                            action: \\\"txlist\\\"\\n                        };\\n                        return [4 /*yield*/, this.resolveName(addressOrName)];\\n                    case 1:\\n                        params = (_a.address = (_b.sent()),\\n                            _a.startblock = ((startBlock == null) ? 0 : startBlock),\\n                            _a.endblock = ((endBlock == null) ? 99999999 : endBlock),\\n                            _a.sort = \\\"asc\\\",\\n                            _a);\\n                        return [4 /*yield*/, this.fetch(\\\"account\\\", params)];\\n                    case 2:\\n                        result = _b.sent();\\n                        return [2 /*return*/, result.map(function (tx) {\\n                                [\\\"contractAddress\\\", \\\"to\\\"].forEach(function (key) {\\n                                    if (tx[key] == \\\"\\\") {\\n                                        delete tx[key];\\n                                    }\\n                                });\\n                                if (tx.creates == null && tx.contractAddress != null) {\\n                                    tx.creates = tx.contractAddress;\\n                                }\\n                                var item = _this.formatter.transactionResponse(tx);\\n                                if (tx.timeStamp) {\\n                                    item.timestamp = parseInt(tx.timeStamp);\\n                                }\\n                                return item;\\n                            })];\\n                }\\n            });\\n        });\\n    };\\n    EtherscanProvider.prototype.isCommunityResource = function () {\\n        return (this.apiKey == null);\\n    };\\n    return EtherscanProvider;\\n}(base_provider_1.BaseProvider));\\nexports.EtherscanProvider = EtherscanProvider;\\n//# sourceMappingURL=etherscan-provider.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"getTransactionPostData\",\"transaction\",\"result\",\"key\",\"value\",\"type\",\"gasLimit\",\"gasPrice\",\"maxFeePerGs\",\"maxPriorityFeePerGas\",\"nonce\",\"bytes_1\",\"hexValue\",\"hexlify\",\"transactions_1\",\"accessListify\",\"map\",\"set\",\"address\",\"storageKeys\",\"join\",\"getResult\",\"status\",\"message\",\"match\",\"error\",\"Error\",\"JSON\",\"stringify\",\"toLowerCase\",\"indexOf\",\"throttleRetry\",\"getJsonResult\",\"jsonrpc\",\"code\",\"data\",\"checkLogTag\",\"blockTag\",\"parseInt\",\"substring\",\"checkError\",\"method\",\"logger_1\",\"Logger\",\"errors\",\"SERVER_ERROR\",\"e\",\"replace\",\"isHexString\",\"logger\",\"throwError\",\"CALL_EXCEPTION\",\"body\",\"responseText\",\"INSUFFICIENT_FUNDS\",\"NONCE_EXPIRED\",\"REPLACEMENT_UNDERPRICED\",\"UNPREDICTABLE_GAS_LIMIT\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"prototype\",\"hasOwnProperty\",\"call\",\"__\",\"constructor\",\"TypeError\",\"String\",\"create\",\"__awaiter\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"adopt\",\"resolve\",\"Promise\",\"reject\",\"fulfilled\",\"step\",\"next\",\"rejected\",\"done\",\"then\",\"apply\",\"__generator\",\"verb\",\"n\",\"v\",\"op\",\"f\",\"_\",\"y\",\"t\",\"label\",\"ops\",\"pop\",\"trys\",\"length\",\"push\",\"sent\",\"g\",\"Symbol\",\"iterator\",\"defineProperty\",\"EtherscanProvider\",\"properties_1\",\"web_1\",\"formatter_1\",\"_version_1\",\"version\",\"_super\",\"network\",\"apiKey\",\"_this\",\"defineReadOnly\",\"getBaseUrl\",\"EtherscanProvider.prototype.getBaseUrl\",\"name\",\"throwArgumentError\",\"getUrl\",\"EtherscanProvider.prototype.getUrl\",\"params\",\"query\",\"keys\",\"reduce\",\"accum\",\"baseUrl\",\"getPostUrl\",\"EtherscanProvider.prototype.getPostUrl\",\"getPostData\",\"EtherscanProvider.prototype.getPostData\",\"apikey\",\"fetch\",\"EtherscanProvider.prototype.fetch\",\"post\",\"url\",\"payload\",\"procFunc\",\"connection\",\"payloadStr\",\"_a\",\"emit\",\"action\",\"request\",\"provider\",\"throttleSlotInterval\",\"throttleCallback\",\"attempt\",\"isCommunityResource\",\"showThrottleMessage\",\"headers\",\"fetchJson\",\"response\",\"deepCopy\",\"detectNetwork\",\"EtherscanProvider.prototype.detectNetwork\",\"perform\",\"EtherscanProvider.prototype.perform\",\"postData\",\"error_1\",\"error_2\",\"args\",\"topic0\",\"logs\",\"blocks\",\"i\",\"log\",\"block\",\"_b\",\"_c\",\"tag\",\"position\",\"hex\",\"signedTransaction\",\"catch\",\"boolean\",\"includeTransactions\",\"txhash\",\"transactionHash\",\"filter\",\"fromBlock\",\"toBlock\",\"topics\",\"UNSUPPORTED_OPERATION\",\"blockHash\",\"blockNumber\",\"getBlock\",\"hash\",\"parseFloat\",\"ethusd\",\"getHistory\",\"EtherscanProvider.prototype.getHistory\",\"addressOrName\",\"startBlock\",\"endBlock\",\"resolveName\",\"startblock\",\"endblock\",\"sort\",\"tx\",\"forEach\",\"creates\",\"contractAddress\",\"item\",\"formatter\",\"transactionResponse\",\"timeStamp\",\"timestamp\",\"EtherscanProvider.prototype.isCommunityResource\",\"base_provider_1\",\"BaseProvider\"]\n}\n"]