{
"version":3,
"file":"module$node_modules$$ethersproject$providers$lib$base_provider.js",
"lineCount":114,
"mappings":"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",
"sources":["node_modules/@ethersproject/providers/lib/base-provider.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$ethersproject$providers$lib$base_provider\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.BaseProvider = exports.Resolver = exports.Event = void 0;\nvar abstract_provider_1 = require(\"@ethersproject/abstract-provider\");\nvar base64_1 = require(\"@ethersproject/base64\");\nvar basex_1 = require(\"@ethersproject/basex\");\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar constants_1 = require(\"@ethersproject/constants\");\nvar hash_1 = require(\"@ethersproject/hash\");\nvar networks_1 = require(\"@ethersproject/networks\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar sha2_1 = require(\"@ethersproject/sha2\");\nvar strings_1 = require(\"@ethersproject/strings\");\nvar web_1 = require(\"@ethersproject/web\");\nvar bech32_1 = __importDefault(require(\"bech32\"));\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nvar formatter_1 = require(\"./formatter\");\nvar MAX_CCIP_REDIRECTS = 10;\n//////////////////////////////\n// Event Serializeing\nfunction checkTopic(topic) {\n    if (topic == null) {\n        return \"null\";\n    }\n    if ((0, bytes_1.hexDataLength)(topic) !== 32) {\n        logger.throwArgumentError(\"invalid topic\", \"topic\", topic);\n    }\n    return topic.toLowerCase();\n}\nfunction serializeTopics(topics) {\n    // Remove trailing null AND-topics; they are redundant\n    topics = topics.slice();\n    while (topics.length > 0 && topics[topics.length - 1] == null) {\n        topics.pop();\n    }\n    return topics.map(function (topic) {\n        if (Array.isArray(topic)) {\n            // Only track unique OR-topics\n            var unique_1 = {};\n            topic.forEach(function (topic) {\n                unique_1[checkTopic(topic)] = true;\n            });\n            // The order of OR-topics does not matter\n            var sorted = Object.keys(unique_1);\n            sorted.sort();\n            return sorted.join(\"|\");\n        }\n        else {\n            return checkTopic(topic);\n        }\n    }).join(\"&\");\n}\nfunction deserializeTopics(data) {\n    if (data === \"\") {\n        return [];\n    }\n    return data.split(/&/g).map(function (topic) {\n        if (topic === \"\") {\n            return [];\n        }\n        var comps = topic.split(\"|\").map(function (topic) {\n            return ((topic === \"null\") ? null : topic);\n        });\n        return ((comps.length === 1) ? comps[0] : comps);\n    });\n}\nfunction getEventTag(eventName) {\n    if (typeof (eventName) === \"string\") {\n        eventName = eventName.toLowerCase();\n        if ((0, bytes_1.hexDataLength)(eventName) === 32) {\n            return \"tx:\" + eventName;\n        }\n        if (eventName.indexOf(\":\") === -1) {\n            return eventName;\n        }\n    }\n    else if (Array.isArray(eventName)) {\n        return \"filter:*:\" + serializeTopics(eventName);\n    }\n    else if (abstract_provider_1.ForkEvent.isForkEvent(eventName)) {\n        logger.warn(\"not implemented\");\n        throw new Error(\"not implemented\");\n    }\n    else if (eventName && typeof (eventName) === \"object\") {\n        return \"filter:\" + (eventName.address || \"*\") + \":\" + serializeTopics(eventName.topics || []);\n    }\n    throw new Error(\"invalid event - \" + eventName);\n}\n//////////////////////////////\n// Helper Object\nfunction getTime() {\n    return (new Date()).getTime();\n}\nfunction stall(duration) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, duration);\n    });\n}\n//////////////////////////////\n// Provider Object\n/**\n *  EventType\n *   - \"block\"\n *   - \"poll\"\n *   - \"didPoll\"\n *   - \"pending\"\n *   - \"error\"\n *   - \"network\"\n *   - filter\n *   - topics array\n *   - transaction hash\n */\nvar PollableEvents = [\"block\", \"network\", \"pending\", \"poll\"];\nvar Event = /** @class */ (function () {\n    function Event(tag, listener, once) {\n        (0, properties_1.defineReadOnly)(this, \"tag\", tag);\n        (0, properties_1.defineReadOnly)(this, \"listener\", listener);\n        (0, properties_1.defineReadOnly)(this, \"once\", once);\n        this._lastBlockNumber = -2;\n        this._inflight = false;\n    }\n    Object.defineProperty(Event.prototype, \"event\", {\n        get: function () {\n            switch (this.type) {\n                case \"tx\":\n                    return this.hash;\n                case \"filter\":\n                    return this.filter;\n            }\n            return this.tag;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"type\", {\n        get: function () {\n            return this.tag.split(\":\")[0];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"hash\", {\n        get: function () {\n            var comps = this.tag.split(\":\");\n            if (comps[0] !== \"tx\") {\n                return null;\n            }\n            return comps[1];\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(Event.prototype, \"filter\", {\n        get: function () {\n            var comps = this.tag.split(\":\");\n            if (comps[0] !== \"filter\") {\n                return null;\n            }\n            var address = comps[1];\n            var topics = deserializeTopics(comps[2]);\n            var filter = {};\n            if (topics.length > 0) {\n                filter.topics = topics;\n            }\n            if (address && address !== \"*\") {\n                filter.address = address;\n            }\n            return filter;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Event.prototype.pollable = function () {\n        return (this.tag.indexOf(\":\") >= 0 || PollableEvents.indexOf(this.tag) >= 0);\n    };\n    return Event;\n}());\nexports.Event = Event;\n;\n// https://github.com/satoshilabs/slips/blob/master/slip-0044.md\nvar coinInfos = {\n    \"0\": { symbol: \"btc\", p2pkh: 0x00, p2sh: 0x05, prefix: \"bc\" },\n    \"2\": { symbol: \"ltc\", p2pkh: 0x30, p2sh: 0x32, prefix: \"ltc\" },\n    \"3\": { symbol: \"doge\", p2pkh: 0x1e, p2sh: 0x16 },\n    \"60\": { symbol: \"eth\", ilk: \"eth\" },\n    \"61\": { symbol: \"etc\", ilk: \"eth\" },\n    \"700\": { symbol: \"xdai\", ilk: \"eth\" },\n};\nfunction bytes32ify(value) {\n    return (0, bytes_1.hexZeroPad)(bignumber_1.BigNumber.from(value).toHexString(), 32);\n}\n// Compute the Base58Check encoded data (checksum is first 4 bytes of sha256d)\nfunction base58Encode(data) {\n    return basex_1.Base58.encode((0, bytes_1.concat)([data, (0, bytes_1.hexDataSlice)((0, sha2_1.sha256)((0, sha2_1.sha256)(data)), 0, 4)]));\n}\nvar matcherIpfs = new RegExp(\"^(ipfs):/\\/(.*)$\", \"i\");\nvar matchers = [\n    new RegExp(\"^(https):/\\/(.*)$\", \"i\"),\n    new RegExp(\"^(data):(.*)$\", \"i\"),\n    matcherIpfs,\n    new RegExp(\"^eip155:[0-9]+/(erc[0-9]+):(.*)$\", \"i\"),\n];\nfunction _parseString(result, start) {\n    try {\n        return (0, strings_1.toUtf8String)(_parseBytes(result, start));\n    }\n    catch (error) { }\n    return null;\n}\nfunction _parseBytes(result, start) {\n    if (result === \"0x\") {\n        return null;\n    }\n    var offset = bignumber_1.BigNumber.from((0, bytes_1.hexDataSlice)(result, start, start + 32)).toNumber();\n    var length = bignumber_1.BigNumber.from((0, bytes_1.hexDataSlice)(result, offset, offset + 32)).toNumber();\n    return (0, bytes_1.hexDataSlice)(result, offset + 32, offset + 32 + length);\n}\n// Trim off the ipfs:// prefix and return the default gateway URL\nfunction getIpfsLink(link) {\n    if (link.match(/^ipfs:\\/\\/ipfs\\//i)) {\n        link = link.substring(12);\n    }\n    else if (link.match(/^ipfs:\\/\\//i)) {\n        link = link.substring(7);\n    }\n    else {\n        logger.throwArgumentError(\"unsupported IPFS format\", \"link\", link);\n    }\n    return \"https://gateway.ipfs.io/ipfs/\" + link;\n}\nfunction numPad(value) {\n    var result = (0, bytes_1.arrayify)(value);\n    if (result.length > 32) {\n        throw new Error(\"internal; should not happen\");\n    }\n    var padded = new Uint8Array(32);\n    padded.set(result, 32 - result.length);\n    return padded;\n}\nfunction bytesPad(value) {\n    if ((value.length % 32) === 0) {\n        return value;\n    }\n    var result = new Uint8Array(Math.ceil(value.length / 32) * 32);\n    result.set(value);\n    return result;\n}\n// ABI Encodes a series of (bytes, bytes, ...)\nfunction encodeBytes(datas) {\n    var result = [];\n    var byteCount = 0;\n    // Add place-holders for pointers as we add items\n    for (var i = 0; i < datas.length; i++) {\n        result.push(null);\n        byteCount += 32;\n    }\n    for (var i = 0; i < datas.length; i++) {\n        var data = (0, bytes_1.arrayify)(datas[i]);\n        // Update the bytes offset\n        result[i] = numPad(byteCount);\n        // The length and padded value of data\n        result.push(numPad(data.length));\n        result.push(bytesPad(data));\n        byteCount += 32 + Math.ceil(data.length / 32) * 32;\n    }\n    return (0, bytes_1.hexConcat)(result);\n}\nvar Resolver = /** @class */ (function () {\n    // The resolvedAddress is only for creating a ReverseLookup resolver\n    function Resolver(provider, address, name, resolvedAddress) {\n        (0, properties_1.defineReadOnly)(this, \"provider\", provider);\n        (0, properties_1.defineReadOnly)(this, \"name\", name);\n        (0, properties_1.defineReadOnly)(this, \"address\", provider.formatter.address(address));\n        (0, properties_1.defineReadOnly)(this, \"_resolvedAddress\", resolvedAddress);\n    }\n    Resolver.prototype.supportsWildcard = function () {\n        var _this = this;\n        if (!this._supportsEip2544) {\n            // supportsInterface(bytes4 = selector(\"resolve(bytes,bytes)\"))\n            this._supportsEip2544 = this.provider.call({\n                to: this.address,\n                data: \"0x01ffc9a79061b92300000000000000000000000000000000000000000000000000000000\"\n            }).then(function (result) {\n                return bignumber_1.BigNumber.from(result).eq(1);\n            }).catch(function (error) {\n                if (error.code === logger_1.Logger.errors.CALL_EXCEPTION) {\n                    return false;\n                }\n                // Rethrow the error: link is down, etc. Let future attempts retry.\n                _this._supportsEip2544 = null;\n                throw error;\n            });\n        }\n        return this._supportsEip2544;\n    };\n    Resolver.prototype._fetch = function (selector, parameters) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tx, parseBytes, result, error_1;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        tx = {\n                            to: this.address,\n                            ccipReadEnabled: true,\n                            data: (0, bytes_1.hexConcat)([selector, (0, hash_1.namehash)(this.name), (parameters || \"0x\")])\n                        };\n                        parseBytes = false;\n                        return [4 /*yield*/, this.supportsWildcard()];\n                    case 1:\n                        if (_a.sent()) {\n                            parseBytes = true;\n                            // selector(\"resolve(bytes,bytes)\")\n                            tx.data = (0, bytes_1.hexConcat)([\"0x9061b923\", encodeBytes([(0, hash_1.dnsEncode)(this.name), tx.data])]);\n                        }\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.provider.call(tx)];\n                    case 3:\n                        result = _a.sent();\n                        if (((0, bytes_1.arrayify)(result).length % 32) === 4) {\n                            logger.throwError(\"resolver threw error\", logger_1.Logger.errors.CALL_EXCEPTION, {\n                                transaction: tx, data: result\n                            });\n                        }\n                        if (parseBytes) {\n                            result = _parseBytes(result, 0);\n                        }\n                        return [2 /*return*/, result];\n                    case 4:\n                        error_1 = _a.sent();\n                        if (error_1.code === logger_1.Logger.errors.CALL_EXCEPTION) {\n                            return [2 /*return*/, null];\n                        }\n                        throw error_1;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    Resolver.prototype._fetchBytes = function (selector, parameters) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._fetch(selector, parameters)];\n                    case 1:\n                        result = _a.sent();\n                        if (result != null) {\n                            return [2 /*return*/, _parseBytes(result, 0)];\n                        }\n                        return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    Resolver.prototype._getAddress = function (coinType, hexBytes) {\n        var coinInfo = coinInfos[String(coinType)];\n        if (coinInfo == null) {\n            logger.throwError(\"unsupported coin type: \" + coinType, logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"getAddress(\" + coinType + \")\"\n            });\n        }\n        if (coinInfo.ilk === \"eth\") {\n            return this.provider.formatter.address(hexBytes);\n        }\n        var bytes = (0, bytes_1.arrayify)(hexBytes);\n        // P2PKH: OP_DUP OP_HASH160 <pubKeyHash> OP_EQUALVERIFY OP_CHECKSIG\n        if (coinInfo.p2pkh != null) {\n            var p2pkh = hexBytes.match(/^0x76a9([0-9a-f][0-9a-f])([0-9a-f]*)88ac$/);\n            if (p2pkh) {\n                var length_1 = parseInt(p2pkh[1], 16);\n                if (p2pkh[2].length === length_1 * 2 && length_1 >= 1 && length_1 <= 75) {\n                    return base58Encode((0, bytes_1.concat)([[coinInfo.p2pkh], (\"0x\" + p2pkh[2])]));\n                }\n            }\n        }\n        // P2SH: OP_HASH160 <scriptHash> OP_EQUAL\n        if (coinInfo.p2sh != null) {\n            var p2sh = hexBytes.match(/^0xa9([0-9a-f][0-9a-f])([0-9a-f]*)87$/);\n            if (p2sh) {\n                var length_2 = parseInt(p2sh[1], 16);\n                if (p2sh[2].length === length_2 * 2 && length_2 >= 1 && length_2 <= 75) {\n                    return base58Encode((0, bytes_1.concat)([[coinInfo.p2sh], (\"0x\" + p2sh[2])]));\n                }\n            }\n        }\n        // Bech32\n        if (coinInfo.prefix != null) {\n            var length_3 = bytes[1];\n            // https://github.com/bitcoin/bips/blob/master/bip-0141.mediawiki#witness-program\n            var version_1 = bytes[0];\n            if (version_1 === 0x00) {\n                if (length_3 !== 20 && length_3 !== 32) {\n                    version_1 = -1;\n                }\n            }\n            else {\n                version_1 = -1;\n            }\n            if (version_1 >= 0 && bytes.length === 2 + length_3 && length_3 >= 1 && length_3 <= 75) {\n                var words = bech32_1.default.toWords(bytes.slice(2));\n                words.unshift(version_1);\n                return bech32_1.default.encode(coinInfo.prefix, words);\n            }\n        }\n        return null;\n    };\n    Resolver.prototype.getAddress = function (coinType) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result, error_2, hexBytes, address;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (coinType == null) {\n                            coinType = 60;\n                        }\n                        if (!(coinType === 60)) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._fetch(\"0x3b3b57de\")];\n                    case 2:\n                        result = _a.sent();\n                        // No address\n                        if (result === \"0x\" || result === constants_1.HashZero) {\n                            return [2 /*return*/, null];\n                        }\n                        return [2 /*return*/, this.provider.formatter.callAddress(result)];\n                    case 3:\n                        error_2 = _a.sent();\n                        if (error_2.code === logger_1.Logger.errors.CALL_EXCEPTION) {\n                            return [2 /*return*/, null];\n                        }\n                        throw error_2;\n                    case 4: return [4 /*yield*/, this._fetchBytes(\"0xf1cb7e06\", bytes32ify(coinType))];\n                    case 5:\n                        hexBytes = _a.sent();\n                        // No address\n                        if (hexBytes == null || hexBytes === \"0x\") {\n                            return [2 /*return*/, null];\n                        }\n                        address = this._getAddress(coinType, hexBytes);\n                        if (address == null) {\n                            logger.throwError(\"invalid or unsupported coin data\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                                operation: \"getAddress(\" + coinType + \")\",\n                                coinType: coinType,\n                                data: hexBytes\n                            });\n                        }\n                        return [2 /*return*/, address];\n                }\n            });\n        });\n    };\n    Resolver.prototype.getAvatar = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var linkage, avatar, i, match, scheme, _a, selector, owner, _b, comps, addr, tokenId, tokenOwner, _c, _d, balance, _e, _f, tx, metadataUrl, _g, metadata, imageUrl, ipfs, error_3;\n            return __generator(this, function (_h) {\n                switch (_h.label) {\n                    case 0:\n                        linkage = [{ type: \"name\", content: this.name }];\n                        _h.label = 1;\n                    case 1:\n                        _h.trys.push([1, 19, , 20]);\n                        return [4 /*yield*/, this.getText(\"avatar\")];\n                    case 2:\n                        avatar = _h.sent();\n                        if (avatar == null) {\n                            return [2 /*return*/, null];\n                        }\n                        i = 0;\n                        _h.label = 3;\n                    case 3:\n                        if (!(i < matchers.length)) return [3 /*break*/, 18];\n                        match = avatar.match(matchers[i]);\n                        if (match == null) {\n                            return [3 /*break*/, 17];\n                        }\n                        scheme = match[1].toLowerCase();\n                        _a = scheme;\n                        switch (_a) {\n                            case \"https\": return [3 /*break*/, 4];\n                            case \"data\": return [3 /*break*/, 5];\n                            case \"ipfs\": return [3 /*break*/, 6];\n                            case \"erc721\": return [3 /*break*/, 7];\n                            case \"erc1155\": return [3 /*break*/, 7];\n                        }\n                        return [3 /*break*/, 17];\n                    case 4:\n                        linkage.push({ type: \"url\", content: avatar });\n                        return [2 /*return*/, { linkage: linkage, url: avatar }];\n                    case 5:\n                        linkage.push({ type: \"data\", content: avatar });\n                        return [2 /*return*/, { linkage: linkage, url: avatar }];\n                    case 6:\n                        linkage.push({ type: \"ipfs\", content: avatar });\n                        return [2 /*return*/, { linkage: linkage, url: getIpfsLink(avatar) }];\n                    case 7:\n                        selector = (scheme === \"erc721\") ? \"0xc87b56dd\" : \"0x0e89341c\";\n                        linkage.push({ type: scheme, content: avatar });\n                        _b = this._resolvedAddress;\n                        if (_b) return [3 /*break*/, 9];\n                        return [4 /*yield*/, this.getAddress()];\n                    case 8:\n                        _b = (_h.sent());\n                        _h.label = 9;\n                    case 9:\n                        owner = (_b);\n                        comps = (match[2] || \"\").split(\"/\");\n                        if (comps.length !== 2) {\n                            return [2 /*return*/, null];\n                        }\n                        return [4 /*yield*/, this.provider.formatter.address(comps[0])];\n                    case 10:\n                        addr = _h.sent();\n                        tokenId = (0, bytes_1.hexZeroPad)(bignumber_1.BigNumber.from(comps[1]).toHexString(), 32);\n                        if (!(scheme === \"erc721\")) return [3 /*break*/, 12];\n                        _d = (_c = this.provider.formatter).callAddress;\n                        return [4 /*yield*/, this.provider.call({\n                                to: addr, data: (0, bytes_1.hexConcat)([\"0x6352211e\", tokenId])\n                            })];\n                    case 11:\n                        tokenOwner = _d.apply(_c, [_h.sent()]);\n                        if (owner !== tokenOwner) {\n                            return [2 /*return*/, null];\n                        }\n                        linkage.push({ type: \"owner\", content: tokenOwner });\n                        return [3 /*break*/, 14];\n                    case 12:\n                        if (!(scheme === \"erc1155\")) return [3 /*break*/, 14];\n                        _f = (_e = bignumber_1.BigNumber).from;\n                        return [4 /*yield*/, this.provider.call({\n                                to: addr, data: (0, bytes_1.hexConcat)([\"0x00fdd58e\", (0, bytes_1.hexZeroPad)(owner, 32), tokenId])\n                            })];\n                    case 13:\n                        balance = _f.apply(_e, [_h.sent()]);\n                        if (balance.isZero()) {\n                            return [2 /*return*/, null];\n                        }\n                        linkage.push({ type: \"balance\", content: balance.toString() });\n                        _h.label = 14;\n                    case 14:\n                        tx = {\n                            to: this.provider.formatter.address(comps[0]),\n                            data: (0, bytes_1.hexConcat)([selector, tokenId])\n                        };\n                        _g = _parseString;\n                        return [4 /*yield*/, this.provider.call(tx)];\n                    case 15:\n                        metadataUrl = _g.apply(void 0, [_h.sent(), 0]);\n                        if (metadataUrl == null) {\n                            return [2 /*return*/, null];\n                        }\n                        linkage.push({ type: \"metadata-url-base\", content: metadataUrl });\n                        // ERC-1155 allows a generic {id} in the URL\n                        if (scheme === \"erc1155\") {\n                            metadataUrl = metadataUrl.replace(\"{id}\", tokenId.substring(2));\n                            linkage.push({ type: \"metadata-url-expanded\", content: metadataUrl });\n                        }\n                        // Transform IPFS metadata links\n                        if (metadataUrl.match(/^ipfs:/i)) {\n                            metadataUrl = getIpfsLink(metadataUrl);\n                        }\n                        linkage.push({ type: \"metadata-url\", content: metadataUrl });\n                        return [4 /*yield*/, (0, web_1.fetchJson)(metadataUrl)];\n                    case 16:\n                        metadata = _h.sent();\n                        if (!metadata) {\n                            return [2 /*return*/, null];\n                        }\n                        linkage.push({ type: \"metadata\", content: JSON.stringify(metadata) });\n                        imageUrl = metadata.image;\n                        if (typeof (imageUrl) !== \"string\") {\n                            return [2 /*return*/, null];\n                        }\n                        if (imageUrl.match(/^(https:\\/\\/|data:)/i)) {\n                            // Allow\n                        }\n                        else {\n                            ipfs = imageUrl.match(matcherIpfs);\n                            if (ipfs == null) {\n                                return [2 /*return*/, null];\n                            }\n                            linkage.push({ type: \"url-ipfs\", content: imageUrl });\n                            imageUrl = getIpfsLink(imageUrl);\n                        }\n                        linkage.push({ type: \"url\", content: imageUrl });\n                        return [2 /*return*/, { linkage: linkage, url: imageUrl }];\n                    case 17:\n                        i++;\n                        return [3 /*break*/, 3];\n                    case 18: return [3 /*break*/, 20];\n                    case 19:\n                        error_3 = _h.sent();\n                        return [3 /*break*/, 20];\n                    case 20: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    Resolver.prototype.getContentHash = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var hexBytes, ipfs, length_4, ipns, length_5, swarm, skynet, urlSafe_1, hash;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._fetchBytes(\"0xbc1c58d1\")];\n                    case 1:\n                        hexBytes = _a.sent();\n                        // No contenthash\n                        if (hexBytes == null || hexBytes === \"0x\") {\n                            return [2 /*return*/, null];\n                        }\n                        ipfs = hexBytes.match(/^0xe3010170(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n                        if (ipfs) {\n                            length_4 = parseInt(ipfs[3], 16);\n                            if (ipfs[4].length === length_4 * 2) {\n                                return [2 /*return*/, \"ipfs:/\\/\" + basex_1.Base58.encode(\"0x\" + ipfs[1])];\n                            }\n                        }\n                        ipns = hexBytes.match(/^0xe5010172(([0-9a-f][0-9a-f])([0-9a-f][0-9a-f])([0-9a-f]*))$/);\n                        if (ipns) {\n                            length_5 = parseInt(ipns[3], 16);\n                            if (ipns[4].length === length_5 * 2) {\n                                return [2 /*return*/, \"ipns:/\\/\" + basex_1.Base58.encode(\"0x\" + ipns[1])];\n                            }\n                        }\n                        swarm = hexBytes.match(/^0xe40101fa011b20([0-9a-f]*)$/);\n                        if (swarm) {\n                            if (swarm[1].length === (32 * 2)) {\n                                return [2 /*return*/, \"bzz:/\\/\" + swarm[1]];\n                            }\n                        }\n                        skynet = hexBytes.match(/^0x90b2c605([0-9a-f]*)$/);\n                        if (skynet) {\n                            if (skynet[1].length === (34 * 2)) {\n                                urlSafe_1 = { \"=\": \"\", \"+\": \"-\", \"/\": \"_\" };\n                                hash = (0, base64_1.encode)(\"0x\" + skynet[1]).replace(/[=+\\/]/g, function (a) { return (urlSafe_1[a]); });\n                                return [2 /*return*/, \"sia:/\\/\" + hash];\n                            }\n                        }\n                        return [2 /*return*/, logger.throwError(\"invalid or unsupported content hash data\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                                operation: \"getContentHash()\",\n                                data: hexBytes\n                            })];\n                }\n            });\n        });\n    };\n    Resolver.prototype.getText = function (key) {\n        return __awaiter(this, void 0, void 0, function () {\n            var keyBytes, hexBytes;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        keyBytes = (0, strings_1.toUtf8Bytes)(key);\n                        // The nodehash consumes the first slot, so the string pointer targets\n                        // offset 64, with the length at offset 64 and data starting at offset 96\n                        keyBytes = (0, bytes_1.concat)([bytes32ify(64), bytes32ify(keyBytes.length), keyBytes]);\n                        // Pad to word-size (32 bytes)\n                        if ((keyBytes.length % 32) !== 0) {\n                            keyBytes = (0, bytes_1.concat)([keyBytes, (0, bytes_1.hexZeroPad)(\"0x\", 32 - (key.length % 32))]);\n                        }\n                        return [4 /*yield*/, this._fetchBytes(\"0x59d1d43c\", (0, bytes_1.hexlify)(keyBytes))];\n                    case 1:\n                        hexBytes = _a.sent();\n                        if (hexBytes == null || hexBytes === \"0x\") {\n                            return [2 /*return*/, null];\n                        }\n                        return [2 /*return*/, (0, strings_1.toUtf8String)(hexBytes)];\n                }\n            });\n        });\n    };\n    return Resolver;\n}());\nexports.Resolver = Resolver;\nvar defaultFormatter = null;\nvar nextPollId = 1;\nvar BaseProvider = /** @class */ (function (_super) {\n    __extends(BaseProvider, _super);\n    /**\n     *  ready\n     *\n     *  A Promise<Network> that resolves only once the provider is ready.\n     *\n     *  Sub-classes that call the super with a network without a chainId\n     *  MUST set this. Standard named networks have a known chainId.\n     *\n     */\n    function BaseProvider(network) {\n        var _newTarget = this.constructor;\n        var _this = _super.call(this) || this;\n        // Events being listened to\n        _this._events = [];\n        _this._emitted = { block: -2 };\n        _this.disableCcipRead = false;\n        _this.formatter = _newTarget.getFormatter();\n        // If network is any, this Provider allows the underlying\n        // network to change dynamically, and we auto-detect the\n        // current network\n        (0, properties_1.defineReadOnly)(_this, \"anyNetwork\", (network === \"any\"));\n        if (_this.anyNetwork) {\n            network = _this.detectNetwork();\n        }\n        if (network instanceof Promise) {\n            _this._networkPromise = network;\n            // Squash any \"unhandled promise\" errors; that do not need to be handled\n            network.catch(function (error) { });\n            // Trigger initial network setting (async)\n            _this._ready().catch(function (error) { });\n        }\n        else {\n            var knownNetwork = (0, properties_1.getStatic)(_newTarget, \"getNetwork\")(network);\n            if (knownNetwork) {\n                (0, properties_1.defineReadOnly)(_this, \"_network\", knownNetwork);\n                _this.emit(\"network\", knownNetwork, null);\n            }\n            else {\n                logger.throwArgumentError(\"invalid network\", \"network\", network);\n            }\n        }\n        _this._maxInternalBlockNumber = -1024;\n        _this._lastBlockNumber = -2;\n        _this._maxFilterBlockRange = 10;\n        _this._pollingInterval = 4000;\n        _this._fastQueryDate = 0;\n        return _this;\n    }\n    BaseProvider.prototype._ready = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var network, error_4;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(this._network == null)) return [3 /*break*/, 7];\n                        network = null;\n                        if (!this._networkPromise) return [3 /*break*/, 4];\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._networkPromise];\n                    case 2:\n                        network = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_4 = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 4:\n                        if (!(network == null)) return [3 /*break*/, 6];\n                        return [4 /*yield*/, this.detectNetwork()];\n                    case 5:\n                        network = _a.sent();\n                        _a.label = 6;\n                    case 6:\n                        // This should never happen; every Provider sub-class should have\n                        // suggested a network by here (or have thrown).\n                        if (!network) {\n                            logger.throwError(\"no network detected\", logger_1.Logger.errors.UNKNOWN_ERROR, {});\n                        }\n                        // Possible this call stacked so do not call defineReadOnly again\n                        if (this._network == null) {\n                            if (this.anyNetwork) {\n                                this._network = network;\n                            }\n                            else {\n                                (0, properties_1.defineReadOnly)(this, \"_network\", network);\n                            }\n                            this.emit(\"network\", network, null);\n                        }\n                        _a.label = 7;\n                    case 7: return [2 /*return*/, this._network];\n                }\n            });\n        });\n    };\n    Object.defineProperty(BaseProvider.prototype, \"ready\", {\n        // This will always return the most recently established network.\n        // For \"any\", this can change (a \"network\" event is emitted before\n        // any change is reflected); otherwise this cannot change\n        get: function () {\n            var _this = this;\n            return (0, web_1.poll)(function () {\n                return _this._ready().then(function (network) {\n                    return network;\n                }, function (error) {\n                    // If the network isn't running yet, we will wait\n                    if (error.code === logger_1.Logger.errors.NETWORK_ERROR && error.event === \"noNetwork\") {\n                        return undefined;\n                    }\n                    throw error;\n                });\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // @TODO: Remove this and just create a singleton formatter\n    BaseProvider.getFormatter = function () {\n        if (defaultFormatter == null) {\n            defaultFormatter = new formatter_1.Formatter();\n        }\n        return defaultFormatter;\n    };\n    // @TODO: Remove this and just use getNetwork\n    BaseProvider.getNetwork = function (network) {\n        return (0, networks_1.getNetwork)((network == null) ? \"homestead\" : network);\n    };\n    BaseProvider.prototype.ccipReadFetch = function (tx, calldata, urls) {\n        return __awaiter(this, void 0, void 0, function () {\n            var sender, data, errorMessages, i, url, href, json, result, errorMessage;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (this.disableCcipRead || urls.length === 0) {\n                            return [2 /*return*/, null];\n                        }\n                        sender = tx.to.toLowerCase();\n                        data = calldata.toLowerCase();\n                        errorMessages = [];\n                        i = 0;\n                        _a.label = 1;\n                    case 1:\n                        if (!(i < urls.length)) return [3 /*break*/, 4];\n                        url = urls[i];\n                        href = url.replace(\"{sender}\", sender).replace(\"{data}\", data);\n                        json = (url.indexOf(\"{data}\") >= 0) ? null : JSON.stringify({ data: data, sender: sender });\n                        return [4 /*yield*/, (0, web_1.fetchJson)({ url: href, errorPassThrough: true }, json, function (value, response) {\n                                value.status = response.statusCode;\n                                return value;\n                            })];\n                    case 2:\n                        result = _a.sent();\n                        if (result.data) {\n                            return [2 /*return*/, result.data];\n                        }\n                        errorMessage = (result.message || \"unknown error\");\n                        // 4xx indicates the result is not present; stop\n                        if (result.status >= 400 && result.status < 500) {\n                            return [2 /*return*/, logger.throwError(\"response not found during CCIP fetch: \" + errorMessage, logger_1.Logger.errors.SERVER_ERROR, { url: url, errorMessage: errorMessage })];\n                        }\n                        // 5xx indicates server issue; try the next url\n                        errorMessages.push(errorMessage);\n                        _a.label = 3;\n                    case 3:\n                        i++;\n                        return [3 /*break*/, 1];\n                    case 4: return [2 /*return*/, logger.throwError(\"error encountered during CCIP fetch: \" + errorMessages.map(function (m) { return JSON.stringify(m); }).join(\", \"), logger_1.Logger.errors.SERVER_ERROR, {\n                            urls: urls,\n                            errorMessages: errorMessages\n                        })];\n                }\n            });\n        });\n    };\n    // Fetches the blockNumber, but will reuse any result that is less\n    // than maxAge old or has been requested since the last request\n    BaseProvider.prototype._getInternalBlockNumber = function (maxAge) {\n        return __awaiter(this, void 0, void 0, function () {\n            var internalBlockNumber, result, error_5, reqTime, checkInternalBlockNumber;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ready()];\n                    case 1:\n                        _a.sent();\n                        if (!(maxAge > 0)) return [3 /*break*/, 7];\n                        _a.label = 2;\n                    case 2:\n                        if (!this._internalBlockNumber) return [3 /*break*/, 7];\n                        internalBlockNumber = this._internalBlockNumber;\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, internalBlockNumber];\n                    case 4:\n                        result = _a.sent();\n                        if ((getTime() - result.respTime) <= maxAge) {\n                            return [2 /*return*/, result.blockNumber];\n                        }\n                        // Too old; fetch a new value\n                        return [3 /*break*/, 7];\n                    case 5:\n                        error_5 = _a.sent();\n                        // The fetch rejected; if we are the first to get the\n                        // rejection, drop through so we replace it with a new\n                        // fetch; all others blocked will then get that fetch\n                        // which won't match the one they \"remembered\" and loop\n                        if (this._internalBlockNumber === internalBlockNumber) {\n                            return [3 /*break*/, 7];\n                        }\n                        return [3 /*break*/, 6];\n                    case 6: return [3 /*break*/, 2];\n                    case 7:\n                        reqTime = getTime();\n                        checkInternalBlockNumber = (0, properties_1.resolveProperties)({\n                            blockNumber: this.perform(\"getBlockNumber\", {}),\n                            networkError: this.getNetwork().then(function (network) { return (null); }, function (error) { return (error); })\n                        }).then(function (_a) {\n                            var blockNumber = _a.blockNumber, networkError = _a.networkError;\n                            if (networkError) {\n                                // Unremember this bad internal block number\n                                if (_this._internalBlockNumber === checkInternalBlockNumber) {\n                                    _this._internalBlockNumber = null;\n                                }\n                                throw networkError;\n                            }\n                            var respTime = getTime();\n                            blockNumber = bignumber_1.BigNumber.from(blockNumber).toNumber();\n                            if (blockNumber < _this._maxInternalBlockNumber) {\n                                blockNumber = _this._maxInternalBlockNumber;\n                            }\n                            _this._maxInternalBlockNumber = blockNumber;\n                            _this._setFastBlockNumber(blockNumber); // @TODO: Still need this?\n                            return { blockNumber: blockNumber, reqTime: reqTime, respTime: respTime };\n                        });\n                        this._internalBlockNumber = checkInternalBlockNumber;\n                        // Swallow unhandled exceptions; if needed they are handled else where\n                        checkInternalBlockNumber.catch(function (error) {\n                            // Don't null the dead (rejected) fetch, if it has already been updated\n                            if (_this._internalBlockNumber === checkInternalBlockNumber) {\n                                _this._internalBlockNumber = null;\n                            }\n                        });\n                        return [4 /*yield*/, checkInternalBlockNumber];\n                    case 8: return [2 /*return*/, (_a.sent()).blockNumber];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.poll = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var pollId, runners, blockNumber, error_6, i;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        pollId = nextPollId++;\n                        runners = [];\n                        blockNumber = null;\n                        _a.label = 1;\n                    case 1:\n                        _a.trys.push([1, 3, , 4]);\n                        return [4 /*yield*/, this._getInternalBlockNumber(100 + this.pollingInterval / 2)];\n                    case 2:\n                        blockNumber = _a.sent();\n                        return [3 /*break*/, 4];\n                    case 3:\n                        error_6 = _a.sent();\n                        this.emit(\"error\", error_6);\n                        return [2 /*return*/];\n                    case 4:\n                        this._setFastBlockNumber(blockNumber);\n                        // Emit a poll event after we have the latest (fast) block number\n                        this.emit(\"poll\", pollId, blockNumber);\n                        // If the block has not changed, meh.\n                        if (blockNumber === this._lastBlockNumber) {\n                            this.emit(\"didPoll\", pollId);\n                            return [2 /*return*/];\n                        }\n                        // First polling cycle, trigger a \"block\" events\n                        if (this._emitted.block === -2) {\n                            this._emitted.block = blockNumber - 1;\n                        }\n                        if (Math.abs((this._emitted.block) - blockNumber) > 1000) {\n                            logger.warn(\"network block skew detected; skipping block events (emitted=\" + this._emitted.block + \" blockNumber\" + blockNumber + \")\");\n                            this.emit(\"error\", logger.makeError(\"network block skew detected\", logger_1.Logger.errors.NETWORK_ERROR, {\n                                blockNumber: blockNumber,\n                                event: \"blockSkew\",\n                                previousBlockNumber: this._emitted.block\n                            }));\n                            this.emit(\"block\", blockNumber);\n                        }\n                        else {\n                            // Notify all listener for each block that has passed\n                            for (i = this._emitted.block + 1; i <= blockNumber; i++) {\n                                this.emit(\"block\", i);\n                            }\n                        }\n                        // The emitted block was updated, check for obsolete events\n                        if (this._emitted.block !== blockNumber) {\n                            this._emitted.block = blockNumber;\n                            Object.keys(this._emitted).forEach(function (key) {\n                                // The block event does not expire\n                                if (key === \"block\") {\n                                    return;\n                                }\n                                // The block we were at when we emitted this event\n                                var eventBlockNumber = _this._emitted[key];\n                                // We cannot garbage collect pending transactions or blocks here\n                                // They should be garbage collected by the Provider when setting\n                                // \"pending\" events\n                                if (eventBlockNumber === \"pending\") {\n                                    return;\n                                }\n                                // Evict any transaction hashes or block hashes over 12 blocks\n                                // old, since they should not return null anyways\n                                if (blockNumber - eventBlockNumber > 12) {\n                                    delete _this._emitted[key];\n                                }\n                            });\n                        }\n                        // First polling cycle\n                        if (this._lastBlockNumber === -2) {\n                            this._lastBlockNumber = blockNumber - 1;\n                        }\n                        // Find all transaction hashes we are waiting on\n                        this._events.forEach(function (event) {\n                            switch (event.type) {\n                                case \"tx\": {\n                                    var hash_2 = event.hash;\n                                    var runner = _this.getTransactionReceipt(hash_2).then(function (receipt) {\n                                        if (!receipt || receipt.blockNumber == null) {\n                                            return null;\n                                        }\n                                        _this._emitted[\"t:\" + hash_2] = receipt.blockNumber;\n                                        _this.emit(hash_2, receipt);\n                                        return null;\n                                    }).catch(function (error) { _this.emit(\"error\", error); });\n                                    runners.push(runner);\n                                    break;\n                                }\n                                case \"filter\": {\n                                    // We only allow a single getLogs to be in-flight at a time\n                                    if (!event._inflight) {\n                                        event._inflight = true;\n                                        // This is the first filter for this event, so we want to\n                                        // restrict events to events that happened no earlier than now\n                                        if (event._lastBlockNumber === -2) {\n                                            event._lastBlockNumber = blockNumber - 1;\n                                        }\n                                        // Filter from the last *known* event; due to load-balancing\n                                        // and some nodes returning updated block numbers before\n                                        // indexing events, a logs result with 0 entries cannot be\n                                        // trusted and we must retry a range which includes it again\n                                        var filter_1 = event.filter;\n                                        filter_1.fromBlock = event._lastBlockNumber + 1;\n                                        filter_1.toBlock = blockNumber;\n                                        // Prevent fitler ranges from growing too wild, since it is quite\n                                        // likely there just haven't been any events to move the lastBlockNumber.\n                                        var minFromBlock = filter_1.toBlock - _this._maxFilterBlockRange;\n                                        if (minFromBlock > filter_1.fromBlock) {\n                                            filter_1.fromBlock = minFromBlock;\n                                        }\n                                        if (filter_1.fromBlock < 0) {\n                                            filter_1.fromBlock = 0;\n                                        }\n                                        var runner = _this.getLogs(filter_1).then(function (logs) {\n                                            // Allow the next getLogs\n                                            event._inflight = false;\n                                            if (logs.length === 0) {\n                                                return;\n                                            }\n                                            logs.forEach(function (log) {\n                                                // Only when we get an event for a given block number\n                                                // can we trust the events are indexed\n                                                if (log.blockNumber > event._lastBlockNumber) {\n                                                    event._lastBlockNumber = log.blockNumber;\n                                                }\n                                                // Make sure we stall requests to fetch blocks and txs\n                                                _this._emitted[\"b:\" + log.blockHash] = log.blockNumber;\n                                                _this._emitted[\"t:\" + log.transactionHash] = log.blockNumber;\n                                                _this.emit(filter_1, log);\n                                            });\n                                        }).catch(function (error) {\n                                            _this.emit(\"error\", error);\n                                            // Allow another getLogs (the range was not updated)\n                                            event._inflight = false;\n                                        });\n                                        runners.push(runner);\n                                    }\n                                    break;\n                                }\n                            }\n                        });\n                        this._lastBlockNumber = blockNumber;\n                        // Once all events for this loop have been processed, emit \"didPoll\"\n                        Promise.all(runners).then(function () {\n                            _this.emit(\"didPoll\", pollId);\n                        }).catch(function (error) { _this.emit(\"error\", error); });\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // Deprecated; do not use this\n    BaseProvider.prototype.resetEventsBlock = function (blockNumber) {\n        this._lastBlockNumber = blockNumber - 1;\n        if (this.polling) {\n            this.poll();\n        }\n    };\n    Object.defineProperty(BaseProvider.prototype, \"network\", {\n        get: function () {\n            return this._network;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    // This method should query the network if the underlying network\n    // can change, such as when connected to a JSON-RPC backend\n    BaseProvider.prototype.detectNetwork = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, logger.throwError(\"provider does not support network detection\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                        operation: \"provider.detectNetwork\"\n                    })];\n            });\n        });\n    };\n    BaseProvider.prototype.getNetwork = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var network, currentNetwork, error;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this._ready()];\n                    case 1:\n                        network = _a.sent();\n                        return [4 /*yield*/, this.detectNetwork()];\n                    case 2:\n                        currentNetwork = _a.sent();\n                        if (!(network.chainId !== currentNetwork.chainId)) return [3 /*break*/, 5];\n                        if (!this.anyNetwork) return [3 /*break*/, 4];\n                        this._network = currentNetwork;\n                        // Reset all internal block number guards and caches\n                        this._lastBlockNumber = -2;\n                        this._fastBlockNumber = null;\n                        this._fastBlockNumberPromise = null;\n                        this._fastQueryDate = 0;\n                        this._emitted.block = -2;\n                        this._maxInternalBlockNumber = -1024;\n                        this._internalBlockNumber = null;\n                        // The \"network\" event MUST happen before this method resolves\n                        // so any events have a chance to unregister, so we stall an\n                        // additional event loop before returning from /this/ call\n                        this.emit(\"network\", currentNetwork, network);\n                        return [4 /*yield*/, stall(0)];\n                    case 3:\n                        _a.sent();\n                        return [2 /*return*/, this._network];\n                    case 4:\n                        error = logger.makeError(\"underlying network changed\", logger_1.Logger.errors.NETWORK_ERROR, {\n                            event: \"changed\",\n                            network: network,\n                            detectedNetwork: currentNetwork\n                        });\n                        this.emit(\"error\", error);\n                        throw error;\n                    case 5: return [2 /*return*/, network];\n                }\n            });\n        });\n    };\n    Object.defineProperty(BaseProvider.prototype, \"blockNumber\", {\n        get: function () {\n            var _this = this;\n            this._getInternalBlockNumber(100 + this.pollingInterval / 2).then(function (blockNumber) {\n                _this._setFastBlockNumber(blockNumber);\n            }, function (error) { });\n            return (this._fastBlockNumber != null) ? this._fastBlockNumber : -1;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseProvider.prototype, \"polling\", {\n        get: function () {\n            return (this._poller != null);\n        },\n        set: function (value) {\n            var _this = this;\n            if (value && !this._poller) {\n                this._poller = setInterval(function () { _this.poll(); }, this.pollingInterval);\n                if (!this._bootstrapPoll) {\n                    this._bootstrapPoll = setTimeout(function () {\n                        _this.poll();\n                        // We block additional polls until the polling interval\n                        // is done, to prevent overwhelming the poll function\n                        _this._bootstrapPoll = setTimeout(function () {\n                            // If polling was disabled, something may require a poke\n                            // since starting the bootstrap poll and it was disabled\n                            if (!_this._poller) {\n                                _this.poll();\n                            }\n                            // Clear out the bootstrap so we can do another\n                            _this._bootstrapPoll = null;\n                        }, _this.pollingInterval);\n                    }, 0);\n                }\n            }\n            else if (!value && this._poller) {\n                clearInterval(this._poller);\n                this._poller = null;\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    Object.defineProperty(BaseProvider.prototype, \"pollingInterval\", {\n        get: function () {\n            return this._pollingInterval;\n        },\n        set: function (value) {\n            var _this = this;\n            if (typeof (value) !== \"number\" || value <= 0 || parseInt(String(value)) != value) {\n                throw new Error(\"invalid polling interval\");\n            }\n            this._pollingInterval = value;\n            if (this._poller) {\n                clearInterval(this._poller);\n                this._poller = setInterval(function () { _this.poll(); }, this._pollingInterval);\n            }\n        },\n        enumerable: false,\n        configurable: true\n    });\n    BaseProvider.prototype._getFastBlockNumber = function () {\n        var _this = this;\n        var now = getTime();\n        // Stale block number, request a newer value\n        if ((now - this._fastQueryDate) > 2 * this._pollingInterval) {\n            this._fastQueryDate = now;\n            this._fastBlockNumberPromise = this.getBlockNumber().then(function (blockNumber) {\n                if (_this._fastBlockNumber == null || blockNumber > _this._fastBlockNumber) {\n                    _this._fastBlockNumber = blockNumber;\n                }\n                return _this._fastBlockNumber;\n            });\n        }\n        return this._fastBlockNumberPromise;\n    };\n    BaseProvider.prototype._setFastBlockNumber = function (blockNumber) {\n        // Older block, maybe a stale request\n        if (this._fastBlockNumber != null && blockNumber < this._fastBlockNumber) {\n            return;\n        }\n        // Update the time we updated the blocknumber\n        this._fastQueryDate = getTime();\n        // Newer block number, use  it\n        if (this._fastBlockNumber == null || blockNumber > this._fastBlockNumber) {\n            this._fastBlockNumber = blockNumber;\n            this._fastBlockNumberPromise = Promise.resolve(blockNumber);\n        }\n    };\n    BaseProvider.prototype.waitForTransaction = function (transactionHash, confirmations, timeout) {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._waitForTransaction(transactionHash, (confirmations == null) ? 1 : confirmations, timeout || 0, null)];\n            });\n        });\n    };\n    BaseProvider.prototype._waitForTransaction = function (transactionHash, confirmations, timeout, replaceable) {\n        return __awaiter(this, void 0, void 0, function () {\n            var receipt;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getTransactionReceipt(transactionHash)];\n                    case 1:\n                        receipt = _a.sent();\n                        // Receipt is already good\n                        if ((receipt ? receipt.confirmations : 0) >= confirmations) {\n                            return [2 /*return*/, receipt];\n                        }\n                        // Poll until the receipt is good...\n                        return [2 /*return*/, new Promise(function (resolve, reject) {\n                                var cancelFuncs = [];\n                                var done = false;\n                                var alreadyDone = function () {\n                                    if (done) {\n                                        return true;\n                                    }\n                                    done = true;\n                                    cancelFuncs.forEach(function (func) { func(); });\n                                    return false;\n                                };\n                                var minedHandler = function (receipt) {\n                                    if (receipt.confirmations < confirmations) {\n                                        return;\n                                    }\n                                    if (alreadyDone()) {\n                                        return;\n                                    }\n                                    resolve(receipt);\n                                };\n                                _this.on(transactionHash, minedHandler);\n                                cancelFuncs.push(function () { _this.removeListener(transactionHash, minedHandler); });\n                                if (replaceable) {\n                                    var lastBlockNumber_1 = replaceable.startBlock;\n                                    var scannedBlock_1 = null;\n                                    var replaceHandler_1 = function (blockNumber) { return __awaiter(_this, void 0, void 0, function () {\n                                        var _this = this;\n                                        return __generator(this, function (_a) {\n                                            switch (_a.label) {\n                                                case 0:\n                                                    if (done) {\n                                                        return [2 /*return*/];\n                                                    }\n                                                    // Wait 1 second; this is only used in the case of a fault, so\n                                                    // we will trade off a little bit of latency for more consistent\n                                                    // results and fewer JSON-RPC calls\n                                                    return [4 /*yield*/, stall(1000)];\n                                                case 1:\n                                                    // Wait 1 second; this is only used in the case of a fault, so\n                                                    // we will trade off a little bit of latency for more consistent\n                                                    // results and fewer JSON-RPC calls\n                                                    _a.sent();\n                                                    this.getTransactionCount(replaceable.from).then(function (nonce) { return __awaiter(_this, void 0, void 0, function () {\n                                                        var mined, block, ti, tx, receipt_1, reason;\n                                                        return __generator(this, function (_a) {\n                                                            switch (_a.label) {\n                                                                case 0:\n                                                                    if (done) {\n                                                                        return [2 /*return*/];\n                                                                    }\n                                                                    if (!(nonce <= replaceable.nonce)) return [3 /*break*/, 1];\n                                                                    lastBlockNumber_1 = blockNumber;\n                                                                    return [3 /*break*/, 9];\n                                                                case 1: return [4 /*yield*/, this.getTransaction(transactionHash)];\n                                                                case 2:\n                                                                    mined = _a.sent();\n                                                                    if (mined && mined.blockNumber != null) {\n                                                                        return [2 /*return*/];\n                                                                    }\n                                                                    // First time scanning. We start a little earlier for some\n                                                                    // wiggle room here to handle the eventually consistent nature\n                                                                    // of blockchain (e.g. the getTransactionCount was for a\n                                                                    // different block)\n                                                                    if (scannedBlock_1 == null) {\n                                                                        scannedBlock_1 = lastBlockNumber_1 - 3;\n                                                                        if (scannedBlock_1 < replaceable.startBlock) {\n                                                                            scannedBlock_1 = replaceable.startBlock;\n                                                                        }\n                                                                    }\n                                                                    _a.label = 3;\n                                                                case 3:\n                                                                    if (!(scannedBlock_1 <= blockNumber)) return [3 /*break*/, 9];\n                                                                    if (done) {\n                                                                        return [2 /*return*/];\n                                                                    }\n                                                                    return [4 /*yield*/, this.getBlockWithTransactions(scannedBlock_1)];\n                                                                case 4:\n                                                                    block = _a.sent();\n                                                                    ti = 0;\n                                                                    _a.label = 5;\n                                                                case 5:\n                                                                    if (!(ti < block.transactions.length)) return [3 /*break*/, 8];\n                                                                    tx = block.transactions[ti];\n                                                                    // Successfully mined!\n                                                                    if (tx.hash === transactionHash) {\n                                                                        return [2 /*return*/];\n                                                                    }\n                                                                    if (!(tx.from === replaceable.from && tx.nonce === replaceable.nonce)) return [3 /*break*/, 7];\n                                                                    if (done) {\n                                                                        return [2 /*return*/];\n                                                                    }\n                                                                    return [4 /*yield*/, this.waitForTransaction(tx.hash, confirmations)];\n                                                                case 6:\n                                                                    receipt_1 = _a.sent();\n                                                                    // Already resolved or rejected (prolly a timeout)\n                                                                    if (alreadyDone()) {\n                                                                        return [2 /*return*/];\n                                                                    }\n                                                                    reason = \"replaced\";\n                                                                    if (tx.data === replaceable.data && tx.to === replaceable.to && tx.value.eq(replaceable.value)) {\n                                                                        reason = \"repriced\";\n                                                                    }\n                                                                    else if (tx.data === \"0x\" && tx.from === tx.to && tx.value.isZero()) {\n                                                                        reason = \"cancelled\";\n                                                                    }\n                                                                    // Explain why we were replaced\n                                                                    reject(logger.makeError(\"transaction was replaced\", logger_1.Logger.errors.TRANSACTION_REPLACED, {\n                                                                        cancelled: (reason === \"replaced\" || reason === \"cancelled\"),\n                                                                        reason: reason,\n                                                                        replacement: this._wrapTransaction(tx),\n                                                                        hash: transactionHash,\n                                                                        receipt: receipt_1\n                                                                    }));\n                                                                    return [2 /*return*/];\n                                                                case 7:\n                                                                    ti++;\n                                                                    return [3 /*break*/, 5];\n                                                                case 8:\n                                                                    scannedBlock_1++;\n                                                                    return [3 /*break*/, 3];\n                                                                case 9:\n                                                                    if (done) {\n                                                                        return [2 /*return*/];\n                                                                    }\n                                                                    this.once(\"block\", replaceHandler_1);\n                                                                    return [2 /*return*/];\n                                                            }\n                                                        });\n                                                    }); }, function (error) {\n                                                        if (done) {\n                                                            return;\n                                                        }\n                                                        _this.once(\"block\", replaceHandler_1);\n                                                    });\n                                                    return [2 /*return*/];\n                                            }\n                                        });\n                                    }); };\n                                    if (done) {\n                                        return;\n                                    }\n                                    _this.once(\"block\", replaceHandler_1);\n                                    cancelFuncs.push(function () {\n                                        _this.removeListener(\"block\", replaceHandler_1);\n                                    });\n                                }\n                                if (typeof (timeout) === \"number\" && timeout > 0) {\n                                    var timer_1 = setTimeout(function () {\n                                        if (alreadyDone()) {\n                                            return;\n                                        }\n                                        reject(logger.makeError(\"timeout exceeded\", logger_1.Logger.errors.TIMEOUT, { timeout: timeout }));\n                                    }, timeout);\n                                    if (timer_1.unref) {\n                                        timer_1.unref();\n                                    }\n                                    cancelFuncs.push(function () { clearTimeout(timer_1); });\n                                }\n                            })];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getBlockNumber = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, this._getInternalBlockNumber(0)];\n            });\n        });\n    };\n    BaseProvider.prototype.getGasPrice = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, this.perform(\"getGasPrice\", {})];\n                    case 2:\n                        result = _a.sent();\n                        try {\n                            return [2 /*return*/, bignumber_1.BigNumber.from(result)];\n                        }\n                        catch (error) {\n                            return [2 /*return*/, logger.throwError(\"bad result from backend\", logger_1.Logger.errors.SERVER_ERROR, {\n                                    method: \"getGasPrice\",\n                                    result: result,\n                                    error: error\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getBalance = function (addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)({\n                                address: this._getAddress(addressOrName),\n                                blockTag: this._getBlockTag(blockTag)\n                            })];\n                    case 2:\n                        params = _a.sent();\n                        return [4 /*yield*/, this.perform(\"getBalance\", params)];\n                    case 3:\n                        result = _a.sent();\n                        try {\n                            return [2 /*return*/, bignumber_1.BigNumber.from(result)];\n                        }\n                        catch (error) {\n                            return [2 /*return*/, logger.throwError(\"bad result from backend\", logger_1.Logger.errors.SERVER_ERROR, {\n                                    method: \"getBalance\",\n                                    params: params,\n                                    result: result,\n                                    error: error\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getTransactionCount = function (addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)({\n                                address: this._getAddress(addressOrName),\n                                blockTag: this._getBlockTag(blockTag)\n                            })];\n                    case 2:\n                        params = _a.sent();\n                        return [4 /*yield*/, this.perform(\"getTransactionCount\", params)];\n                    case 3:\n                        result = _a.sent();\n                        try {\n                            return [2 /*return*/, bignumber_1.BigNumber.from(result).toNumber()];\n                        }\n                        catch (error) {\n                            return [2 /*return*/, logger.throwError(\"bad result from backend\", logger_1.Logger.errors.SERVER_ERROR, {\n                                    method: \"getTransactionCount\",\n                                    params: params,\n                                    result: result,\n                                    error: error\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getCode = function (addressOrName, blockTag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)({\n                                address: this._getAddress(addressOrName),\n                                blockTag: this._getBlockTag(blockTag)\n                            })];\n                    case 2:\n                        params = _a.sent();\n                        return [4 /*yield*/, this.perform(\"getCode\", params)];\n                    case 3:\n                        result = _a.sent();\n                        try {\n                            return [2 /*return*/, (0, bytes_1.hexlify)(result)];\n                        }\n                        catch (error) {\n                            return [2 /*return*/, logger.throwError(\"bad result from backend\", logger_1.Logger.errors.SERVER_ERROR, {\n                                    method: \"getCode\",\n                                    params: params,\n                                    result: result,\n                                    error: error\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getStorageAt = function (addressOrName, position, blockTag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)({\n                                address: this._getAddress(addressOrName),\n                                blockTag: this._getBlockTag(blockTag),\n                                position: Promise.resolve(position).then(function (p) { return (0, bytes_1.hexValue)(p); })\n                            })];\n                    case 2:\n                        params = _a.sent();\n                        return [4 /*yield*/, this.perform(\"getStorageAt\", params)];\n                    case 3:\n                        result = _a.sent();\n                        try {\n                            return [2 /*return*/, (0, bytes_1.hexlify)(result)];\n                        }\n                        catch (error) {\n                            return [2 /*return*/, logger.throwError(\"bad result from backend\", logger_1.Logger.errors.SERVER_ERROR, {\n                                    method: \"getStorageAt\",\n                                    params: params,\n                                    result: result,\n                                    error: error\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    // This should be called by any subclass wrapping a TransactionResponse\n    BaseProvider.prototype._wrapTransaction = function (tx, hash, startBlock) {\n        var _this = this;\n        if (hash != null && (0, bytes_1.hexDataLength)(hash) !== 32) {\n            throw new Error(\"invalid response - sendTransaction\");\n        }\n        var result = tx;\n        // Check the hash we expect is the same as the hash the server reported\n        if (hash != null && tx.hash !== hash) {\n            logger.throwError(\"Transaction hash mismatch from Provider.sendTransaction.\", logger_1.Logger.errors.UNKNOWN_ERROR, { expectedHash: tx.hash, returnedHash: hash });\n        }\n        result.wait = function (confirms, timeout) { return __awaiter(_this, void 0, void 0, function () {\n            var replacement, receipt;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (confirms == null) {\n                            confirms = 1;\n                        }\n                        if (timeout == null) {\n                            timeout = 0;\n                        }\n                        replacement = undefined;\n                        if (confirms !== 0 && startBlock != null) {\n                            replacement = {\n                                data: tx.data,\n                                from: tx.from,\n                                nonce: tx.nonce,\n                                to: tx.to,\n                                value: tx.value,\n                                startBlock: startBlock\n                            };\n                        }\n                        return [4 /*yield*/, this._waitForTransaction(tx.hash, confirms, timeout, replacement)];\n                    case 1:\n                        receipt = _a.sent();\n                        if (receipt == null && confirms === 0) {\n                            return [2 /*return*/, null];\n                        }\n                        // No longer pending, allow the polling loop to garbage collect this\n                        this._emitted[\"t:\" + tx.hash] = receipt.blockNumber;\n                        if (receipt.status === 0) {\n                            logger.throwError(\"transaction failed\", logger_1.Logger.errors.CALL_EXCEPTION, {\n                                transactionHash: tx.hash,\n                                transaction: tx,\n                                receipt: receipt\n                            });\n                        }\n                        return [2 /*return*/, receipt];\n                }\n            });\n        }); };\n        return result;\n    };\n    BaseProvider.prototype.sendTransaction = function (signedTransaction) {\n        return __awaiter(this, void 0, void 0, function () {\n            var hexTx, tx, blockNumber, hash, error_7;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, Promise.resolve(signedTransaction).then(function (t) { return (0, bytes_1.hexlify)(t); })];\n                    case 2:\n                        hexTx = _a.sent();\n                        tx = this.formatter.transaction(signedTransaction);\n                        if (tx.confirmations == null) {\n                            tx.confirmations = 0;\n                        }\n                        return [4 /*yield*/, this._getInternalBlockNumber(100 + 2 * this.pollingInterval)];\n                    case 3:\n                        blockNumber = _a.sent();\n                        _a.label = 4;\n                    case 4:\n                        _a.trys.push([4, 6, , 7]);\n                        return [4 /*yield*/, this.perform(\"sendTransaction\", { signedTransaction: hexTx })];\n                    case 5:\n                        hash = _a.sent();\n                        return [2 /*return*/, this._wrapTransaction(tx, hash, blockNumber)];\n                    case 6:\n                        error_7 = _a.sent();\n                        error_7.transaction = tx;\n                        error_7.transactionHash = tx.hash;\n                        throw error_7;\n                    case 7: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype._getTransactionRequest = function (transaction) {\n        return __awaiter(this, void 0, void 0, function () {\n            var values, tx, _a, _b;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, transaction];\n                    case 1:\n                        values = _c.sent();\n                        tx = {};\n                        [\"from\", \"to\"].forEach(function (key) {\n                            if (values[key] == null) {\n                                return;\n                            }\n                            tx[key] = Promise.resolve(values[key]).then(function (v) { return (v ? _this._getAddress(v) : null); });\n                        });\n                        [\"gasLimit\", \"gasPrice\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"value\"].forEach(function (key) {\n                            if (values[key] == null) {\n                                return;\n                            }\n                            tx[key] = Promise.resolve(values[key]).then(function (v) { return (v ? bignumber_1.BigNumber.from(v) : null); });\n                        });\n                        [\"type\"].forEach(function (key) {\n                            if (values[key] == null) {\n                                return;\n                            }\n                            tx[key] = Promise.resolve(values[key]).then(function (v) { return ((v != null) ? v : null); });\n                        });\n                        if (values.accessList) {\n                            tx.accessList = this.formatter.accessList(values.accessList);\n                        }\n                        [\"data\"].forEach(function (key) {\n                            if (values[key] == null) {\n                                return;\n                            }\n                            tx[key] = Promise.resolve(values[key]).then(function (v) { return (v ? (0, bytes_1.hexlify)(v) : null); });\n                        });\n                        _b = (_a = this.formatter).transactionRequest;\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)(tx)];\n                    case 2: return [2 /*return*/, _b.apply(_a, [_c.sent()])];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype._getFilter = function (filter) {\n        return __awaiter(this, void 0, void 0, function () {\n            var result, _a, _b;\n            var _this = this;\n            return __generator(this, function (_c) {\n                switch (_c.label) {\n                    case 0: return [4 /*yield*/, filter];\n                    case 1:\n                        filter = _c.sent();\n                        result = {};\n                        if (filter.address != null) {\n                            result.address = this._getAddress(filter.address);\n                        }\n                        [\"blockHash\", \"topics\"].forEach(function (key) {\n                            if (filter[key] == null) {\n                                return;\n                            }\n                            result[key] = filter[key];\n                        });\n                        [\"fromBlock\", \"toBlock\"].forEach(function (key) {\n                            if (filter[key] == null) {\n                                return;\n                            }\n                            result[key] = _this._getBlockTag(filter[key]);\n                        });\n                        _b = (_a = this.formatter).filter;\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)(result)];\n                    case 2: return [2 /*return*/, _b.apply(_a, [_c.sent()])];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype._call = function (transaction, blockTag, attempt) {\n        return __awaiter(this, void 0, void 0, function () {\n            var txSender, result, data, sender, urls, urlsOffset, urlsLength, urlsData, u, url, calldata, callbackSelector, extraData, ccipResult, tx, error_8;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (attempt >= MAX_CCIP_REDIRECTS) {\n                            logger.throwError(\"CCIP read exceeded maximum redirections\", logger_1.Logger.errors.SERVER_ERROR, {\n                                redirects: attempt,\n                                transaction: transaction\n                            });\n                        }\n                        txSender = transaction.to;\n                        return [4 /*yield*/, this.perform(\"call\", { transaction: transaction, blockTag: blockTag })];\n                    case 1:\n                        result = _a.sent();\n                        if (!(attempt >= 0 && blockTag === \"latest\" && txSender != null && result.substring(0, 10) === \"0x556f1830\" && ((0, bytes_1.hexDataLength)(result) % 32 === 4))) return [3 /*break*/, 5];\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        data = (0, bytes_1.hexDataSlice)(result, 4);\n                        sender = (0, bytes_1.hexDataSlice)(data, 0, 32);\n                        if (!bignumber_1.BigNumber.from(sender).eq(txSender)) {\n                            logger.throwError(\"CCIP Read sender did not match\", logger_1.Logger.errors.CALL_EXCEPTION, {\n                                name: \"OffchainLookup\",\n                                signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                                transaction: transaction,\n                                data: result\n                            });\n                        }\n                        urls = [];\n                        urlsOffset = bignumber_1.BigNumber.from((0, bytes_1.hexDataSlice)(data, 32, 64)).toNumber();\n                        urlsLength = bignumber_1.BigNumber.from((0, bytes_1.hexDataSlice)(data, urlsOffset, urlsOffset + 32)).toNumber();\n                        urlsData = (0, bytes_1.hexDataSlice)(data, urlsOffset + 32);\n                        for (u = 0; u < urlsLength; u++) {\n                            url = _parseString(urlsData, u * 32);\n                            if (url == null) {\n                                logger.throwError(\"CCIP Read contained corrupt URL string\", logger_1.Logger.errors.CALL_EXCEPTION, {\n                                    name: \"OffchainLookup\",\n                                    signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                                    transaction: transaction,\n                                    data: result\n                                });\n                            }\n                            urls.push(url);\n                        }\n                        calldata = _parseBytes(data, 64);\n                        // Get the callbackSelector (bytes4)\n                        if (!bignumber_1.BigNumber.from((0, bytes_1.hexDataSlice)(data, 100, 128)).isZero()) {\n                            logger.throwError(\"CCIP Read callback selector included junk\", logger_1.Logger.errors.CALL_EXCEPTION, {\n                                name: \"OffchainLookup\",\n                                signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                                transaction: transaction,\n                                data: result\n                            });\n                        }\n                        callbackSelector = (0, bytes_1.hexDataSlice)(data, 96, 100);\n                        extraData = _parseBytes(data, 128);\n                        return [4 /*yield*/, this.ccipReadFetch(transaction, calldata, urls)];\n                    case 3:\n                        ccipResult = _a.sent();\n                        if (ccipResult == null) {\n                            logger.throwError(\"CCIP Read disabled or provided no URLs\", logger_1.Logger.errors.CALL_EXCEPTION, {\n                                name: \"OffchainLookup\",\n                                signature: \"OffchainLookup(address,string[],bytes,bytes4,bytes)\",\n                                transaction: transaction,\n                                data: result\n                            });\n                        }\n                        tx = {\n                            to: txSender,\n                            data: (0, bytes_1.hexConcat)([callbackSelector, encodeBytes([ccipResult, extraData])])\n                        };\n                        return [2 /*return*/, this._call(tx, blockTag, attempt + 1)];\n                    case 4:\n                        error_8 = _a.sent();\n                        if (error_8.code === logger_1.Logger.errors.SERVER_ERROR) {\n                            throw error_8;\n                        }\n                        return [3 /*break*/, 5];\n                    case 5:\n                        try {\n                            return [2 /*return*/, (0, bytes_1.hexlify)(result)];\n                        }\n                        catch (error) {\n                            return [2 /*return*/, logger.throwError(\"bad result from backend\", logger_1.Logger.errors.SERVER_ERROR, {\n                                    method: \"call\",\n                                    params: { transaction: transaction, blockTag: blockTag },\n                                    result: result,\n                                    error: error\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.call = function (transaction, blockTag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolved;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)({\n                                transaction: this._getTransactionRequest(transaction),\n                                blockTag: this._getBlockTag(blockTag),\n                                ccipReadEnabled: Promise.resolve(transaction.ccipReadEnabled)\n                            })];\n                    case 2:\n                        resolved = _a.sent();\n                        return [2 /*return*/, this._call(resolved.transaction, resolved.blockTag, resolved.ccipReadEnabled ? 0 : -1)];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.estimateGas = function (transaction) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, result;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)({\n                                transaction: this._getTransactionRequest(transaction)\n                            })];\n                    case 2:\n                        params = _a.sent();\n                        return [4 /*yield*/, this.perform(\"estimateGas\", params)];\n                    case 3:\n                        result = _a.sent();\n                        try {\n                            return [2 /*return*/, bignumber_1.BigNumber.from(result)];\n                        }\n                        catch (error) {\n                            return [2 /*return*/, logger.throwError(\"bad result from backend\", logger_1.Logger.errors.SERVER_ERROR, {\n                                    method: \"estimateGas\",\n                                    params: params,\n                                    result: result,\n                                    error: error\n                                })];\n                        }\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype._getAddress = function (addressOrName) {\n        return __awaiter(this, void 0, void 0, function () {\n            var address;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, addressOrName];\n                    case 1:\n                        addressOrName = _a.sent();\n                        if (typeof (addressOrName) !== \"string\") {\n                            logger.throwArgumentError(\"invalid address or ENS name\", \"name\", addressOrName);\n                        }\n                        return [4 /*yield*/, this.resolveName(addressOrName)];\n                    case 2:\n                        address = _a.sent();\n                        if (address == null) {\n                            logger.throwError(\"ENS name not configured\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                                operation: \"resolveName(\" + JSON.stringify(addressOrName) + \")\"\n                            });\n                        }\n                        return [2 /*return*/, address];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype._getBlock = function (blockHashOrBlockTag, includeTransactions) {\n        return __awaiter(this, void 0, void 0, function () {\n            var blockNumber, params, _a, error_9;\n            var _this = this;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _b.sent();\n                        return [4 /*yield*/, blockHashOrBlockTag];\n                    case 2:\n                        blockHashOrBlockTag = _b.sent();\n                        blockNumber = -128;\n                        params = {\n                            includeTransactions: !!includeTransactions\n                        };\n                        if (!(0, bytes_1.isHexString)(blockHashOrBlockTag, 32)) return [3 /*break*/, 3];\n                        params.blockHash = blockHashOrBlockTag;\n                        return [3 /*break*/, 6];\n                    case 3:\n                        _b.trys.push([3, 5, , 6]);\n                        _a = params;\n                        return [4 /*yield*/, this._getBlockTag(blockHashOrBlockTag)];\n                    case 4:\n                        _a.blockTag = _b.sent();\n                        if ((0, bytes_1.isHexString)(params.blockTag)) {\n                            blockNumber = parseInt(params.blockTag.substring(2), 16);\n                        }\n                        return [3 /*break*/, 6];\n                    case 5:\n                        error_9 = _b.sent();\n                        logger.throwArgumentError(\"invalid block hash or block tag\", \"blockHashOrBlockTag\", blockHashOrBlockTag);\n                        return [3 /*break*/, 6];\n                    case 6: return [2 /*return*/, (0, web_1.poll)(function () { return __awaiter(_this, void 0, void 0, function () {\n                            var block, blockNumber_1, i, tx, confirmations, blockWithTxs;\n                            var _this = this;\n                            return __generator(this, function (_a) {\n                                switch (_a.label) {\n                                    case 0: return [4 /*yield*/, this.perform(\"getBlock\", params)];\n                                    case 1:\n                                        block = _a.sent();\n                                        // Block was not found\n                                        if (block == null) {\n                                            // For blockhashes, if we didn't say it existed, that blockhash may\n                                            // not exist. If we did see it though, perhaps from a log, we know\n                                            // it exists, and this node is just not caught up yet.\n                                            if (params.blockHash != null) {\n                                                if (this._emitted[\"b:\" + params.blockHash] == null) {\n                                                    return [2 /*return*/, null];\n                                                }\n                                            }\n                                            // For block tags, if we are asking for a future block, we return null\n                                            if (params.blockTag != null) {\n                                                if (blockNumber > this._emitted.block) {\n                                                    return [2 /*return*/, null];\n                                                }\n                                            }\n                                            // Retry on the next block\n                                            return [2 /*return*/, undefined];\n                                        }\n                                        if (!includeTransactions) return [3 /*break*/, 8];\n                                        blockNumber_1 = null;\n                                        i = 0;\n                                        _a.label = 2;\n                                    case 2:\n                                        if (!(i < block.transactions.length)) return [3 /*break*/, 7];\n                                        tx = block.transactions[i];\n                                        if (!(tx.blockNumber == null)) return [3 /*break*/, 3];\n                                        tx.confirmations = 0;\n                                        return [3 /*break*/, 6];\n                                    case 3:\n                                        if (!(tx.confirmations == null)) return [3 /*break*/, 6];\n                                        if (!(blockNumber_1 == null)) return [3 /*break*/, 5];\n                                        return [4 /*yield*/, this._getInternalBlockNumber(100 + 2 * this.pollingInterval)];\n                                    case 4:\n                                        blockNumber_1 = _a.sent();\n                                        _a.label = 5;\n                                    case 5:\n                                        confirmations = (blockNumber_1 - tx.blockNumber) + 1;\n                                        if (confirmations <= 0) {\n                                            confirmations = 1;\n                                        }\n                                        tx.confirmations = confirmations;\n                                        _a.label = 6;\n                                    case 6:\n                                        i++;\n                                        return [3 /*break*/, 2];\n                                    case 7:\n                                        blockWithTxs = this.formatter.blockWithTransactions(block);\n                                        blockWithTxs.transactions = blockWithTxs.transactions.map(function (tx) { return _this._wrapTransaction(tx); });\n                                        return [2 /*return*/, blockWithTxs];\n                                    case 8: return [2 /*return*/, this.formatter.block(block)];\n                                }\n                            });\n                        }); }, { oncePoll: this })];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getBlock = function (blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, false));\n    };\n    BaseProvider.prototype.getBlockWithTransactions = function (blockHashOrBlockTag) {\n        return (this._getBlock(blockHashOrBlockTag, true));\n    };\n    BaseProvider.prototype.getTransaction = function (transactionHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, transactionHash];\n                    case 2:\n                        transactionHash = _a.sent();\n                        params = { transactionHash: this.formatter.hash(transactionHash, true) };\n                        return [2 /*return*/, (0, web_1.poll)(function () { return __awaiter(_this, void 0, void 0, function () {\n                                var result, tx, blockNumber, confirmations;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, this.perform(\"getTransaction\", params)];\n                                        case 1:\n                                            result = _a.sent();\n                                            if (result == null) {\n                                                if (this._emitted[\"t:\" + transactionHash] == null) {\n                                                    return [2 /*return*/, null];\n                                                }\n                                                return [2 /*return*/, undefined];\n                                            }\n                                            tx = this.formatter.transactionResponse(result);\n                                            if (!(tx.blockNumber == null)) return [3 /*break*/, 2];\n                                            tx.confirmations = 0;\n                                            return [3 /*break*/, 4];\n                                        case 2:\n                                            if (!(tx.confirmations == null)) return [3 /*break*/, 4];\n                                            return [4 /*yield*/, this._getInternalBlockNumber(100 + 2 * this.pollingInterval)];\n                                        case 3:\n                                            blockNumber = _a.sent();\n                                            confirmations = (blockNumber - tx.blockNumber) + 1;\n                                            if (confirmations <= 0) {\n                                                confirmations = 1;\n                                            }\n                                            tx.confirmations = confirmations;\n                                            _a.label = 4;\n                                        case 4: return [2 /*return*/, this._wrapTransaction(tx)];\n                                    }\n                                });\n                            }); }, { oncePoll: this })];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getTransactionReceipt = function (transactionHash) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, transactionHash];\n                    case 2:\n                        transactionHash = _a.sent();\n                        params = { transactionHash: this.formatter.hash(transactionHash, true) };\n                        return [2 /*return*/, (0, web_1.poll)(function () { return __awaiter(_this, void 0, void 0, function () {\n                                var result, receipt, blockNumber, confirmations;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, this.perform(\"getTransactionReceipt\", params)];\n                                        case 1:\n                                            result = _a.sent();\n                                            if (result == null) {\n                                                if (this._emitted[\"t:\" + transactionHash] == null) {\n                                                    return [2 /*return*/, null];\n                                                }\n                                                return [2 /*return*/, undefined];\n                                            }\n                                            // \"geth-etc\" returns receipts before they are ready\n                                            if (result.blockHash == null) {\n                                                return [2 /*return*/, undefined];\n                                            }\n                                            receipt = this.formatter.receipt(result);\n                                            if (!(receipt.blockNumber == null)) return [3 /*break*/, 2];\n                                            receipt.confirmations = 0;\n                                            return [3 /*break*/, 4];\n                                        case 2:\n                                            if (!(receipt.confirmations == null)) return [3 /*break*/, 4];\n                                            return [4 /*yield*/, this._getInternalBlockNumber(100 + 2 * this.pollingInterval)];\n                                        case 3:\n                                            blockNumber = _a.sent();\n                                            confirmations = (blockNumber - receipt.blockNumber) + 1;\n                                            if (confirmations <= 0) {\n                                                confirmations = 1;\n                                            }\n                                            receipt.confirmations = confirmations;\n                                            _a.label = 4;\n                                        case 4: return [2 /*return*/, receipt];\n                                    }\n                                });\n                            }); }, { oncePoll: this })];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getLogs = function (filter) {\n        return __awaiter(this, void 0, void 0, function () {\n            var params, logs;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [4 /*yield*/, (0, properties_1.resolveProperties)({ filter: this._getFilter(filter) })];\n                    case 2:\n                        params = _a.sent();\n                        return [4 /*yield*/, this.perform(\"getLogs\", params)];\n                    case 3:\n                        logs = _a.sent();\n                        logs.forEach(function (log) {\n                            if (log.removed == null) {\n                                log.removed = false;\n                            }\n                        });\n                        return [2 /*return*/, formatter_1.Formatter.arrayOf(this.formatter.filterLog.bind(this.formatter))(logs)];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getEtherPrice = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        _a.sent();\n                        return [2 /*return*/, this.perform(\"getEtherPrice\", {})];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype._getBlockTag = function (blockTag) {\n        return __awaiter(this, void 0, void 0, function () {\n            var blockNumber;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, blockTag];\n                    case 1:\n                        blockTag = _a.sent();\n                        if (!(typeof (blockTag) === \"number\" && blockTag < 0)) return [3 /*break*/, 3];\n                        if (blockTag % 1) {\n                            logger.throwArgumentError(\"invalid BlockTag\", \"blockTag\", blockTag);\n                        }\n                        return [4 /*yield*/, this._getInternalBlockNumber(100 + 2 * this.pollingInterval)];\n                    case 2:\n                        blockNumber = _a.sent();\n                        blockNumber += blockTag;\n                        if (blockNumber < 0) {\n                            blockNumber = 0;\n                        }\n                        return [2 /*return*/, this.formatter.blockTag(blockNumber)];\n                    case 3: return [2 /*return*/, this.formatter.blockTag(blockTag)];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getResolver = function (name) {\n        return __awaiter(this, void 0, void 0, function () {\n            var currentName, addr, resolver, _a;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        currentName = name;\n                        _b.label = 1;\n                    case 1:\n                        if (!true) return [3 /*break*/, 6];\n                        if (currentName === \"\" || currentName === \".\") {\n                            return [2 /*return*/, null];\n                        }\n                        // Optimization since the eth node cannot change and does\n                        // not have a wildcard resolver\n                        if (name !== \"eth\" && currentName === \"eth\") {\n                            return [2 /*return*/, null];\n                        }\n                        return [4 /*yield*/, this._getResolver(currentName, \"getResolver\")];\n                    case 2:\n                        addr = _b.sent();\n                        if (!(addr != null)) return [3 /*break*/, 5];\n                        resolver = new Resolver(this, addr, name);\n                        _a = currentName !== name;\n                        if (!_a) return [3 /*break*/, 4];\n                        return [4 /*yield*/, resolver.supportsWildcard()];\n                    case 3:\n                        _a = !(_b.sent());\n                        _b.label = 4;\n                    case 4:\n                        // Legacy resolver found, using EIP-2544 so it isn't safe to use\n                        if (_a) {\n                            return [2 /*return*/, null];\n                        }\n                        return [2 /*return*/, resolver];\n                    case 5:\n                        // Get the parent node\n                        currentName = currentName.split(\".\").slice(1).join(\".\");\n                        return [3 /*break*/, 1];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype._getResolver = function (name, operation) {\n        return __awaiter(this, void 0, void 0, function () {\n            var network, addrData, error_10;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (operation == null) {\n                            operation = \"ENS\";\n                        }\n                        return [4 /*yield*/, this.getNetwork()];\n                    case 1:\n                        network = _a.sent();\n                        // No ENS...\n                        if (!network.ensAddress) {\n                            logger.throwError(\"network does not support ENS\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, { operation: operation, network: network.name });\n                        }\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.call({\n                                to: network.ensAddress,\n                                data: (\"0x0178b8bf\" + (0, hash_1.namehash)(name).substring(2))\n                            })];\n                    case 3:\n                        addrData = _a.sent();\n                        return [2 /*return*/, this.formatter.callAddress(addrData)];\n                    case 4:\n                        error_10 = _a.sent();\n                        return [3 /*break*/, 5];\n                    case 5: return [2 /*return*/, null];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.resolveName = function (name) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolver;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, name];\n                    case 1:\n                        name = _a.sent();\n                        // If it is already an address, nothing to resolve\n                        try {\n                            return [2 /*return*/, Promise.resolve(this.formatter.address(name))];\n                        }\n                        catch (error) {\n                            // If is is a hexstring, the address is bad (See #694)\n                            if ((0, bytes_1.isHexString)(name)) {\n                                throw error;\n                            }\n                        }\n                        if (typeof (name) !== \"string\") {\n                            logger.throwArgumentError(\"invalid ENS name\", \"name\", name);\n                        }\n                        return [4 /*yield*/, this.getResolver(name)];\n                    case 2:\n                        resolver = _a.sent();\n                        if (!resolver) {\n                            return [2 /*return*/, null];\n                        }\n                        return [4 /*yield*/, resolver.getAddress()];\n                    case 3: return [2 /*return*/, _a.sent()];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.lookupAddress = function (address) {\n        return __awaiter(this, void 0, void 0, function () {\n            var node, resolverAddr, name, _a, addr;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0: return [4 /*yield*/, address];\n                    case 1:\n                        address = _b.sent();\n                        address = this.formatter.address(address);\n                        node = address.substring(2).toLowerCase() + \".addr.reverse\";\n                        return [4 /*yield*/, this._getResolver(node, \"lookupAddress\")];\n                    case 2:\n                        resolverAddr = _b.sent();\n                        if (resolverAddr == null) {\n                            return [2 /*return*/, null];\n                        }\n                        _a = _parseString;\n                        return [4 /*yield*/, this.call({\n                                to: resolverAddr,\n                                data: (\"0x691f3431\" + (0, hash_1.namehash)(node).substring(2))\n                            })];\n                    case 3:\n                        name = _a.apply(void 0, [_b.sent(), 0]);\n                        return [4 /*yield*/, this.resolveName(name)];\n                    case 4:\n                        addr = _b.sent();\n                        if (addr != address) {\n                            return [2 /*return*/, null];\n                        }\n                        return [2 /*return*/, name];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.getAvatar = function (nameOrAddress) {\n        return __awaiter(this, void 0, void 0, function () {\n            var resolver, address, node, resolverAddress, avatar_1, error_11, name_1, _a, error_12, avatar;\n            return __generator(this, function (_b) {\n                switch (_b.label) {\n                    case 0:\n                        resolver = null;\n                        if (!(0, bytes_1.isHexString)(nameOrAddress)) return [3 /*break*/, 10];\n                        address = this.formatter.address(nameOrAddress);\n                        node = address.substring(2).toLowerCase() + \".addr.reverse\";\n                        return [4 /*yield*/, this._getResolver(node, \"getAvatar\")];\n                    case 1:\n                        resolverAddress = _b.sent();\n                        if (!resolverAddress) {\n                            return [2 /*return*/, null];\n                        }\n                        // Try resolving the avatar against the addr.reverse resolver\n                        resolver = new Resolver(this, resolverAddress, node);\n                        _b.label = 2;\n                    case 2:\n                        _b.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, resolver.getAvatar()];\n                    case 3:\n                        avatar_1 = _b.sent();\n                        if (avatar_1) {\n                            return [2 /*return*/, avatar_1.url];\n                        }\n                        return [3 /*break*/, 5];\n                    case 4:\n                        error_11 = _b.sent();\n                        if (error_11.code !== logger_1.Logger.errors.CALL_EXCEPTION) {\n                            throw error_11;\n                        }\n                        return [3 /*break*/, 5];\n                    case 5:\n                        _b.trys.push([5, 8, , 9]);\n                        _a = _parseString;\n                        return [4 /*yield*/, this.call({\n                                to: resolverAddress,\n                                data: (\"0x691f3431\" + (0, hash_1.namehash)(node).substring(2))\n                            })];\n                    case 6:\n                        name_1 = _a.apply(void 0, [_b.sent(), 0]);\n                        return [4 /*yield*/, this.getResolver(name_1)];\n                    case 7:\n                        resolver = _b.sent();\n                        return [3 /*break*/, 9];\n                    case 8:\n                        error_12 = _b.sent();\n                        if (error_12.code !== logger_1.Logger.errors.CALL_EXCEPTION) {\n                            throw error_12;\n                        }\n                        return [2 /*return*/, null];\n                    case 9: return [3 /*break*/, 12];\n                    case 10: return [4 /*yield*/, this.getResolver(nameOrAddress)];\n                    case 11:\n                        // ENS name; forward lookup with wildcard\n                        resolver = _b.sent();\n                        if (!resolver) {\n                            return [2 /*return*/, null];\n                        }\n                        _b.label = 12;\n                    case 12: return [4 /*yield*/, resolver.getAvatar()];\n                    case 13:\n                        avatar = _b.sent();\n                        if (avatar == null) {\n                            return [2 /*return*/, null];\n                        }\n                        return [2 /*return*/, avatar.url];\n                }\n            });\n        });\n    };\n    BaseProvider.prototype.perform = function (method, params) {\n        return logger.throwError(method + \" not implemented\", logger_1.Logger.errors.NOT_IMPLEMENTED, { operation: method });\n    };\n    BaseProvider.prototype._startEvent = function (event) {\n        this.polling = (this._events.filter(function (e) { return e.pollable(); }).length > 0);\n    };\n    BaseProvider.prototype._stopEvent = function (event) {\n        this.polling = (this._events.filter(function (e) { return e.pollable(); }).length > 0);\n    };\n    BaseProvider.prototype._addEventListener = function (eventName, listener, once) {\n        var event = new Event(getEventTag(eventName), listener, once);\n        this._events.push(event);\n        this._startEvent(event);\n        return this;\n    };\n    BaseProvider.prototype.on = function (eventName, listener) {\n        return this._addEventListener(eventName, listener, false);\n    };\n    BaseProvider.prototype.once = function (eventName, listener) {\n        return this._addEventListener(eventName, listener, true);\n    };\n    BaseProvider.prototype.emit = function (eventName) {\n        var _this = this;\n        var args = [];\n        for (var _i = 1; _i < arguments.length; _i++) {\n            args[_i - 1] = arguments[_i];\n        }\n        var result = false;\n        var stopped = [];\n        var eventTag = getEventTag(eventName);\n        this._events = this._events.filter(function (event) {\n            if (event.tag !== eventTag) {\n                return true;\n            }\n            setTimeout(function () {\n                event.listener.apply(_this, args);\n            }, 0);\n            result = true;\n            if (event.once) {\n                stopped.push(event);\n                return false;\n            }\n            return true;\n        });\n        stopped.forEach(function (event) { _this._stopEvent(event); });\n        return result;\n    };\n    BaseProvider.prototype.listenerCount = function (eventName) {\n        if (!eventName) {\n            return this._events.length;\n        }\n        var eventTag = getEventTag(eventName);\n        return this._events.filter(function (event) {\n            return (event.tag === eventTag);\n        }).length;\n    };\n    BaseProvider.prototype.listeners = function (eventName) {\n        if (eventName == null) {\n            return this._events.map(function (event) { return event.listener; });\n        }\n        var eventTag = getEventTag(eventName);\n        return this._events\n            .filter(function (event) { return (event.tag === eventTag); })\n            .map(function (event) { return event.listener; });\n    };\n    BaseProvider.prototype.off = function (eventName, listener) {\n        var _this = this;\n        if (listener == null) {\n            return this.removeAllListeners(eventName);\n        }\n        var stopped = [];\n        var found = false;\n        var eventTag = getEventTag(eventName);\n        this._events = this._events.filter(function (event) {\n            if (event.tag !== eventTag || event.listener != listener) {\n                return true;\n            }\n            if (found) {\n                return true;\n            }\n            found = true;\n            stopped.push(event);\n            return false;\n        });\n        stopped.forEach(function (event) { _this._stopEvent(event); });\n        return this;\n    };\n    BaseProvider.prototype.removeAllListeners = function (eventName) {\n        var _this = this;\n        var stopped = [];\n        if (eventName == null) {\n            stopped = this._events;\n            this._events = [];\n        }\n        else {\n            var eventTag_1 = getEventTag(eventName);\n            this._events = this._events.filter(function (event) {\n                if (event.tag !== eventTag_1) {\n                    return true;\n                }\n                stopped.push(event);\n                return false;\n            });\n        }\n        stopped.forEach(function (event) { _this._stopEvent(event); });\n        return this;\n    };\n    return BaseProvider;\n}(abstract_provider_1.Provider));\nexports.BaseProvider = BaseProvider;\n//# sourceMappingURL=base-provider.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","checkTopic","topic","bytes_1","hexDataLength","logger","throwArgumentError","toLowerCase","serializeTopics","topics","slice","length","pop","map","Array","isArray","unique_1","forEach","sorted","Object","keys","sort","join","deserializeTopics","data","split","comps","getEventTag","eventName","indexOf","abstract_provider_1","ForkEvent","isForkEvent","warn","Error","address","getTime","Date","stall","duration","Promise","resolve","setTimeout","bytes32ify","value","hexZeroPad","bignumber_1","BigNumber","from","toHexString","base58Encode","basex_1","Base58","encode","concat","hexDataSlice","sha2_1","sha256","_parseString","result","start","strings_1","toUtf8String","_parseBytes","error","offset","toNumber","getIpfsLink","link","match","substring","numPad","arrayify","padded","Uint8Array","set","encodeBytes","datas","byteCount","i","push","Math","ceil","hexConcat","__extends","extendStatics","d","b","setPrototypeOf","__proto__","p","prototype","hasOwnProperty","call","__","constructor","TypeError","String","create","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","next","e","rejected","done","then","apply","__generator","body","verb","n","v","op","f","_","y","t","label","ops","trys","sent","g","Symbol","iterator","__importDefault","mod","__esModule","defineProperty","BaseProvider","Resolver","Event","base64_1","constants_1","hash_1","networks_1","properties_1","web_1","bech32_1","logger_1","_version_1","Logger","version","formatter_1","PollableEvents","tag","listener","once","defineReadOnly","_lastBlockNumber","_inflight","get","type","hash","filter","enumerable","configurable","pollable","Event.prototype.pollable","coinInfos","symbol","p2pkh","p2sh","prefix","ilk","matcherIpfs","RegExp","matchers","provider","name","resolvedAddress","formatter","supportsWildcard","Resolver.prototype.supportsWildcard","_this","_supportsEip2544","to","eq","catch","code","errors","CALL_EXCEPTION","_fetch","Resolver.prototype._fetch","selector","parameters","tx","parseBytes","error_1","_a","ccipReadEnabled","namehash","dnsEncode","throwError","transaction","_fetchBytes","Resolver.prototype._fetchBytes","_getAddress","Resolver.prototype._getAddress","coinType","hexBytes","coinInfo","UNSUPPORTED_OPERATION","operation","bytes","length_1","parseInt","length_2","length_3","version_1","words","default","toWords","unshift","getAddress","Resolver.prototype.getAddress","error_2","HashZero","callAddress","getAvatar","Resolver.prototype.getAvatar","linkage","avatar","scheme","owner","_b","addr","tokenId","tokenOwner","_c","_d","balance","_e","_f","metadataUrl","_g","metadata","imageUrl","ipfs","_h","content","getText","url","_resolvedAddress","isZero","toString","replace","fetchJson","JSON","stringify","image","getContentHash","Resolver.prototype.getContentHash","length_4","ipns","length_5","swarm","skynet","urlSafe_1","a","Resolver.prototype.getText","key","keyBytes","toUtf8Bytes","hexlify","defaultFormatter","nextPollId","_super","network","_newTarget","_events","_emitted","block","disableCcipRead","getFormatter","anyNetwork","detectNetwork","_networkPromise","_ready","knownNetwork","getStatic","emit","_maxInternalBlockNumber","_maxFilterBlockRange","_pollingInterval","_fastQueryDate","BaseProvider.prototype._ready","_network","UNKNOWN_ERROR","poll","NETWORK_ERROR","event","BaseProvider.getFormatter","Formatter","getNetwork","BaseProvider.getNetwork","ccipReadFetch","BaseProvider.prototype.ccipReadFetch","calldata","urls","sender","errorMessages","href","json","errorMessage","errorPassThrough","response","status","statusCode","message","SERVER_ERROR","m","_getInternalBlockNumber","BaseProvider.prototype._getInternalBlockNumber","maxAge","internalBlockNumber","reqTime","checkInternalBlockNumber","_internalBlockNumber","respTime","blockNumber","resolveProperties","perform","networkError","_setFastBlockNumber","BaseProvider.prototype.poll","pollId","runners","error_6","pollingInterval","abs","makeError","previousBlockNumber","eventBlockNumber","hash_2","runner","getTransactionReceipt","receipt","filter_1","fromBlock","toBlock","minFromBlock","getLogs","logs","log","blockHash","transactionHash","all","resetEventsBlock","BaseProvider.prototype.resetEventsBlock","polling","BaseProvider.prototype.detectNetwork","BaseProvider.prototype.getNetwork","currentNetwork","chainId","_fastBlockNumberPromise","_fastBlockNumber","detectedNetwork","_poller","setInterval","_bootstrapPoll","clearInterval","_getFastBlockNumber","BaseProvider.prototype._getFastBlockNumber","now","getBlockNumber","BaseProvider.prototype._setFastBlockNumber","waitForTransaction","BaseProvider.prototype.waitForTransaction","confirmations","timeout","_waitForTransaction","BaseProvider.prototype._waitForTransaction","replaceable","cancelFuncs","alreadyDone","func","minedHandler","on","removeListener","lastBlockNumber_1","startBlock","scannedBlock_1","replaceHandler_1","getTransactionCount","nonce","mined","ti","receipt_1","reason","getTransaction","getBlockWithTransactions","transactions","TRANSACTION_REPLACED","cancelled","replacement","_wrapTransaction","timer_1","TIMEOUT","unref","clearTimeout","BaseProvider.prototype.getBlockNumber","getGasPrice","BaseProvider.prototype.getGasPrice","method","getBalance","BaseProvider.prototype.getBalance","addressOrName","blockTag","params","_getBlockTag","BaseProvider.prototype.getTransactionCount","getCode","BaseProvider.prototype.getCode","getStorageAt","BaseProvider.prototype.getStorageAt","position","hexValue","BaseProvider.prototype._wrapTransaction","expectedHash","returnedHash","wait","result.wait","confirms","undefined","sendTransaction","BaseProvider.prototype.sendTransaction","signedTransaction","hexTx","error_7","_getTransactionRequest","BaseProvider.prototype._getTransactionRequest","values","accessList","transactionRequest","_getFilter","BaseProvider.prototype._getFilter","_call","BaseProvider.prototype._call","attempt","txSender","urlsOffset","urlsLength","urlsData","u","callbackSelector","extraData","ccipResult","error_8","MAX_CCIP_REDIRECTS","redirects","signature","BaseProvider.prototype.call","resolved","estimateGas","BaseProvider.prototype.estimateGas","BaseProvider.prototype._getAddress","resolveName","_getBlock","BaseProvider.prototype._getBlock","blockHashOrBlockTag","includeTransactions","isHexString","blockNumber_1","blockWithTxs","blockWithTransactions","oncePoll","getBlock","BaseProvider.prototype.getBlock","BaseProvider.prototype.getBlockWithTransactions","BaseProvider.prototype.getTransaction","transactionResponse","BaseProvider.prototype.getTransactionReceipt","BaseProvider.prototype.getLogs","removed","arrayOf","filterLog","bind","getEtherPrice","BaseProvider.prototype.getEtherPrice","BaseProvider.prototype._getBlockTag","getResolver","BaseProvider.prototype.getResolver","currentName","resolver","_getResolver","BaseProvider.prototype._getResolver","addrData","ensAddress","BaseProvider.prototype.resolveName","lookupAddress","BaseProvider.prototype.lookupAddress","node","resolverAddr","BaseProvider.prototype.getAvatar","nameOrAddress","resolverAddress","avatar_1","error_11","name_1","error_12","BaseProvider.prototype.perform","NOT_IMPLEMENTED","_startEvent","BaseProvider.prototype._startEvent","_stopEvent","BaseProvider.prototype._stopEvent","_addEventListener","BaseProvider.prototype._addEventListener","BaseProvider.prototype.on","BaseProvider.prototype.once","BaseProvider.prototype.emit","args","_i","arguments","stopped","eventTag","listenerCount","BaseProvider.prototype.listenerCount","listeners","BaseProvider.prototype.listeners","off","BaseProvider.prototype.off","removeAllListeners","found","BaseProvider.prototype.removeAllListeners","eventTag_1","Provider"]
}
