shadow$provide.module$node_modules$$ethersproject$abi$lib$interface=function(global,require,module,exports){function wrapAccessError(property,error){property=Error("deferred error during ABI decoding triggered accessing "+property);property.error=error;return property}var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,
p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=d}if("function"!==typeof b&&null!==b)throw new TypeError("Class extends value "+String(b)+" is not a constructor or null");extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,"__esModule",{value:!0});exports.Interface=exports.Indexed=exports.ErrorDescription=exports.TransactionDescription=exports.LogDescription=exports.checkResultErrors=
void 0;var address_1=require("module$node_modules$$ethersproject$address$lib$index"),bignumber_1=require("module$node_modules$$ethersproject$bignumber$lib$index"),bytes_1=require("module$node_modules$$ethersproject$bytes$lib$index"),hash_1=require("module$node_modules$$ethersproject$hash$lib$index"),keccak256_1=require("module$node_modules$$ethersproject$keccak256$lib$index"),properties_1=require("module$node_modules$$ethersproject$properties$lib$index"),abi_coder_1=require("module$node_modules$$ethersproject$abi$lib$abi_coder"),
abstract_coder_1=require("module$node_modules$$ethersproject$abi$lib$coders$abstract_coder");Object.defineProperty(exports,"checkResultErrors",{enumerable:!0,get:function(){return abstract_coder_1.checkResultErrors}});var fragments_1=require("module$node_modules$$ethersproject$abi$lib$fragments"),logger_1=require("module$node_modules$$ethersproject$logger$lib$index");global=require("module$node_modules$$ethersproject$abi$lib$_version");var logger=new logger_1.Logger(global.version),LogDescription=
function(_super){function LogDescription(){return null!==_super&&_super.apply(this,arguments)||this}__extends(LogDescription,_super);return LogDescription}(properties_1.Description);exports.LogDescription=LogDescription;var TransactionDescription=function(_super){function TransactionDescription(){return null!==_super&&_super.apply(this,arguments)||this}__extends(TransactionDescription,_super);return TransactionDescription}(properties_1.Description);exports.TransactionDescription=TransactionDescription;
var ErrorDescription=function(_super){function ErrorDescription(){return null!==_super&&_super.apply(this,arguments)||this}__extends(ErrorDescription,_super);return ErrorDescription}(properties_1.Description);exports.ErrorDescription=ErrorDescription;var Indexed=function(_super){function Indexed(){return null!==_super&&_super.apply(this,arguments)||this}__extends(Indexed,_super);Indexed.isIndexed=function(value){return!(!value||!value._isIndexed)};return Indexed}(properties_1.Description);exports.Indexed=
Indexed;var BuiltinErrors={"0x08c379a0":{signature:"Error(string)",name:"Error",inputs:["string"],reason:!0},"0x4e487b71":{signature:"Panic(uint256)",name:"Panic",inputs:["uint256"]}};global=function(){function Interface(fragments){var _newTarget=this.constructor,_this=this,abi=[];abi="string"===typeof fragments?JSON.parse(fragments):fragments;(0,properties_1.defineReadOnly)(this,"fragments",abi.map(function(fragment){return fragments_1.Fragment.from(fragment)}).filter(function(fragment){return null!=
fragment}));(0,properties_1.defineReadOnly)(this,"_abiCoder",(0,properties_1.getStatic)(_newTarget,"getAbiCoder")());(0,properties_1.defineReadOnly)(this,"functions",{});(0,properties_1.defineReadOnly)(this,"errors",{});(0,properties_1.defineReadOnly)(this,"events",{});(0,properties_1.defineReadOnly)(this,"structs",{});this.fragments.forEach(function(fragment){switch(fragment.type){case "constructor":if(_this.deploy){logger.warn("duplicate definition - constructor");return}(0,properties_1.defineReadOnly)(_this,
"deploy",fragment);return;case "function":var bucket=_this.functions;break;case "event":bucket=_this.events;break;case "error":bucket=_this.errors;break;default:return}var signature=fragment.format();bucket[signature]?logger.warn("duplicate definition - "+signature):bucket[signature]=fragment});this.deploy||(0,properties_1.defineReadOnly)(this,"deploy",fragments_1.ConstructorFragment.from({payable:!1,type:"constructor"}));(0,properties_1.defineReadOnly)(this,"_isInterface",!0)}Interface.prototype.format=
function(format){format||(format=fragments_1.FormatTypes.full);format===fragments_1.FormatTypes.sighash&&logger.throwArgumentError("interface does not support formatting sighash","format",format);var abi=this.fragments.map(function(fragment){return fragment.format(format)});return format===fragments_1.FormatTypes.json?JSON.stringify(abi.map(function(j){return JSON.parse(j)})):abi};Interface.getAbiCoder=function(){return abi_coder_1.defaultAbiCoder};Interface.getAddress=function(address){return(0,address_1.getAddress)(address)};
Interface.getSighash=function(fragment){return(0,bytes_1.hexDataSlice)((0,hash_1.id)(fragment.format()),0,4)};Interface.getEventTopic=function(eventFragment){return(0,hash_1.id)(eventFragment.format())};Interface.prototype.getFunction=function(nameOrSignatureOrSighash){if((0,bytes_1.isHexString)(nameOrSignatureOrSighash)){for(var name_1 in this.functions)if(nameOrSignatureOrSighash===this.getSighash(name_1))return this.functions[name_1];logger.throwArgumentError("no matching function","sighash",nameOrSignatureOrSighash)}if(-1===
nameOrSignatureOrSighash.indexOf("(")){var name_2=nameOrSignatureOrSighash.trim();nameOrSignatureOrSighash=Object.keys(this.functions).filter(function(f){return f.split("(")[0]===name_2});0===nameOrSignatureOrSighash.length?logger.throwArgumentError("no matching function","name",name_2):1<nameOrSignatureOrSighash.length&&logger.throwArgumentError("multiple matching functions","name",name_2);return this.functions[nameOrSignatureOrSighash[0]]}(name_1=this.functions[fragments_1.FunctionFragment.fromString(nameOrSignatureOrSighash).format()])||
logger.throwArgumentError("no matching function","signature",nameOrSignatureOrSighash);return name_1};Interface.prototype.getEvent=function(nameOrSignatureOrTopic){if((0,bytes_1.isHexString)(nameOrSignatureOrTopic)){var topichash=nameOrSignatureOrTopic.toLowerCase(),name_3;for(name_3 in this.events)if(topichash===this.getEventTopic(name_3))return this.events[name_3];logger.throwArgumentError("no matching event","topichash",topichash)}if(-1===nameOrSignatureOrTopic.indexOf("(")){var name_4=nameOrSignatureOrTopic.trim();
nameOrSignatureOrTopic=Object.keys(this.events).filter(function(f){return f.split("(")[0]===name_4});0===nameOrSignatureOrTopic.length?logger.throwArgumentError("no matching event","name",name_4):1<nameOrSignatureOrTopic.length&&logger.throwArgumentError("multiple matching events","name",name_4);return this.events[nameOrSignatureOrTopic[0]]}(topichash=this.events[fragments_1.EventFragment.fromString(nameOrSignatureOrTopic).format()])||logger.throwArgumentError("no matching event","signature",nameOrSignatureOrTopic);
return topichash};Interface.prototype.getError=function(nameOrSignatureOrSighash){if((0,bytes_1.isHexString)(nameOrSignatureOrSighash)){var getSighash=(0,properties_1.getStatic)(this.constructor,"getSighash"),name_5;for(name_5 in this.errors)if(nameOrSignatureOrSighash===getSighash(this.errors[name_5]))return this.errors[name_5];logger.throwArgumentError("no matching error","sighash",nameOrSignatureOrSighash)}if(-1===nameOrSignatureOrSighash.indexOf("(")){var name_6=nameOrSignatureOrSighash.trim();
nameOrSignatureOrSighash=Object.keys(this.errors).filter(function(f){return f.split("(")[0]===name_6});0===nameOrSignatureOrSighash.length?logger.throwArgumentError("no matching error","name",name_6):1<nameOrSignatureOrSighash.length&&logger.throwArgumentError("multiple matching errors","name",name_6);return this.errors[nameOrSignatureOrSighash[0]]}(getSighash=this.errors[fragments_1.FunctionFragment.fromString(nameOrSignatureOrSighash).format()])||logger.throwArgumentError("no matching error","signature",
nameOrSignatureOrSighash);return getSighash};Interface.prototype.getSighash=function(fragment){if("string"===typeof fragment)try{fragment=this.getFunction(fragment)}catch(error){try{fragment=this.getError(fragment)}catch(_){throw error;}}return(0,properties_1.getStatic)(this.constructor,"getSighash")(fragment)};Interface.prototype.getEventTopic=function(eventFragment){"string"===typeof eventFragment&&(eventFragment=this.getEvent(eventFragment));return(0,properties_1.getStatic)(this.constructor,"getEventTopic")(eventFragment)};
Interface.prototype._decodeParams=function(params,data){return this._abiCoder.decode(params,data)};Interface.prototype._encodeParams=function(params,values){return this._abiCoder.encode(params,values)};Interface.prototype.encodeDeploy=function(values){return this._encodeParams(this.deploy.inputs,values||[])};Interface.prototype.decodeErrorResult=function(fragment,data){"string"===typeof fragment&&(fragment=this.getError(fragment));data=(0,bytes_1.arrayify)(data);(0,bytes_1.hexlify)(data.slice(0,4))!==
this.getSighash(fragment)&&logger.throwArgumentError("data signature does not match error "+fragment.name+".","data",(0,bytes_1.hexlify)(data));return this._decodeParams(fragment.inputs,data.slice(4))};Interface.prototype.encodeErrorResult=function(fragment,values){"string"===typeof fragment&&(fragment=this.getError(fragment));return(0,bytes_1.hexlify)((0,bytes_1.concat)([this.getSighash(fragment),this._encodeParams(fragment.inputs,values||[])]))};Interface.prototype.decodeFunctionData=function(functionFragment,
data){"string"===typeof functionFragment&&(functionFragment=this.getFunction(functionFragment));data=(0,bytes_1.arrayify)(data);(0,bytes_1.hexlify)(data.slice(0,4))!==this.getSighash(functionFragment)&&logger.throwArgumentError("data signature does not match function "+functionFragment.name+".","data",(0,bytes_1.hexlify)(data));return this._decodeParams(functionFragment.inputs,data.slice(4))};Interface.prototype.encodeFunctionData=function(functionFragment,values){"string"===typeof functionFragment&&
(functionFragment=this.getFunction(functionFragment));return(0,bytes_1.hexlify)((0,bytes_1.concat)([this.getSighash(functionFragment),this._encodeParams(functionFragment.inputs,values||[])]))};Interface.prototype.decodeFunctionResult=function(functionFragment,data){"string"===typeof functionFragment&&(functionFragment=this.getFunction(functionFragment));var bytes=(0,bytes_1.arrayify)(data),reason=null,message="",errorArgs=null,errorName=null,errorSignature=null;switch(bytes.length%this._abiCoder._getWordSize()){case 0:try{return this._abiCoder.decode(functionFragment.outputs,
bytes)}catch(error){}break;case 4:var selector=(0,bytes_1.hexlify)(bytes.slice(0,4)),builtin=BuiltinErrors[selector];if(builtin)errorArgs=this._abiCoder.decode(builtin.inputs,bytes.slice(4)),errorName=builtin.name,errorSignature=builtin.signature,builtin.reason&&(reason=errorArgs[0]),"Error"===errorName?message="; VM Exception while processing transaction: reverted with reason string "+JSON.stringify(errorArgs[0]):"Panic"===errorName&&(message="; VM Exception while processing transaction: reverted with panic code "+
errorArgs[0]);else try{var error$jscomp$0=this.getError(selector);errorArgs=this._abiCoder.decode(error$jscomp$0.inputs,bytes.slice(4));errorName=error$jscomp$0.name;errorSignature=error$jscomp$0.format()}catch(error){}}return logger.throwError("call revert exception"+message,logger_1.Logger.errors.CALL_EXCEPTION,{method:functionFragment.format(),data:(0,bytes_1.hexlify)(data),errorArgs,errorName,errorSignature,reason})};Interface.prototype.encodeFunctionResult=function(functionFragment,values){"string"===
typeof functionFragment&&(functionFragment=this.getFunction(functionFragment));return(0,bytes_1.hexlify)(this._abiCoder.encode(functionFragment.outputs,values||[]))};Interface.prototype.encodeFilterTopics=function(eventFragment,values){var _this=this;"string"===typeof eventFragment&&(eventFragment=this.getEvent(eventFragment));values.length>eventFragment.inputs.length&&logger.throwError("too many arguments for "+eventFragment.format(),logger_1.Logger.errors.UNEXPECTED_ARGUMENT,{argument:"values",
value:values});var topics=[];eventFragment.anonymous||topics.push(this.getEventTopic(eventFragment));var encodeTopic=function(param,value){if("string"===param.type)return(0,hash_1.id)(value);if("bytes"===param.type)return(0,keccak256_1.keccak256)((0,bytes_1.hexlify)(value));"bool"===param.type&&"boolean"===typeof value&&(value=value?"0x01":"0x00");param.type.match(/^u?int/)&&(value=bignumber_1.BigNumber.from(value).toHexString());"address"===param.type&&_this._abiCoder.encode(["address"],[value]);
return(0,bytes_1.hexZeroPad)((0,bytes_1.hexlify)(value),32)};for(values.forEach(function(value$jscomp$0,index){var param=eventFragment.inputs[index];param.indexed?null==value$jscomp$0?topics.push(null):"array"===param.baseType||"tuple"===param.baseType?logger.throwArgumentError("filtering with tuples or arrays not supported","contract."+param.name,value$jscomp$0):Array.isArray(value$jscomp$0)?topics.push(value$jscomp$0.map(function(value){return encodeTopic(param,value)})):topics.push(encodeTopic(param,
value$jscomp$0)):null!=value$jscomp$0&&logger.throwArgumentError("cannot filter non-indexed parameters; must be null","contract."+param.name,value$jscomp$0)});topics.length&&null===topics[topics.length-1];)topics.pop();return topics};Interface.prototype.encodeEventLog=function(eventFragment,values){var _this=this;"string"===typeof eventFragment&&(eventFragment=this.getEvent(eventFragment));var topics=[],dataTypes=[],dataValues=[];eventFragment.anonymous||topics.push(this.getEventTopic(eventFragment));
values.length!==eventFragment.inputs.length&&logger.throwArgumentError("event arguments/values mismatch","values",values);eventFragment.inputs.forEach(function(param,index){index=values[index];if(param.indexed)if("string"===param.type)topics.push((0,hash_1.id)(index));else if("bytes"===param.type)topics.push((0,keccak256_1.keccak256)(index));else{if("tuple"===param.baseType||"array"===param.baseType)throw Error("not implemented");topics.push(_this._abiCoder.encode([param.type],[index]))}else dataTypes.push(param),
dataValues.push(index)});return{data:this._abiCoder.encode(dataTypes,dataValues),topics}};Interface.prototype.decodeEventLog=function(eventFragment,data,topics){"string"===typeof eventFragment&&(eventFragment=this.getEvent(eventFragment));if(null!=topics&&!eventFragment.anonymous){var topicHash=this.getEventTopic(eventFragment);(0,bytes_1.isHexString)(topics[0],32)&&topics[0].toLowerCase()===topicHash||logger.throwError("fragment/topic mismatch",logger_1.Logger.errors.INVALID_ARGUMENT,{argument:"topics[0]",
expected:topicHash,value:topics[0]});topics=topics.slice(1)}var indexed=[],nonIndexed=[],dynamic=[];eventFragment.inputs.forEach(function(param,index){param.indexed?"string"===param.type||"bytes"===param.type||"tuple"===param.baseType||"array"===param.baseType?(indexed.push(fragments_1.ParamType.fromObject({type:"bytes32",name:param.name})),dynamic.push(!0)):(indexed.push(param),dynamic.push(!1)):(nonIndexed.push(param),dynamic.push(!1))});var resultIndexed=null!=topics?this._abiCoder.decode(indexed,
(0,bytes_1.concat)(topics)):null,resultNonIndexed=this._abiCoder.decode(nonIndexed,data,!0),result=[],nonIndexedIndex=0,indexedIndex=0;eventFragment.inputs.forEach(function(param,index){if(param.indexed)if(null==resultIndexed)result[index]=new Indexed({_isIndexed:!0,hash:null});else if(dynamic[index])result[index]=new Indexed({_isIndexed:!0,hash:resultIndexed[indexedIndex++]});else try{result[index]=resultIndexed[indexedIndex++]}catch(error){result[index]=error}else try{result[index]=resultNonIndexed[nonIndexedIndex++]}catch(error){result[index]=
error}if(param.name&&null==result[param.name]){var value_1=result[index];value_1 instanceof Error?Object.defineProperty(result,param.name,{enumerable:!0,get:function(){throw wrapAccessError("property "+JSON.stringify(param.name),value_1);}}):result[param.name]=value_1}});eventFragment=function(i){var value=result[i];value instanceof Error&&Object.defineProperty(result,i,{enumerable:!0,get:function(){throw wrapAccessError("index "+i,value);}})};for(data=0;data<result.length;data++)eventFragment(data);
return Object.freeze(result)};Interface.prototype.parseTransaction=function(tx){var fragment=this.getFunction(tx.data.substring(0,10).toLowerCase());return fragment?new TransactionDescription({args:this._abiCoder.decode(fragment.inputs,"0x"+tx.data.substring(10)),functionFragment:fragment,name:fragment.name,signature:fragment.format(),sighash:this.getSighash(fragment),value:bignumber_1.BigNumber.from(tx.value||"0")}):null};Interface.prototype.parseLog=function(log){var fragment=this.getEvent(log.topics[0]);
return!fragment||fragment.anonymous?null:new LogDescription({eventFragment:fragment,name:fragment.name,signature:fragment.format(),topic:this.getEventTopic(fragment),args:this.decodeEventLog(fragment,log.data,log.topics)})};Interface.prototype.parseError=function(data){data=(0,bytes_1.hexlify)(data);var fragment=this.getError(data.substring(0,10).toLowerCase());return fragment?new ErrorDescription({args:this._abiCoder.decode(fragment.inputs,"0x"+data.substring(10)),errorFragment:fragment,name:fragment.name,
signature:fragment.format(),sighash:this.getSighash(fragment)}):null};Interface.isInterface=function(value){return!(!value||!value._isInterface)};return Interface}();exports.Interface=global}
//# sourceMappingURL=module$node_modules$$ethersproject$abi$lib$interface.js.map
