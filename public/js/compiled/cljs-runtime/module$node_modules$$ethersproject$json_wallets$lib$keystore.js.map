{
"version":3,
"file":"module$node_modules$$ethersproject$json_wallets$lib$keystore.js",
"lineCount":23,
"mappings":"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",
"sources":["node_modules/@ethersproject/json-wallets/lib/keystore.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$$ethersproject$json_wallets$lib$keystore\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nvar __importDefault = (this && this.__importDefault) || function (mod) {\n    return (mod && mod.__esModule) ? mod : { \"default\": mod };\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.encrypt = exports.decrypt = exports.decryptSync = exports.KeystoreAccount = void 0;\nvar aes_js_1 = __importDefault(require(\"aes-js\"));\nvar scrypt_js_1 = __importDefault(require(\"scrypt-js\"));\nvar address_1 = require(\"@ethersproject/address\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar hdnode_1 = require(\"@ethersproject/hdnode\");\nvar keccak256_1 = require(\"@ethersproject/keccak256\");\nvar pbkdf2_1 = require(\"@ethersproject/pbkdf2\");\nvar random_1 = require(\"@ethersproject/random\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar transactions_1 = require(\"@ethersproject/transactions\");\nvar utils_1 = require(\"./utils\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\n// Exported Types\nfunction hasMnemonic(value) {\n    return (value != null && value.mnemonic && value.mnemonic.phrase);\n}\nvar KeystoreAccount = /** @class */ (function (_super) {\n    __extends(KeystoreAccount, _super);\n    function KeystoreAccount() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    KeystoreAccount.prototype.isKeystoreAccount = function (value) {\n        return !!(value && value._isKeystoreAccount);\n    };\n    return KeystoreAccount;\n}(properties_1.Description));\nexports.KeystoreAccount = KeystoreAccount;\nfunction _decrypt(data, key, ciphertext) {\n    var cipher = (0, utils_1.searchPath)(data, \"crypto/cipher\");\n    if (cipher === \"aes-128-ctr\") {\n        var iv = (0, utils_1.looseArrayify)((0, utils_1.searchPath)(data, \"crypto/cipherparams/iv\"));\n        var counter = new aes_js_1.default.Counter(iv);\n        var aesCtr = new aes_js_1.default.ModeOfOperation.ctr(key, counter);\n        return (0, bytes_1.arrayify)(aesCtr.decrypt(ciphertext));\n    }\n    return null;\n}\nfunction _getAccount(data, key) {\n    var ciphertext = (0, utils_1.looseArrayify)((0, utils_1.searchPath)(data, \"crypto/ciphertext\"));\n    var computedMAC = (0, bytes_1.hexlify)((0, keccak256_1.keccak256)((0, bytes_1.concat)([key.slice(16, 32), ciphertext]))).substring(2);\n    if (computedMAC !== (0, utils_1.searchPath)(data, \"crypto/mac\").toLowerCase()) {\n        throw new Error(\"invalid password\");\n    }\n    var privateKey = _decrypt(data, key.slice(0, 16), ciphertext);\n    if (!privateKey) {\n        logger.throwError(\"unsupported cipher\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"decrypt\"\n        });\n    }\n    var mnemonicKey = key.slice(32, 64);\n    var address = (0, transactions_1.computeAddress)(privateKey);\n    if (data.address) {\n        var check = data.address.toLowerCase();\n        if (check.substring(0, 2) !== \"0x\") {\n            check = \"0x\" + check;\n        }\n        if ((0, address_1.getAddress)(check) !== address) {\n            throw new Error(\"address mismatch\");\n        }\n    }\n    var account = {\n        _isKeystoreAccount: true,\n        address: address,\n        privateKey: (0, bytes_1.hexlify)(privateKey)\n    };\n    // Version 0.1 x-ethers metadata must contain an encrypted mnemonic phrase\n    if ((0, utils_1.searchPath)(data, \"x-ethers/version\") === \"0.1\") {\n        var mnemonicCiphertext = (0, utils_1.looseArrayify)((0, utils_1.searchPath)(data, \"x-ethers/mnemonicCiphertext\"));\n        var mnemonicIv = (0, utils_1.looseArrayify)((0, utils_1.searchPath)(data, \"x-ethers/mnemonicCounter\"));\n        var mnemonicCounter = new aes_js_1.default.Counter(mnemonicIv);\n        var mnemonicAesCtr = new aes_js_1.default.ModeOfOperation.ctr(mnemonicKey, mnemonicCounter);\n        var path = (0, utils_1.searchPath)(data, \"x-ethers/path\") || hdnode_1.defaultPath;\n        var locale = (0, utils_1.searchPath)(data, \"x-ethers/locale\") || \"en\";\n        var entropy = (0, bytes_1.arrayify)(mnemonicAesCtr.decrypt(mnemonicCiphertext));\n        try {\n            var mnemonic = (0, hdnode_1.entropyToMnemonic)(entropy, locale);\n            var node = hdnode_1.HDNode.fromMnemonic(mnemonic, null, locale).derivePath(path);\n            if (node.privateKey != account.privateKey) {\n                throw new Error(\"mnemonic mismatch\");\n            }\n            account.mnemonic = node.mnemonic;\n        }\n        catch (error) {\n            // If we don't have the locale wordlist installed to\n            // read this mnemonic, just bail and don't set the\n            // mnemonic\n            if (error.code !== logger_1.Logger.errors.INVALID_ARGUMENT || error.argument !== \"wordlist\") {\n                throw error;\n            }\n        }\n    }\n    return new KeystoreAccount(account);\n}\nfunction pbkdf2Sync(passwordBytes, salt, count, dkLen, prfFunc) {\n    return (0, bytes_1.arrayify)((0, pbkdf2_1.pbkdf2)(passwordBytes, salt, count, dkLen, prfFunc));\n}\nfunction pbkdf2(passwordBytes, salt, count, dkLen, prfFunc) {\n    return Promise.resolve(pbkdf2Sync(passwordBytes, salt, count, dkLen, prfFunc));\n}\nfunction _computeKdfKey(data, password, pbkdf2Func, scryptFunc, progressCallback) {\n    var passwordBytes = (0, utils_1.getPassword)(password);\n    var kdf = (0, utils_1.searchPath)(data, \"crypto/kdf\");\n    if (kdf && typeof (kdf) === \"string\") {\n        var throwError = function (name, value) {\n            return logger.throwArgumentError(\"invalid key-derivation function parameters\", name, value);\n        };\n        if (kdf.toLowerCase() === \"scrypt\") {\n            var salt = (0, utils_1.looseArrayify)((0, utils_1.searchPath)(data, \"crypto/kdfparams/salt\"));\n            var N = parseInt((0, utils_1.searchPath)(data, \"crypto/kdfparams/n\"));\n            var r = parseInt((0, utils_1.searchPath)(data, \"crypto/kdfparams/r\"));\n            var p = parseInt((0, utils_1.searchPath)(data, \"crypto/kdfparams/p\"));\n            // Check for all required parameters\n            if (!N || !r || !p) {\n                throwError(\"kdf\", kdf);\n            }\n            // Make sure N is a power of 2\n            if ((N & (N - 1)) !== 0) {\n                throwError(\"N\", N);\n            }\n            var dkLen = parseInt((0, utils_1.searchPath)(data, \"crypto/kdfparams/dklen\"));\n            if (dkLen !== 32) {\n                throwError(\"dklen\", dkLen);\n            }\n            return scryptFunc(passwordBytes, salt, N, r, p, 64, progressCallback);\n        }\n        else if (kdf.toLowerCase() === \"pbkdf2\") {\n            var salt = (0, utils_1.looseArrayify)((0, utils_1.searchPath)(data, \"crypto/kdfparams/salt\"));\n            var prfFunc = null;\n            var prf = (0, utils_1.searchPath)(data, \"crypto/kdfparams/prf\");\n            if (prf === \"hmac-sha256\") {\n                prfFunc = \"sha256\";\n            }\n            else if (prf === \"hmac-sha512\") {\n                prfFunc = \"sha512\";\n            }\n            else {\n                throwError(\"prf\", prf);\n            }\n            var count = parseInt((0, utils_1.searchPath)(data, \"crypto/kdfparams/c\"));\n            var dkLen = parseInt((0, utils_1.searchPath)(data, \"crypto/kdfparams/dklen\"));\n            if (dkLen !== 32) {\n                throwError(\"dklen\", dkLen);\n            }\n            return pbkdf2Func(passwordBytes, salt, count, dkLen, prfFunc);\n        }\n    }\n    return logger.throwArgumentError(\"unsupported key-derivation function\", \"kdf\", kdf);\n}\nfunction decryptSync(json, password) {\n    var data = JSON.parse(json);\n    var key = _computeKdfKey(data, password, pbkdf2Sync, scrypt_js_1.default.syncScrypt);\n    return _getAccount(data, key);\n}\nexports.decryptSync = decryptSync;\nfunction decrypt(json, password, progressCallback) {\n    return __awaiter(this, void 0, void 0, function () {\n        var data, key;\n        return __generator(this, function (_a) {\n            switch (_a.label) {\n                case 0:\n                    data = JSON.parse(json);\n                    return [4 /*yield*/, _computeKdfKey(data, password, pbkdf2, scrypt_js_1.default.scrypt, progressCallback)];\n                case 1:\n                    key = _a.sent();\n                    return [2 /*return*/, _getAccount(data, key)];\n            }\n        });\n    });\n}\nexports.decrypt = decrypt;\nfunction encrypt(account, password, options, progressCallback) {\n    try {\n        // Check the address matches the private key\n        if ((0, address_1.getAddress)(account.address) !== (0, transactions_1.computeAddress)(account.privateKey)) {\n            throw new Error(\"address/privateKey mismatch\");\n        }\n        // Check the mnemonic (if any) matches the private key\n        if (hasMnemonic(account)) {\n            var mnemonic = account.mnemonic;\n            var node = hdnode_1.HDNode.fromMnemonic(mnemonic.phrase, null, mnemonic.locale).derivePath(mnemonic.path || hdnode_1.defaultPath);\n            if (node.privateKey != account.privateKey) {\n                throw new Error(\"mnemonic mismatch\");\n            }\n        }\n    }\n    catch (e) {\n        return Promise.reject(e);\n    }\n    // The options are optional, so adjust the call as needed\n    if (typeof (options) === \"function\" && !progressCallback) {\n        progressCallback = options;\n        options = {};\n    }\n    if (!options) {\n        options = {};\n    }\n    var privateKey = (0, bytes_1.arrayify)(account.privateKey);\n    var passwordBytes = (0, utils_1.getPassword)(password);\n    var entropy = null;\n    var path = null;\n    var locale = null;\n    if (hasMnemonic(account)) {\n        var srcMnemonic = account.mnemonic;\n        entropy = (0, bytes_1.arrayify)((0, hdnode_1.mnemonicToEntropy)(srcMnemonic.phrase, srcMnemonic.locale || \"en\"));\n        path = srcMnemonic.path || hdnode_1.defaultPath;\n        locale = srcMnemonic.locale || \"en\";\n    }\n    var client = options.client;\n    if (!client) {\n        client = \"ethers.js\";\n    }\n    // Check/generate the salt\n    var salt = null;\n    if (options.salt) {\n        salt = (0, bytes_1.arrayify)(options.salt);\n    }\n    else {\n        salt = (0, random_1.randomBytes)(32);\n        ;\n    }\n    // Override initialization vector\n    var iv = null;\n    if (options.iv) {\n        iv = (0, bytes_1.arrayify)(options.iv);\n        if (iv.length !== 16) {\n            throw new Error(\"invalid iv\");\n        }\n    }\n    else {\n        iv = (0, random_1.randomBytes)(16);\n    }\n    // Override the uuid\n    var uuidRandom = null;\n    if (options.uuid) {\n        uuidRandom = (0, bytes_1.arrayify)(options.uuid);\n        if (uuidRandom.length !== 16) {\n            throw new Error(\"invalid uuid\");\n        }\n    }\n    else {\n        uuidRandom = (0, random_1.randomBytes)(16);\n    }\n    // Override the scrypt password-based key derivation function parameters\n    var N = (1 << 17), r = 8, p = 1;\n    if (options.scrypt) {\n        if (options.scrypt.N) {\n            N = options.scrypt.N;\n        }\n        if (options.scrypt.r) {\n            r = options.scrypt.r;\n        }\n        if (options.scrypt.p) {\n            p = options.scrypt.p;\n        }\n    }\n    // We take 64 bytes:\n    //   - 32 bytes   As normal for the Web3 secret storage (derivedKey, macPrefix)\n    //   - 32 bytes   AES key to encrypt mnemonic with (required here to be Ethers Wallet)\n    return scrypt_js_1.default.scrypt(passwordBytes, salt, N, r, p, 64, progressCallback).then(function (key) {\n        key = (0, bytes_1.arrayify)(key);\n        // This will be used to encrypt the wallet (as per Web3 secret storage)\n        var derivedKey = key.slice(0, 16);\n        var macPrefix = key.slice(16, 32);\n        // This will be used to encrypt the mnemonic phrase (if any)\n        var mnemonicKey = key.slice(32, 64);\n        // Encrypt the private key\n        var counter = new aes_js_1.default.Counter(iv);\n        var aesCtr = new aes_js_1.default.ModeOfOperation.ctr(derivedKey, counter);\n        var ciphertext = (0, bytes_1.arrayify)(aesCtr.encrypt(privateKey));\n        // Compute the message authentication code, used to check the password\n        var mac = (0, keccak256_1.keccak256)((0, bytes_1.concat)([macPrefix, ciphertext]));\n        // See: https://github.com/ethereum/wiki/wiki/Web3-Secret-Storage-Definition\n        var data = {\n            address: account.address.substring(2).toLowerCase(),\n            id: (0, utils_1.uuidV4)(uuidRandom),\n            version: 3,\n            crypto: {\n                cipher: \"aes-128-ctr\",\n                cipherparams: {\n                    iv: (0, bytes_1.hexlify)(iv).substring(2),\n                },\n                ciphertext: (0, bytes_1.hexlify)(ciphertext).substring(2),\n                kdf: \"scrypt\",\n                kdfparams: {\n                    salt: (0, bytes_1.hexlify)(salt).substring(2),\n                    n: N,\n                    dklen: 32,\n                    p: p,\n                    r: r\n                },\n                mac: mac.substring(2)\n            }\n        };\n        // If we have a mnemonic, encrypt it into the JSON wallet\n        if (entropy) {\n            var mnemonicIv = (0, random_1.randomBytes)(16);\n            var mnemonicCounter = new aes_js_1.default.Counter(mnemonicIv);\n            var mnemonicAesCtr = new aes_js_1.default.ModeOfOperation.ctr(mnemonicKey, mnemonicCounter);\n            var mnemonicCiphertext = (0, bytes_1.arrayify)(mnemonicAesCtr.encrypt(entropy));\n            var now = new Date();\n            var timestamp = (now.getUTCFullYear() + \"-\" +\n                (0, utils_1.zpad)(now.getUTCMonth() + 1, 2) + \"-\" +\n                (0, utils_1.zpad)(now.getUTCDate(), 2) + \"T\" +\n                (0, utils_1.zpad)(now.getUTCHours(), 2) + \"-\" +\n                (0, utils_1.zpad)(now.getUTCMinutes(), 2) + \"-\" +\n                (0, utils_1.zpad)(now.getUTCSeconds(), 2) + \".0Z\");\n            data[\"x-ethers\"] = {\n                client: client,\n                gethFilename: (\"UTC--\" + timestamp + \"--\" + data.address),\n                mnemonicCounter: (0, bytes_1.hexlify)(mnemonicIv).substring(2),\n                mnemonicCiphertext: (0, bytes_1.hexlify)(mnemonicCiphertext).substring(2),\n                path: path,\n                locale: locale,\n                version: \"0.1\"\n            };\n        }\n        return JSON.stringify(data);\n    });\n}\nexports.encrypt = encrypt;\n//# sourceMappingURL=keystore.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","_getAccount","data","key","ciphertext","utils_1","looseArrayify","searchPath","bytes_1","hexlify","keccak256_1","keccak256","concat","slice","substring","computedMAC","toLowerCase","Error","cipher","iv","counter","aes_js_1","default","Counter","aesCtr","ModeOfOperation","ctr","arrayify","decrypt","privateKey","logger","throwError","logger_1","Logger","errors","UNSUPPORTED_OPERATION","operation","mnemonicKey","address","transactions_1","computeAddress","check","address_1","getAddress","account","_isKeystoreAccount","mnemonicCiphertext","mnemonicIv","mnemonicCounter","mnemonicAesCtr","path","hdnode_1","defaultPath","locale","entropy","mnemonic","entropyToMnemonic","node","HDNode","fromMnemonic","derivePath","error","code","INVALID_ARGUMENT","argument","KeystoreAccount","pbkdf2Sync","passwordBytes","salt","count","dkLen","prfFunc","pbkdf2_1","pbkdf2","Promise","resolve","_computeKdfKey","password","pbkdf2Func","scryptFunc","progressCallback","getPassword","kdf","name","value","throwArgumentError","N","parseInt","r","p","prf","__extends","extendStatics","d","b","Object","setPrototypeOf","__proto__","Array","prototype","hasOwnProperty","call","__","constructor","TypeError","String","create","__awaiter","thisArg","_arguments","P","generator","adopt","reject","fulfilled","step","next","e","rejected","result","done","then","apply","__generator","body","verb","n","v","op","f","_","y","t","label","ops","pop","trys","length","push","sent","g","Symbol","iterator","__importDefault","mod","__esModule","defineProperty","encrypt","decryptSync","scrypt_js_1","random_1","properties_1","_version_1","version","_super","arguments","isKeystoreAccount","KeystoreAccount.prototype.isKeystoreAccount","Description","json","JSON","parse","syncScrypt","_a","scrypt","options","phrase","srcMnemonic","mnemonicToEntropy","client","randomBytes","uuidRandom","uuid","derivedKey","macPrefix","mac","id","uuidV4","crypto","cipherparams","kdfparams","dklen","now","Date","timestamp","getUTCFullYear","zpad","getUTCMonth","getUTCDate","getUTCHours","getUTCMinutes","getUTCSeconds","gethFilename","stringify"]
}
