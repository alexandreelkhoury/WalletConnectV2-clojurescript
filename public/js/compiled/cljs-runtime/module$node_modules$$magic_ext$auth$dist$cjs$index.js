shadow$provide.module$node_modules$$magic_ext$auth$dist$cjs$index=function(global,require,module,exports){var l=Object.defineProperty,c=Object.getOwnPropertyDescriptor,h=Object.getOwnPropertyNames,g=Object.prototype.hasOwnProperty,p=(s,n,t,o)=>{if(n&&"object"==typeof n||"function"==typeof n)for(let e of h(n))!g.call(s,e)&&e!==t&&l(s,e,{get:()=>n[e],enumerable:!(o=c(n,e))||o.enumerable});return s};global={};((s,n)=>{for(var t in n)l(s,t,{get:n[t],enumerable:!0})})(global,{AuthExtension:()=>u});module.exports=
(s=>p(l({},"__esModule",{value:!0}),s))(global);var i=require("module$node_modules$$magic_sdk$commons$dist$cjs$index"),E={},u=class extends i.Extension.Internal{constructor(){super(...arguments);this.name="auth";this.config={}}loginWithMagicLink(t){let {email:o,showUI:e=!0,redirectURI:a}=t;t=this.utils.createJsonRpcRequestPayload(this.sdk.testMode?i.MagicPayloadMethod.LoginWithMagicLinkTestMode:i.MagicPayloadMethod.LoginWithMagicLink,[{email:o,showUI:e,redirectURI:a}]);return this.request(t)}loginWithSMS(t){({phoneNumber:t}=
t);t=this.utils.createJsonRpcRequestPayload(this.sdk.testMode?i.MagicPayloadMethod.LoginWithSmsTestMode:i.MagicPayloadMethod.LoginWithSms,[{phoneNumber:t,showUI:!0}]);return this.request(t)}loginWithEmailOTP(t){let {email:o,showUI:e}=t,a=this.utils.createJsonRpcRequestPayload(this.sdk.testMode?i.MagicPayloadMethod.LoginWithEmailOTPTestMode:i.MagicPayloadMethod.LoginWithEmailOTP,[{email:o,showUI:e}]);return e?this.request(a):(t=this.request(a),t&&(t.on("verify-email-otp",d=>{this.createIntermediaryEvent("verify-email-otp",
a.id)(d)}),t.on("cancel",()=>{this.createIntermediaryEvent("cancel",a.id)()})),t)}loginWithCredential(t){let o=null!=t?t:"";t||"web"!==E.platform||(o=window.location.search,window.history.replaceState(null,"",window.location.origin+window.location.pathname));t=this.utils.createJsonRpcRequestPayload(this.sdk.testMode?i.MagicPayloadMethod.LoginWithCredentialTestMode:i.MagicPayloadMethod.LoginWithCredential,[o]);return this.request(t)}setAuthorizationToken(t){t=this.utils.createJsonRpcRequestPayload(i.MagicPayloadMethod.SetAuthorizationToken,
[{jwt:t}]);return this.request(t)}updateEmailWithUI(t){let {email:o,showUI:e=!0}=t;t=this.utils.createJsonRpcRequestPayload(this.sdk.testMode?i.MagicPayloadMethod.UpdateEmailTestMode:i.MagicPayloadMethod.UpdateEmail,[{email:o,showUI:e}]);return this.request(t)}updatePhoneNumberWithUI(){let t=this.utils.createJsonRpcRequestPayload(this.sdk.testMode?i.MagicPayloadMethod.UpdatePhoneNumberTestMode:i.MagicPayloadMethod.UpdatePhoneNumber);return this.request(t)}}}
//# sourceMappingURL=module$node_modules$$magic_ext$auth$dist$cjs$index.js.map
