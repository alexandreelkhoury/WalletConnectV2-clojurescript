["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/browserify-sign/node_modules/readable-stream/lib/internal/streams/async_iterator.js"],"~:js","shadow$provide[218]=function(S,A,V,q){function F(C,I,M){a:if(\"object\"===typeof I&&null!==I){var P=I[Symbol.toPrimitive];if(void 0!==P){I=P.call(I,\"string\");if(\"object\"!==typeof I)break a;throw new TypeError(\"@@toPrimitive must return a primitive value.\");}I=String(I)}I=\"symbol\"===typeof I?I:String(I);I in C?Object.defineProperty(C,I,{value:M,enumerable:!0,configurable:!0,writable:!0}):C[I]=M;return C}function G(C,I){return{value:C,done:I}}function r(C){var I=C[l];if(null!==I){var M=C[H].read();null!==\nM&&(C[B]=null,C[l]=null,C[h]=null,I(G(M,!1)))}}function y(C){u.nextTick(r,C)}function e(C,I){return function(M,P){C.then(function(){if(I[t])M(G(void 0,!0));else I[E](M,P)},P)}}var u=A(1);\"use strict\";var p,n=A(217),l=Symbol(\"lastResolve\"),h=Symbol(\"lastReject\"),k=Symbol(\"error\"),t=Symbol(\"ended\"),B=Symbol(\"lastPromise\"),E=Symbol(\"handlePromise\"),H=Symbol(\"stream\");S=Object.getPrototypeOf(function(){});var D=Object.setPrototypeOf((p={get stream(){return this[H]},next:function(){var C=this,I=this[k];\nif(null!==I)return Promise.reject(I);if(this[t])return Promise.resolve(G(void 0,!0));if(this[H].destroyed)return new Promise(function(M,P){u.nextTick(function(){C[k]?P(C[k]):M(G(void 0,!0))})});if(I=this[B])I=new Promise(e(I,this));else{I=this[H].read();if(null!==I)return Promise.resolve(G(I,!1));I=new Promise(this[E])}return this[B]=I}},F(p,Symbol.asyncIterator,function(){return this}),F(p,\"return\",function(){var C=this;return new Promise(function(I,M){C[H].destroy(null,function(P){P?M(P):I(G(void 0,\n!0))})})}),p),S);V.exports=function(C){var I,M=Object.create(D,(I={},F(I,H,{value:C,writable:!0}),F(I,l,{value:null,writable:!0}),F(I,h,{value:null,writable:!0}),F(I,k,{value:null,writable:!0}),F(I,t,{value:C._readableState.endEmitted,writable:!0}),F(I,E,{value:function(P,J){var T=M[H].read();T?(M[B]=null,M[l]=null,M[h]=null,P(G(T,!1))):(M[l]=P,M[h]=J)},writable:!0}),I));M[B]=null;n(C,function(P){if(P&&\"ERR_STREAM_PREMATURE_CLOSE\"!==P.code){var J=M[h];null!==J&&(M[B]=null,M[l]=null,M[h]=null,J(P));\nM[k]=P}else P=M[l],null!==P&&(M[B]=null,M[l]=null,M[h]=null,P(G(void 0,!0))),M[t]=!0});C.on(\"readable\",y.bind(null,M));return M}}","~:source","shadow$provide[218] = function(global,require,module,exports) {\nvar process = require('process');\n'use strict';\n\nvar _Object$setPrototypeO;\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \"string\"); return typeof key === \"symbol\" ? key : String(key); }\nfunction _toPrimitive(input, hint) { if (typeof input !== \"object\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \"default\"); if (typeof res !== \"object\") return res; throw new TypeError(\"@@toPrimitive must return a primitive value.\"); } return (hint === \"string\" ? String : Number)(input); }\nvar finished = require('./end-of-stream');\nvar kLastResolve = Symbol('lastResolve');\nvar kLastReject = Symbol('lastReject');\nvar kError = Symbol('error');\nvar kEnded = Symbol('ended');\nvar kLastPromise = Symbol('lastPromise');\nvar kHandlePromise = Symbol('handlePromise');\nvar kStream = Symbol('stream');\nfunction createIterResult(value, done) {\n  return {\n    value: value,\n    done: done\n  };\n}\nfunction readAndResolve(iter) {\n  var resolve = iter[kLastResolve];\n  if (resolve !== null) {\n    var data = iter[kStream].read();\n    // we defer if data is null\n    // we can be expecting either 'end' or\n    // 'error'\n    if (data !== null) {\n      iter[kLastPromise] = null;\n      iter[kLastResolve] = null;\n      iter[kLastReject] = null;\n      resolve(createIterResult(data, false));\n    }\n  }\n}\nfunction onReadable(iter) {\n  // we wait for the next tick, because it might\n  // emit an error with process.nextTick\n  process.nextTick(readAndResolve, iter);\n}\nfunction wrapForNext(lastPromise, iter) {\n  return function (resolve, reject) {\n    lastPromise.then(function () {\n      if (iter[kEnded]) {\n        resolve(createIterResult(undefined, true));\n        return;\n      }\n      iter[kHandlePromise](resolve, reject);\n    }, reject);\n  };\n}\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\n  get stream() {\n    return this[kStream];\n  },\n  next: function next() {\n    var _this = this;\n    // if we have detected an error in the meanwhile\n    // reject straight away\n    var error = this[kError];\n    if (error !== null) {\n      return Promise.reject(error);\n    }\n    if (this[kEnded]) {\n      return Promise.resolve(createIterResult(undefined, true));\n    }\n    if (this[kStream].destroyed) {\n      // We need to defer via nextTick because if .destroy(err) is\n      // called, the error will be emitted via nextTick, and\n      // we cannot guarantee that there is no error lingering around\n      // waiting to be emitted.\n      return new Promise(function (resolve, reject) {\n        process.nextTick(function () {\n          if (_this[kError]) {\n            reject(_this[kError]);\n          } else {\n            resolve(createIterResult(undefined, true));\n          }\n        });\n      });\n    }\n\n    // if we have multiple next() calls\n    // we will wait for the previous Promise to finish\n    // this logic is optimized to support for await loops,\n    // where next() is only called once at a time\n    var lastPromise = this[kLastPromise];\n    var promise;\n    if (lastPromise) {\n      promise = new Promise(wrapForNext(lastPromise, this));\n    } else {\n      // fast path needed to support multiple this.push()\n      // without triggering the next() queue\n      var data = this[kStream].read();\n      if (data !== null) {\n        return Promise.resolve(createIterResult(data, false));\n      }\n      promise = new Promise(this[kHandlePromise]);\n    }\n    this[kLastPromise] = promise;\n    return promise;\n  }\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\n  return this;\n}), _defineProperty(_Object$setPrototypeO, \"return\", function _return() {\n  var _this2 = this;\n  // destroy(err, cb) is a private API\n  // we can guarantee we have that here, because we control the\n  // Readable class this is attached to\n  return new Promise(function (resolve, reject) {\n    _this2[kStream].destroy(null, function (err) {\n      if (err) {\n        reject(err);\n        return;\n      }\n      resolve(createIterResult(undefined, true));\n    });\n  });\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\n  var _Object$create;\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\n    value: stream,\n    writable: true\n  }), _defineProperty(_Object$create, kLastResolve, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kLastReject, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kError, {\n    value: null,\n    writable: true\n  }), _defineProperty(_Object$create, kEnded, {\n    value: stream._readableState.endEmitted,\n    writable: true\n  }), _defineProperty(_Object$create, kHandlePromise, {\n    value: function value(resolve, reject) {\n      var data = iterator[kStream].read();\n      if (data) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        resolve(createIterResult(data, false));\n      } else {\n        iterator[kLastResolve] = resolve;\n        iterator[kLastReject] = reject;\n      }\n    },\n    writable: true\n  }), _Object$create));\n  iterator[kLastPromise] = null;\n  finished(stream, function (err) {\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\n      var reject = iterator[kLastReject];\n      // reject if we are waiting for data in the Promise\n      // returned by next() and store the error\n      if (reject !== null) {\n        iterator[kLastPromise] = null;\n        iterator[kLastResolve] = null;\n        iterator[kLastReject] = null;\n        reject(err);\n      }\n      iterator[kError] = err;\n      return;\n    }\n    var resolve = iterator[kLastResolve];\n    if (resolve !== null) {\n      iterator[kLastPromise] = null;\n      iterator[kLastResolve] = null;\n      iterator[kLastReject] = null;\n      resolve(createIterResult(undefined, true));\n    }\n    iterator[kEnded] = true;\n  });\n  stream.on('readable', onReadable.bind(null, iterator));\n  return iterator;\n};\nmodule.exports = createReadableStreamAsyncIterator;\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$process$browser","~$shadow.js","~$module$node_modules$browserify_sign$node_modules$readable_stream$lib$internal$streams$end_of_stream"]],"~:properties",["^5",["stream","next","configurable","value","enumerable","writable","done"]],"~:compiled-at",1695041440847,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$browserify_sign$node_modules$readable_stream$lib$internal$streams$async_iterator.js\",\n\"lineCount\":5,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/browserify-sign/node_modules/readable-stream/lib/internal/streams/async_iterator.js\"],\n\"sourcesContent\":[\"shadow$provide[218] = function(global,require,module,exports) {\\nvar process = require('process');\\n'use strict';\\n\\nvar _Object$setPrototypeO;\\nfunction _defineProperty(obj, key, value) { key = _toPropertyKey(key); if (key in obj) { Object.defineProperty(obj, key, { value: value, enumerable: true, configurable: true, writable: true }); } else { obj[key] = value; } return obj; }\\nfunction _toPropertyKey(arg) { var key = _toPrimitive(arg, \\\"string\\\"); return typeof key === \\\"symbol\\\" ? key : String(key); }\\nfunction _toPrimitive(input, hint) { if (typeof input !== \\\"object\\\" || input === null) return input; var prim = input[Symbol.toPrimitive]; if (prim !== undefined) { var res = prim.call(input, hint || \\\"default\\\"); if (typeof res !== \\\"object\\\") return res; throw new TypeError(\\\"@@toPrimitive must return a primitive value.\\\"); } return (hint === \\\"string\\\" ? String : Number)(input); }\\nvar finished = require('./end-of-stream');\\nvar kLastResolve = Symbol('lastResolve');\\nvar kLastReject = Symbol('lastReject');\\nvar kError = Symbol('error');\\nvar kEnded = Symbol('ended');\\nvar kLastPromise = Symbol('lastPromise');\\nvar kHandlePromise = Symbol('handlePromise');\\nvar kStream = Symbol('stream');\\nfunction createIterResult(value, done) {\\n  return {\\n    value: value,\\n    done: done\\n  };\\n}\\nfunction readAndResolve(iter) {\\n  var resolve = iter[kLastResolve];\\n  if (resolve !== null) {\\n    var data = iter[kStream].read();\\n    // we defer if data is null\\n    // we can be expecting either 'end' or\\n    // 'error'\\n    if (data !== null) {\\n      iter[kLastPromise] = null;\\n      iter[kLastResolve] = null;\\n      iter[kLastReject] = null;\\n      resolve(createIterResult(data, false));\\n    }\\n  }\\n}\\nfunction onReadable(iter) {\\n  // we wait for the next tick, because it might\\n  // emit an error with process.nextTick\\n  process.nextTick(readAndResolve, iter);\\n}\\nfunction wrapForNext(lastPromise, iter) {\\n  return function (resolve, reject) {\\n    lastPromise.then(function () {\\n      if (iter[kEnded]) {\\n        resolve(createIterResult(undefined, true));\\n        return;\\n      }\\n      iter[kHandlePromise](resolve, reject);\\n    }, reject);\\n  };\\n}\\nvar AsyncIteratorPrototype = Object.getPrototypeOf(function () {});\\nvar ReadableStreamAsyncIteratorPrototype = Object.setPrototypeOf((_Object$setPrototypeO = {\\n  get stream() {\\n    return this[kStream];\\n  },\\n  next: function next() {\\n    var _this = this;\\n    // if we have detected an error in the meanwhile\\n    // reject straight away\\n    var error = this[kError];\\n    if (error !== null) {\\n      return Promise.reject(error);\\n    }\\n    if (this[kEnded]) {\\n      return Promise.resolve(createIterResult(undefined, true));\\n    }\\n    if (this[kStream].destroyed) {\\n      // We need to defer via nextTick because if .destroy(err) is\\n      // called, the error will be emitted via nextTick, and\\n      // we cannot guarantee that there is no error lingering around\\n      // waiting to be emitted.\\n      return new Promise(function (resolve, reject) {\\n        process.nextTick(function () {\\n          if (_this[kError]) {\\n            reject(_this[kError]);\\n          } else {\\n            resolve(createIterResult(undefined, true));\\n          }\\n        });\\n      });\\n    }\\n\\n    // if we have multiple next() calls\\n    // we will wait for the previous Promise to finish\\n    // this logic is optimized to support for await loops,\\n    // where next() is only called once at a time\\n    var lastPromise = this[kLastPromise];\\n    var promise;\\n    if (lastPromise) {\\n      promise = new Promise(wrapForNext(lastPromise, this));\\n    } else {\\n      // fast path needed to support multiple this.push()\\n      // without triggering the next() queue\\n      var data = this[kStream].read();\\n      if (data !== null) {\\n        return Promise.resolve(createIterResult(data, false));\\n      }\\n      promise = new Promise(this[kHandlePromise]);\\n    }\\n    this[kLastPromise] = promise;\\n    return promise;\\n  }\\n}, _defineProperty(_Object$setPrototypeO, Symbol.asyncIterator, function () {\\n  return this;\\n}), _defineProperty(_Object$setPrototypeO, \\\"return\\\", function _return() {\\n  var _this2 = this;\\n  // destroy(err, cb) is a private API\\n  // we can guarantee we have that here, because we control the\\n  // Readable class this is attached to\\n  return new Promise(function (resolve, reject) {\\n    _this2[kStream].destroy(null, function (err) {\\n      if (err) {\\n        reject(err);\\n        return;\\n      }\\n      resolve(createIterResult(undefined, true));\\n    });\\n  });\\n}), _Object$setPrototypeO), AsyncIteratorPrototype);\\nvar createReadableStreamAsyncIterator = function createReadableStreamAsyncIterator(stream) {\\n  var _Object$create;\\n  var iterator = Object.create(ReadableStreamAsyncIteratorPrototype, (_Object$create = {}, _defineProperty(_Object$create, kStream, {\\n    value: stream,\\n    writable: true\\n  }), _defineProperty(_Object$create, kLastResolve, {\\n    value: null,\\n    writable: true\\n  }), _defineProperty(_Object$create, kLastReject, {\\n    value: null,\\n    writable: true\\n  }), _defineProperty(_Object$create, kError, {\\n    value: null,\\n    writable: true\\n  }), _defineProperty(_Object$create, kEnded, {\\n    value: stream._readableState.endEmitted,\\n    writable: true\\n  }), _defineProperty(_Object$create, kHandlePromise, {\\n    value: function value(resolve, reject) {\\n      var data = iterator[kStream].read();\\n      if (data) {\\n        iterator[kLastPromise] = null;\\n        iterator[kLastResolve] = null;\\n        iterator[kLastReject] = null;\\n        resolve(createIterResult(data, false));\\n      } else {\\n        iterator[kLastResolve] = resolve;\\n        iterator[kLastReject] = reject;\\n      }\\n    },\\n    writable: true\\n  }), _Object$create));\\n  iterator[kLastPromise] = null;\\n  finished(stream, function (err) {\\n    if (err && err.code !== 'ERR_STREAM_PREMATURE_CLOSE') {\\n      var reject = iterator[kLastReject];\\n      // reject if we are waiting for data in the Promise\\n      // returned by next() and store the error\\n      if (reject !== null) {\\n        iterator[kLastPromise] = null;\\n        iterator[kLastResolve] = null;\\n        iterator[kLastReject] = null;\\n        reject(err);\\n      }\\n      iterator[kError] = err;\\n      return;\\n    }\\n    var resolve = iterator[kLastResolve];\\n    if (resolve !== null) {\\n      iterator[kLastPromise] = null;\\n      iterator[kLastResolve] = null;\\n      iterator[kLastReject] = null;\\n      resolve(createIterResult(undefined, true));\\n    }\\n    iterator[kEnded] = true;\\n  });\\n  stream.on('readable', onReadable.bind(null, iterator));\\n  return iterator;\\n};\\nmodule.exports = createReadableStreamAsyncIterator;\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"_defineProperty\",\"obj\",\"key\",\"value\",\"input\",\"prim\",\"Symbol\",\"toPrimitive\",\"undefined\",\"res\",\"call\",\"hint\",\"TypeError\",\"String\",\"Object\",\"defineProperty\",\"enumerable\",\"configurable\",\"writable\",\"createIterResult\",\"done\",\"readAndResolve\",\"iter\",\"resolve\",\"kLastResolve\",\"data\",\"kStream\",\"read\",\"kLastPromise\",\"kLastReject\",\"onReadable\",\"process\",\"nextTick\",\"wrapForNext\",\"lastPromise\",\"reject\",\"then\",\"kEnded\",\"kHandlePromise\",\"_Object$setPrototypeO\",\"finished\",\"kError\",\"AsyncIteratorPrototype\",\"getPrototypeOf\",\"ReadableStreamAsyncIteratorPrototype\",\"setPrototypeOf\",\"stream\",\"next\",\"_this\",\"error\",\"Promise\",\"destroyed\",\"promise\",\"asyncIterator\",\"_return\",\"_this2\",\"destroy\",\"err\",\"createReadableStreamAsyncIterator\",\"_Object$create\",\"iterator\",\"create\",\"_readableState\",\"endEmitted\",\"code\",\"on\",\"bind\"]\n}\n"]