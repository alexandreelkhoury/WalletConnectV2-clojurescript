shadow$provide.module$node_modules$viem$_cjs$utils$buildRequest=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.buildRequest=exports.isDeterministicError=void 0;const base_js_1=require("module$node_modules$viem$_cjs$errors$base"),request_js_1=require("module$node_modules$viem$_cjs$errors$request"),rpc_js_1=require("module$node_modules$viem$_cjs$errors$rpc"),withRetry_js_1=require("module$node_modules$viem$_cjs$utils$promise$withRetry");exports.isDeterministicError=
error=>"code"in error?-1!==error.code&&-32004!==error.code&&-32005!==error.code&&-32042!==error.code&&-32603!==error.code:error instanceof request_js_1.HttpRequestError&&error.status?403!==error.status&&408!==error.status&&413!==error.status&&429!==error.status&&500!==error.status&&502!==error.status&&503!==error.status&&504!==error.status:!1;exports.buildRequest=function(request,{retryDelay=150,retryCount=3}={}){return async args=>(0,withRetry_js_1.withRetry)(async()=>{try{return await request(args)}catch(err_){switch(err_.code){case rpc_js_1.ParseRpcError.code:throw new rpc_js_1.ParseRpcError(err_);
case rpc_js_1.InvalidRequestRpcError.code:throw new rpc_js_1.InvalidRequestRpcError(err_);case rpc_js_1.MethodNotFoundRpcError.code:throw new rpc_js_1.MethodNotFoundRpcError(err_);case rpc_js_1.InvalidParamsRpcError.code:throw new rpc_js_1.InvalidParamsRpcError(err_);case rpc_js_1.InternalRpcError.code:throw new rpc_js_1.InternalRpcError(err_);case rpc_js_1.InvalidInputRpcError.code:throw new rpc_js_1.InvalidInputRpcError(err_);case rpc_js_1.ResourceNotFoundRpcError.code:throw new rpc_js_1.ResourceNotFoundRpcError(err_);
case rpc_js_1.ResourceUnavailableRpcError.code:throw new rpc_js_1.ResourceUnavailableRpcError(err_);case rpc_js_1.TransactionRejectedRpcError.code:throw new rpc_js_1.TransactionRejectedRpcError(err_);case rpc_js_1.MethodNotSupportedRpcError.code:throw new rpc_js_1.MethodNotSupportedRpcError(err_);case rpc_js_1.LimitExceededRpcError.code:throw new rpc_js_1.LimitExceededRpcError(err_);case rpc_js_1.JsonRpcVersionUnsupportedError.code:throw new rpc_js_1.JsonRpcVersionUnsupportedError(err_);case rpc_js_1.UserRejectedRequestError.code:throw new rpc_js_1.UserRejectedRequestError(err_);
case rpc_js_1.UnauthorizedProviderError.code:throw new rpc_js_1.UnauthorizedProviderError(err_);case rpc_js_1.UnsupportedProviderMethodError.code:throw new rpc_js_1.UnsupportedProviderMethodError(err_);case rpc_js_1.ProviderDisconnectedError.code:throw new rpc_js_1.ProviderDisconnectedError(err_);case rpc_js_1.ChainDisconnectedError.code:throw new rpc_js_1.ChainDisconnectedError(err_);case rpc_js_1.SwitchChainError.code:throw new rpc_js_1.SwitchChainError(err_);case 5E3:throw new rpc_js_1.UserRejectedRequestError(err_);
default:if(err_ instanceof base_js_1.BaseError)throw err_;throw new rpc_js_1.UnknownRpcError(err_);}}},{delay:({count,error})=>error&&error instanceof request_js_1.HttpRequestError&&(error=error?.headers?.get("Retry-After"),error?.match(/\d/))?1E3*parseInt(error):~~(1<<count)*retryDelay,retryCount,shouldRetry:({error})=>!(0,exports.isDeterministicError)(error)})}}
//# sourceMappingURL=module$node_modules$viem$_cjs$utils$buildRequest.js.map
