["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@ethersproject/providers/lib/websocket-provider.js"],"~:js","shadow$provide[339]=function(S,A,V,q){var F=this&&this.__extends||function(){var h=function(k,t){h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(B,E){B.__proto__=E}||function(B,E){for(var H in E)Object.prototype.hasOwnProperty.call(E,H)&&(B[H]=E[H])};return h(k,t)};return function(k,t){function B(){this.constructor=k}if(\"function\"!==typeof t&&null!==t)throw new TypeError(\"Class extends value \"+String(t)+\" is not a constructor or null\");h(k,t);k.prototype=null===t?Object.create(t):\n(B.prototype=t.prototype,new B)}}(),G=this&&this.__awaiter||function(h,k,t,B){function E(H){return H instanceof t?H:new t(function(D){D(H)})}return new (t||(t=Promise))(function(H,D){function C(P){try{M(B.next(P))}catch(J){D(J)}}function I(P){try{M(B[\"throw\"](P))}catch(J){D(J)}}function M(P){P.done?H(P.value):E(P.value).then(C,I)}M((B=B.apply(h,k||[])).next())})},r=this&&this.__generator||function(h,k){function t(M){return function(P){return B([M,P])}}function B(M){if(H)throw new TypeError(\"Generator is already executing.\");\nfor(;E;)try{if(H=1,D&&(C=M[0]&2?D[\"return\"]:M[0]?D[\"throw\"]||((C=D[\"return\"])&&C.call(D),0):D.next)&&!(C=C.call(D,M[1])).done)return C;if(D=0,C)M=[M[0]&2,C.value];switch(M[0]){case 0:case 1:C=M;break;case 4:return E.label++,{value:M[1],done:!1};case 5:E.label++;D=M[1];M=[0];continue;case 7:M=E.ops.pop();E.trys.pop();continue;default:if(!(C=E.trys,C=0<C.length&&C[C.length-1])&&(6===M[0]||2===M[0])){E=0;continue}if(3===M[0]&&(!C||M[1]>C[0]&&M[1]<C[3]))E.label=M[1];else if(6===M[0]&&E.label<C[1])E.label=\nC[1],C=M;else if(C&&E.label<C[2])E.label=C[2],E.ops.push(M);else{C[2]&&E.ops.pop();E.trys.pop();continue}}M=k.call(h,E)}catch(P){M=[6,P],D=0}finally{H=C=0}if(M[0]&5)throw M[1];return{value:M[0]?M[1]:void 0,done:!0}}var E={label:0,sent:function(){if(C[0]&1)throw C[1];return C[1]},trys:[],ops:[]},H,D,C,I;return I={next:t(0),\"throw\":t(1),\"return\":t(2)},\"function\"===typeof Symbol&&(I[Symbol.iterator]=function(){return this}),I};Object.defineProperty(q,\"__esModule\",{value:!0});q.WebSocketProvider=void 0;\nvar y=A(15),e=A(17);S=A(336);var u=A(338),p=A(9);A=A(333);var n=new p.Logger(A.version),l=1;A=function(h){function k(t,B){var E=this;\"any\"===B&&n.throwError(\"WebSocketProvider does not support 'any' network yet\",p.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"network:any\"});E=\"string\"===typeof t?h.call(this,t,B)||this:h.call(this,\"_websocket\",B)||this;E._pollingInterval=-1;E._wsReady=!1;\"string\"===typeof t?(0,e.defineReadOnly)(E,\"_websocket\",new u.WebSocket(E.connection.url)):(0,e.defineReadOnly)(E,\n\"_websocket\",t);(0,e.defineReadOnly)(E,\"_requests\",{});(0,e.defineReadOnly)(E,\"_subs\",{});(0,e.defineReadOnly)(E,\"_subIds\",{});(0,e.defineReadOnly)(E,\"_detectNetwork\",h.prototype.detectNetwork.call(E));E.websocket.onopen=function(){E._wsReady=!0;Object.keys(E._requests).forEach(function(H){E.websocket.send(E._requests[H].payload)})};E.websocket.onmessage=function(H){var D=H.data;H=JSON.parse(D);if(null!=H.id){var C=String(H.id),I=E._requests[C];delete E._requests[C];void 0!==H.result?(I.callback(null,\nH.result),E.emit(\"debug\",{action:\"response\",request:JSON.parse(I.payload),response:H.result,provider:E})):(H.error?(C=Error(H.error.message||\"unknown error\"),(0,e.defineReadOnly)(C,\"code\",H.error.code||null),(0,e.defineReadOnly)(C,\"response\",D)):C=Error(\"unknown error\"),I.callback(C,void 0),E.emit(\"debug\",{action:\"response\",error:C,request:JSON.parse(I.payload),provider:E}))}else\"eth_subscription\"===H.method?(D=E._subs[H.params.subscription])&&D.processFunc(H.params.result):console.warn(\"this should not happen\")};\nt=setInterval(function(){E.emit(\"poll\")},1E3);t.unref&&t.unref();return E}F(k,h);Object.defineProperty(k.prototype,\"websocket\",{get:function(){return this._websocket},enumerable:!1,configurable:!0});k.prototype.detectNetwork=function(){return this._detectNetwork};Object.defineProperty(k.prototype,\"pollingInterval\",{get:function(){return 0},set:function(t){n.throwError(\"cannot set polling interval on WebSocketProvider\",p.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"setPollingInterval\"})},enumerable:!1,\nconfigurable:!0});k.prototype.resetEventsBlock=function(t){n.throwError(\"cannot reset events block on WebSocketProvider\",p.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"resetEventBlock\"})};k.prototype.poll=function(){return G(this,void 0,void 0,function(){return r(this,function(t){return[2,null]})})};Object.defineProperty(k.prototype,\"polling\",{set:function(t){t&&n.throwError(\"cannot set polling on WebSocketProvider\",p.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"setPolling\"})},enumerable:!1,\nconfigurable:!0});k.prototype.send=function(t,B){var E=this,H=l++;return new Promise(function(D,C){var I=JSON.stringify({method:t,params:B,id:H,jsonrpc:\"2.0\"});E.emit(\"debug\",{action:\"request\",request:JSON.parse(I),provider:E});E._requests[String(H)]={callback:function(M,P){return M?C(M):D(P)},payload:I};E._wsReady&&E.websocket.send(I)})};k.defaultUrl=function(){return\"ws://localhost:8546\"};k.prototype._subscribe=function(t,B,E){return G(this,void 0,void 0,function(){var H,D,C=this;return r(this,\nfunction(I){switch(I.label){case 0:return H=this._subIds[t],null==H&&(H=Promise.all(B).then(function(M){return C.send(\"eth_subscribe\",M)}),this._subIds[t]=H),[4,H];case 1:return D=I.sent(),this._subs[D]={tag:t,processFunc:E},[2]}})})};k.prototype._startEvent=function(t){var B=this;switch(t.type){case \"block\":this._subscribe(\"block\",[\"newHeads\"],function(H){H=y.BigNumber.from(H.number).toNumber();B._emitted.block=H;B.emit(\"block\",H)});break;case \"pending\":this._subscribe(\"pending\",[\"newPendingTransactions\"],\nfunction(H){B.emit(\"pending\",H)});break;case \"filter\":this._subscribe(t.tag,[\"logs\",this._getFilter(t.filter)],function(H){null==H.removed&&(H.removed=!1);B.emit(t.filter,B.formatter.filterLog(H))});break;case \"tx\":var E=function(H){var D=H.hash;B.getTransactionReceipt(D).then(function(C){C&&B.emit(D,C)})};E(t);this._subscribe(\"tx\",[\"newHeads\"],function(H){B._events.filter(function(D){return\"tx\"===D.type}).forEach(E)});break;case \"debug\":case \"poll\":case \"willPoll\":case \"didPoll\":case \"error\":break;\ndefault:console.log(\"unhandled:\",t)}};k.prototype._stopEvent=function(t){var B=this,E=t.tag;if(\"tx\"===t.type){if(this._events.filter(function(H){return\"tx\"===H.type}).length)return;E=\"tx\"}else if(this.listenerCount(t.event))return;if(t=this._subIds[E])delete this._subIds[E],t.then(function(H){B._subs[H]&&(delete B._subs[H],B.send(\"eth_unsubscribe\",[H]))})};k.prototype.destroy=function(){return G(this,void 0,void 0,function(){var t=this;return r(this,function(B){switch(B.label){case 0:return this.websocket.readyState!==\nu.WebSocket.CONNECTING?[3,2]:[4,new Promise(function(E){t.websocket.onopen=function(){E(!0)};t.websocket.onerror=function(){E(!1)}})];case 1:B.sent(),B.label=2;case 2:return this.websocket.close(1E3),[2]}})})};return k}(S.JsonRpcProvider);q.WebSocketProvider=A}","~:source","shadow$provide[339] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.WebSocketProvider = void 0;\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar json_rpc_provider_1 = require(\"./json-rpc-provider\");\nvar ws_1 = require(\"./ws\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\n/**\n *  Notes:\n *\n *  This provider differs a bit from the polling providers. One main\n *  difference is how it handles consistency. The polling providers\n *  will stall responses to ensure a consistent state, while this\n *  WebSocket provider assumes the connected backend will manage this.\n *\n *  For example, if a polling provider emits an event which indicates\n *  the event occurred in blockhash XXX, a call to fetch that block by\n *  its hash XXX, if not present will retry until it is present. This\n *  can occur when querying a pool of nodes that are mildly out of sync\n *  with each other.\n */\nvar NextId = 1;\n// For more info about the Real-time Event API see:\n//   https://geth.ethereum.org/docs/rpc/pubsub\nvar WebSocketProvider = /** @class */ (function (_super) {\n    __extends(WebSocketProvider, _super);\n    function WebSocketProvider(url, network) {\n        var _this = this;\n        // This will be added in the future; please open an issue to expedite\n        if (network === \"any\") {\n            logger.throwError(\"WebSocketProvider does not support 'any' network yet\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"network:any\"\n            });\n        }\n        if (typeof (url) === \"string\") {\n            _this = _super.call(this, url, network) || this;\n        }\n        else {\n            _this = _super.call(this, \"_websocket\", network) || this;\n        }\n        _this._pollingInterval = -1;\n        _this._wsReady = false;\n        if (typeof (url) === \"string\") {\n            (0, properties_1.defineReadOnly)(_this, \"_websocket\", new ws_1.WebSocket(_this.connection.url));\n        }\n        else {\n            (0, properties_1.defineReadOnly)(_this, \"_websocket\", url);\n        }\n        (0, properties_1.defineReadOnly)(_this, \"_requests\", {});\n        (0, properties_1.defineReadOnly)(_this, \"_subs\", {});\n        (0, properties_1.defineReadOnly)(_this, \"_subIds\", {});\n        (0, properties_1.defineReadOnly)(_this, \"_detectNetwork\", _super.prototype.detectNetwork.call(_this));\n        // Stall sending requests until the socket is open...\n        _this.websocket.onopen = function () {\n            _this._wsReady = true;\n            Object.keys(_this._requests).forEach(function (id) {\n                _this.websocket.send(_this._requests[id].payload);\n            });\n        };\n        _this.websocket.onmessage = function (messageEvent) {\n            var data = messageEvent.data;\n            var result = JSON.parse(data);\n            if (result.id != null) {\n                var id = String(result.id);\n                var request = _this._requests[id];\n                delete _this._requests[id];\n                if (result.result !== undefined) {\n                    request.callback(null, result.result);\n                    _this.emit(\"debug\", {\n                        action: \"response\",\n                        request: JSON.parse(request.payload),\n                        response: result.result,\n                        provider: _this\n                    });\n                }\n                else {\n                    var error = null;\n                    if (result.error) {\n                        error = new Error(result.error.message || \"unknown error\");\n                        (0, properties_1.defineReadOnly)(error, \"code\", result.error.code || null);\n                        (0, properties_1.defineReadOnly)(error, \"response\", data);\n                    }\n                    else {\n                        error = new Error(\"unknown error\");\n                    }\n                    request.callback(error, undefined);\n                    _this.emit(\"debug\", {\n                        action: \"response\",\n                        error: error,\n                        request: JSON.parse(request.payload),\n                        provider: _this\n                    });\n                }\n            }\n            else if (result.method === \"eth_subscription\") {\n                // Subscription...\n                var sub = _this._subs[result.params.subscription];\n                if (sub) {\n                    //this.emit.apply(this,                  );\n                    sub.processFunc(result.params.result);\n                }\n            }\n            else {\n                console.warn(\"this should not happen\");\n            }\n        };\n        // This Provider does not actually poll, but we want to trigger\n        // poll events for things that depend on them (like stalling for\n        // block and transaction lookups)\n        var fauxPoll = setInterval(function () {\n            _this.emit(\"poll\");\n        }, 1000);\n        if (fauxPoll.unref) {\n            fauxPoll.unref();\n        }\n        return _this;\n    }\n    Object.defineProperty(WebSocketProvider.prototype, \"websocket\", {\n        // Cannot narrow the type of _websocket, as that is not backwards compatible\n        // so we add a getter and let the WebSocket be a public API.\n        get: function () { return this._websocket; },\n        enumerable: false,\n        configurable: true\n    });\n    WebSocketProvider.prototype.detectNetwork = function () {\n        return this._detectNetwork;\n    };\n    Object.defineProperty(WebSocketProvider.prototype, \"pollingInterval\", {\n        get: function () {\n            return 0;\n        },\n        set: function (value) {\n            logger.throwError(\"cannot set polling interval on WebSocketProvider\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setPollingInterval\"\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WebSocketProvider.prototype.resetEventsBlock = function (blockNumber) {\n        logger.throwError(\"cannot reset events block on WebSocketProvider\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"resetEventBlock\"\n        });\n    };\n    WebSocketProvider.prototype.poll = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            return __generator(this, function (_a) {\n                return [2 /*return*/, null];\n            });\n        });\n    };\n    Object.defineProperty(WebSocketProvider.prototype, \"polling\", {\n        set: function (value) {\n            if (!value) {\n                return;\n            }\n            logger.throwError(\"cannot set polling on WebSocketProvider\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                operation: \"setPolling\"\n            });\n        },\n        enumerable: false,\n        configurable: true\n    });\n    WebSocketProvider.prototype.send = function (method, params) {\n        var _this = this;\n        var rid = NextId++;\n        return new Promise(function (resolve, reject) {\n            function callback(error, result) {\n                if (error) {\n                    return reject(error);\n                }\n                return resolve(result);\n            }\n            var payload = JSON.stringify({\n                method: method,\n                params: params,\n                id: rid,\n                jsonrpc: \"2.0\"\n            });\n            _this.emit(\"debug\", {\n                action: \"request\",\n                request: JSON.parse(payload),\n                provider: _this\n            });\n            _this._requests[String(rid)] = { callback: callback, payload: payload };\n            if (_this._wsReady) {\n                _this.websocket.send(payload);\n            }\n        });\n    };\n    WebSocketProvider.defaultUrl = function () {\n        return \"ws:/\\/localhost:8546\";\n    };\n    WebSocketProvider.prototype._subscribe = function (tag, param, processFunc) {\n        return __awaiter(this, void 0, void 0, function () {\n            var subIdPromise, subId;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        subIdPromise = this._subIds[tag];\n                        if (subIdPromise == null) {\n                            subIdPromise = Promise.all(param).then(function (param) {\n                                return _this.send(\"eth_subscribe\", param);\n                            });\n                            this._subIds[tag] = subIdPromise;\n                        }\n                        return [4 /*yield*/, subIdPromise];\n                    case 1:\n                        subId = _a.sent();\n                        this._subs[subId] = { tag: tag, processFunc: processFunc };\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    WebSocketProvider.prototype._startEvent = function (event) {\n        var _this = this;\n        switch (event.type) {\n            case \"block\":\n                this._subscribe(\"block\", [\"newHeads\"], function (result) {\n                    var blockNumber = bignumber_1.BigNumber.from(result.number).toNumber();\n                    _this._emitted.block = blockNumber;\n                    _this.emit(\"block\", blockNumber);\n                });\n                break;\n            case \"pending\":\n                this._subscribe(\"pending\", [\"newPendingTransactions\"], function (result) {\n                    _this.emit(\"pending\", result);\n                });\n                break;\n            case \"filter\":\n                this._subscribe(event.tag, [\"logs\", this._getFilter(event.filter)], function (result) {\n                    if (result.removed == null) {\n                        result.removed = false;\n                    }\n                    _this.emit(event.filter, _this.formatter.filterLog(result));\n                });\n                break;\n            case \"tx\": {\n                var emitReceipt_1 = function (event) {\n                    var hash = event.hash;\n                    _this.getTransactionReceipt(hash).then(function (receipt) {\n                        if (!receipt) {\n                            return;\n                        }\n                        _this.emit(hash, receipt);\n                    });\n                };\n                // In case it is already mined\n                emitReceipt_1(event);\n                // To keep things simple, we start up a single newHeads subscription\n                // to keep an eye out for transactions we are watching for.\n                // Starting a subscription for an event (i.e. \"tx\") that is already\n                // running is (basically) a nop.\n                this._subscribe(\"tx\", [\"newHeads\"], function (result) {\n                    _this._events.filter(function (e) { return (e.type === \"tx\"); }).forEach(emitReceipt_1);\n                });\n                break;\n            }\n            // Nothing is needed\n            case \"debug\":\n            case \"poll\":\n            case \"willPoll\":\n            case \"didPoll\":\n            case \"error\":\n                break;\n            default:\n                console.log(\"unhandled:\", event);\n                break;\n        }\n    };\n    WebSocketProvider.prototype._stopEvent = function (event) {\n        var _this = this;\n        var tag = event.tag;\n        if (event.type === \"tx\") {\n            // There are remaining transaction event listeners\n            if (this._events.filter(function (e) { return (e.type === \"tx\"); }).length) {\n                return;\n            }\n            tag = \"tx\";\n        }\n        else if (this.listenerCount(event.event)) {\n            // There are remaining event listeners\n            return;\n        }\n        var subId = this._subIds[tag];\n        if (!subId) {\n            return;\n        }\n        delete this._subIds[tag];\n        subId.then(function (subId) {\n            if (!_this._subs[subId]) {\n                return;\n            }\n            delete _this._subs[subId];\n            _this.send(\"eth_unsubscribe\", [subId]);\n        });\n    };\n    WebSocketProvider.prototype.destroy = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(this.websocket.readyState === ws_1.WebSocket.CONNECTING)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, (new Promise(function (resolve) {\n                                _this.websocket.onopen = function () {\n                                    resolve(true);\n                                };\n                                _this.websocket.onerror = function () {\n                                    resolve(false);\n                                };\n                            }))];\n                    case 1:\n                        _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        // Hangup\n                        // See: https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\n                        this.websocket.close(1000);\n                        return [2 /*return*/];\n                }\n            });\n        });\n    };\n    return WebSocketProvider;\n}(json_rpc_provider_1.JsonRpcProvider));\nexports.WebSocketProvider = WebSocketProvider;\n//# sourceMappingURL=websocket-provider.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$ethersproject$providers$lib$json_rpc_provider","~$shadow.js","~$module$node_modules$$ethersproject$providers$lib$_version","~$module$node_modules$$ethersproject$bignumber$lib$index","~$module$node_modules$$ethersproject$logger$lib$index","~$module$node_modules$$ethersproject$providers$lib$ws","~$module$node_modules$$ethersproject$properties$lib$index"]],"~:properties",["^5",["callback","sent","defaultUrl","websocket","removed","next","onerror","_startEvent","WebSocketProvider","_pollingInterval","params","prototype","send","label","ops","method","_subscribe","resetEventsBlock","__esModule","error","id","block","_stopEvent","provider","pollingInterval","configurable","tag","value","destroy","enumerable","request","operation","action","_wsReady","trys","poll","processFunc","onopen","__proto__","response","set","jsonrpc","payload","detectNetwork","get","done","polling","onmessage","constructor"]],"~:compiled-at",1695041440918,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$ethersproject$providers$lib$websocket_provider.js\",\n\"lineCount\":14,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@ethersproject/providers/lib/websocket-provider.js\"],\n\"sourcesContent\":[\"shadow$provide[339] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        if (typeof b !== \\\"function\\\" && b !== null)\\n            throw new TypeError(\\\"Class extends value \\\" + String(b) + \\\" is not a constructor or null\\\");\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nvar __generator = (this && this.__generator) || function (thisArg, body) {\\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\\n    return g = { next: verb(0), \\\"throw\\\": verb(1), \\\"return\\\": verb(2) }, typeof Symbol === \\\"function\\\" && (g[Symbol.iterator] = function() { return this; }), g;\\n    function verb(n) { return function (v) { return step([n, v]); }; }\\n    function step(op) {\\n        if (f) throw new TypeError(\\\"Generator is already executing.\\\");\\n        while (_) try {\\n            if (f = 1, y && (t = op[0] & 2 ? y[\\\"return\\\"] : op[0] ? y[\\\"throw\\\"] || ((t = y[\\\"return\\\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\\n            if (y = 0, t) op = [op[0] & 2, t.value];\\n            switch (op[0]) {\\n                case 0: case 1: t = op; break;\\n                case 4: _.label++; return { value: op[1], done: false };\\n                case 5: _.label++; y = op[1]; op = [0]; continue;\\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\\n                default:\\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\\n                    if (t[2]) _.ops.pop();\\n                    _.trys.pop(); continue;\\n            }\\n            op = body.call(thisArg, _);\\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\\n    }\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.WebSocketProvider = void 0;\\nvar bignumber_1 = require(\\\"@ethersproject/bignumber\\\");\\nvar properties_1 = require(\\\"@ethersproject/properties\\\");\\nvar json_rpc_provider_1 = require(\\\"./json-rpc-provider\\\");\\nvar ws_1 = require(\\\"./ws\\\");\\nvar logger_1 = require(\\\"@ethersproject/logger\\\");\\nvar _version_1 = require(\\\"./_version\\\");\\nvar logger = new logger_1.Logger(_version_1.version);\\n/**\\n *  Notes:\\n *\\n *  This provider differs a bit from the polling providers. One main\\n *  difference is how it handles consistency. The polling providers\\n *  will stall responses to ensure a consistent state, while this\\n *  WebSocket provider assumes the connected backend will manage this.\\n *\\n *  For example, if a polling provider emits an event which indicates\\n *  the event occurred in blockhash XXX, a call to fetch that block by\\n *  its hash XXX, if not present will retry until it is present. This\\n *  can occur when querying a pool of nodes that are mildly out of sync\\n *  with each other.\\n */\\nvar NextId = 1;\\n// For more info about the Real-time Event API see:\\n//   https://geth.ethereum.org/docs/rpc/pubsub\\nvar WebSocketProvider = /** @class */ (function (_super) {\\n    __extends(WebSocketProvider, _super);\\n    function WebSocketProvider(url, network) {\\n        var _this = this;\\n        // This will be added in the future; please open an issue to expedite\\n        if (network === \\\"any\\\") {\\n            logger.throwError(\\\"WebSocketProvider does not support 'any' network yet\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n                operation: \\\"network:any\\\"\\n            });\\n        }\\n        if (typeof (url) === \\\"string\\\") {\\n            _this = _super.call(this, url, network) || this;\\n        }\\n        else {\\n            _this = _super.call(this, \\\"_websocket\\\", network) || this;\\n        }\\n        _this._pollingInterval = -1;\\n        _this._wsReady = false;\\n        if (typeof (url) === \\\"string\\\") {\\n            (0, properties_1.defineReadOnly)(_this, \\\"_websocket\\\", new ws_1.WebSocket(_this.connection.url));\\n        }\\n        else {\\n            (0, properties_1.defineReadOnly)(_this, \\\"_websocket\\\", url);\\n        }\\n        (0, properties_1.defineReadOnly)(_this, \\\"_requests\\\", {});\\n        (0, properties_1.defineReadOnly)(_this, \\\"_subs\\\", {});\\n        (0, properties_1.defineReadOnly)(_this, \\\"_subIds\\\", {});\\n        (0, properties_1.defineReadOnly)(_this, \\\"_detectNetwork\\\", _super.prototype.detectNetwork.call(_this));\\n        // Stall sending requests until the socket is open...\\n        _this.websocket.onopen = function () {\\n            _this._wsReady = true;\\n            Object.keys(_this._requests).forEach(function (id) {\\n                _this.websocket.send(_this._requests[id].payload);\\n            });\\n        };\\n        _this.websocket.onmessage = function (messageEvent) {\\n            var data = messageEvent.data;\\n            var result = JSON.parse(data);\\n            if (result.id != null) {\\n                var id = String(result.id);\\n                var request = _this._requests[id];\\n                delete _this._requests[id];\\n                if (result.result !== undefined) {\\n                    request.callback(null, result.result);\\n                    _this.emit(\\\"debug\\\", {\\n                        action: \\\"response\\\",\\n                        request: JSON.parse(request.payload),\\n                        response: result.result,\\n                        provider: _this\\n                    });\\n                }\\n                else {\\n                    var error = null;\\n                    if (result.error) {\\n                        error = new Error(result.error.message || \\\"unknown error\\\");\\n                        (0, properties_1.defineReadOnly)(error, \\\"code\\\", result.error.code || null);\\n                        (0, properties_1.defineReadOnly)(error, \\\"response\\\", data);\\n                    }\\n                    else {\\n                        error = new Error(\\\"unknown error\\\");\\n                    }\\n                    request.callback(error, undefined);\\n                    _this.emit(\\\"debug\\\", {\\n                        action: \\\"response\\\",\\n                        error: error,\\n                        request: JSON.parse(request.payload),\\n                        provider: _this\\n                    });\\n                }\\n            }\\n            else if (result.method === \\\"eth_subscription\\\") {\\n                // Subscription...\\n                var sub = _this._subs[result.params.subscription];\\n                if (sub) {\\n                    //this.emit.apply(this,                  );\\n                    sub.processFunc(result.params.result);\\n                }\\n            }\\n            else {\\n                console.warn(\\\"this should not happen\\\");\\n            }\\n        };\\n        // This Provider does not actually poll, but we want to trigger\\n        // poll events for things that depend on them (like stalling for\\n        // block and transaction lookups)\\n        var fauxPoll = setInterval(function () {\\n            _this.emit(\\\"poll\\\");\\n        }, 1000);\\n        if (fauxPoll.unref) {\\n            fauxPoll.unref();\\n        }\\n        return _this;\\n    }\\n    Object.defineProperty(WebSocketProvider.prototype, \\\"websocket\\\", {\\n        // Cannot narrow the type of _websocket, as that is not backwards compatible\\n        // so we add a getter and let the WebSocket be a public API.\\n        get: function () { return this._websocket; },\\n        enumerable: false,\\n        configurable: true\\n    });\\n    WebSocketProvider.prototype.detectNetwork = function () {\\n        return this._detectNetwork;\\n    };\\n    Object.defineProperty(WebSocketProvider.prototype, \\\"pollingInterval\\\", {\\n        get: function () {\\n            return 0;\\n        },\\n        set: function (value) {\\n            logger.throwError(\\\"cannot set polling interval on WebSocketProvider\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n                operation: \\\"setPollingInterval\\\"\\n            });\\n        },\\n        enumerable: false,\\n        configurable: true\\n    });\\n    WebSocketProvider.prototype.resetEventsBlock = function (blockNumber) {\\n        logger.throwError(\\\"cannot reset events block on WebSocketProvider\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n            operation: \\\"resetEventBlock\\\"\\n        });\\n    };\\n    WebSocketProvider.prototype.poll = function () {\\n        return __awaiter(this, void 0, void 0, function () {\\n            return __generator(this, function (_a) {\\n                return [2 /*return*/, null];\\n            });\\n        });\\n    };\\n    Object.defineProperty(WebSocketProvider.prototype, \\\"polling\\\", {\\n        set: function (value) {\\n            if (!value) {\\n                return;\\n            }\\n            logger.throwError(\\\"cannot set polling on WebSocketProvider\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n                operation: \\\"setPolling\\\"\\n            });\\n        },\\n        enumerable: false,\\n        configurable: true\\n    });\\n    WebSocketProvider.prototype.send = function (method, params) {\\n        var _this = this;\\n        var rid = NextId++;\\n        return new Promise(function (resolve, reject) {\\n            function callback(error, result) {\\n                if (error) {\\n                    return reject(error);\\n                }\\n                return resolve(result);\\n            }\\n            var payload = JSON.stringify({\\n                method: method,\\n                params: params,\\n                id: rid,\\n                jsonrpc: \\\"2.0\\\"\\n            });\\n            _this.emit(\\\"debug\\\", {\\n                action: \\\"request\\\",\\n                request: JSON.parse(payload),\\n                provider: _this\\n            });\\n            _this._requests[String(rid)] = { callback: callback, payload: payload };\\n            if (_this._wsReady) {\\n                _this.websocket.send(payload);\\n            }\\n        });\\n    };\\n    WebSocketProvider.defaultUrl = function () {\\n        return \\\"ws:/\\\\/localhost:8546\\\";\\n    };\\n    WebSocketProvider.prototype._subscribe = function (tag, param, processFunc) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var subIdPromise, subId;\\n            var _this = this;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        subIdPromise = this._subIds[tag];\\n                        if (subIdPromise == null) {\\n                            subIdPromise = Promise.all(param).then(function (param) {\\n                                return _this.send(\\\"eth_subscribe\\\", param);\\n                            });\\n                            this._subIds[tag] = subIdPromise;\\n                        }\\n                        return [4 /*yield*/, subIdPromise];\\n                    case 1:\\n                        subId = _a.sent();\\n                        this._subs[subId] = { tag: tag, processFunc: processFunc };\\n                        return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    WebSocketProvider.prototype._startEvent = function (event) {\\n        var _this = this;\\n        switch (event.type) {\\n            case \\\"block\\\":\\n                this._subscribe(\\\"block\\\", [\\\"newHeads\\\"], function (result) {\\n                    var blockNumber = bignumber_1.BigNumber.from(result.number).toNumber();\\n                    _this._emitted.block = blockNumber;\\n                    _this.emit(\\\"block\\\", blockNumber);\\n                });\\n                break;\\n            case \\\"pending\\\":\\n                this._subscribe(\\\"pending\\\", [\\\"newPendingTransactions\\\"], function (result) {\\n                    _this.emit(\\\"pending\\\", result);\\n                });\\n                break;\\n            case \\\"filter\\\":\\n                this._subscribe(event.tag, [\\\"logs\\\", this._getFilter(event.filter)], function (result) {\\n                    if (result.removed == null) {\\n                        result.removed = false;\\n                    }\\n                    _this.emit(event.filter, _this.formatter.filterLog(result));\\n                });\\n                break;\\n            case \\\"tx\\\": {\\n                var emitReceipt_1 = function (event) {\\n                    var hash = event.hash;\\n                    _this.getTransactionReceipt(hash).then(function (receipt) {\\n                        if (!receipt) {\\n                            return;\\n                        }\\n                        _this.emit(hash, receipt);\\n                    });\\n                };\\n                // In case it is already mined\\n                emitReceipt_1(event);\\n                // To keep things simple, we start up a single newHeads subscription\\n                // to keep an eye out for transactions we are watching for.\\n                // Starting a subscription for an event (i.e. \\\"tx\\\") that is already\\n                // running is (basically) a nop.\\n                this._subscribe(\\\"tx\\\", [\\\"newHeads\\\"], function (result) {\\n                    _this._events.filter(function (e) { return (e.type === \\\"tx\\\"); }).forEach(emitReceipt_1);\\n                });\\n                break;\\n            }\\n            // Nothing is needed\\n            case \\\"debug\\\":\\n            case \\\"poll\\\":\\n            case \\\"willPoll\\\":\\n            case \\\"didPoll\\\":\\n            case \\\"error\\\":\\n                break;\\n            default:\\n                console.log(\\\"unhandled:\\\", event);\\n                break;\\n        }\\n    };\\n    WebSocketProvider.prototype._stopEvent = function (event) {\\n        var _this = this;\\n        var tag = event.tag;\\n        if (event.type === \\\"tx\\\") {\\n            // There are remaining transaction event listeners\\n            if (this._events.filter(function (e) { return (e.type === \\\"tx\\\"); }).length) {\\n                return;\\n            }\\n            tag = \\\"tx\\\";\\n        }\\n        else if (this.listenerCount(event.event)) {\\n            // There are remaining event listeners\\n            return;\\n        }\\n        var subId = this._subIds[tag];\\n        if (!subId) {\\n            return;\\n        }\\n        delete this._subIds[tag];\\n        subId.then(function (subId) {\\n            if (!_this._subs[subId]) {\\n                return;\\n            }\\n            delete _this._subs[subId];\\n            _this.send(\\\"eth_unsubscribe\\\", [subId]);\\n        });\\n    };\\n    WebSocketProvider.prototype.destroy = function () {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var _this = this;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        if (!(this.websocket.readyState === ws_1.WebSocket.CONNECTING)) return [3 /*break*/, 2];\\n                        return [4 /*yield*/, (new Promise(function (resolve) {\\n                                _this.websocket.onopen = function () {\\n                                    resolve(true);\\n                                };\\n                                _this.websocket.onerror = function () {\\n                                    resolve(false);\\n                                };\\n                            }))];\\n                    case 1:\\n                        _a.sent();\\n                        _a.label = 2;\\n                    case 2:\\n                        // Hangup\\n                        // See: https://developer.mozilla.org/en-US/docs/Web/API/CloseEvent#Status_codes\\n                        this.websocket.close(1000);\\n                        return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    return WebSocketProvider;\\n}(json_rpc_provider_1.JsonRpcProvider));\\nexports.WebSocketProvider = WebSocketProvider;\\n//# sourceMappingURL=websocket-provider.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"prototype\",\"hasOwnProperty\",\"call\",\"__\",\"constructor\",\"TypeError\",\"String\",\"create\",\"__awaiter\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"adopt\",\"value\",\"resolve\",\"Promise\",\"reject\",\"fulfilled\",\"step\",\"next\",\"e\",\"rejected\",\"result\",\"done\",\"then\",\"apply\",\"__generator\",\"body\",\"verb\",\"n\",\"v\",\"op\",\"f\",\"_\",\"y\",\"t\",\"label\",\"ops\",\"pop\",\"trys\",\"length\",\"push\",\"sent\",\"g\",\"Symbol\",\"iterator\",\"defineProperty\",\"WebSocketProvider\",\"bignumber_1\",\"properties_1\",\"json_rpc_provider_1\",\"ws_1\",\"logger_1\",\"_version_1\",\"logger\",\"Logger\",\"version\",\"NextId\",\"_super\",\"url\",\"network\",\"_this\",\"throwError\",\"errors\",\"UNSUPPORTED_OPERATION\",\"operation\",\"_pollingInterval\",\"_wsReady\",\"defineReadOnly\",\"WebSocket\",\"connection\",\"detectNetwork\",\"websocket\",\"onopen\",\"_this.websocket.onopen\",\"keys\",\"_requests\",\"forEach\",\"id\",\"send\",\"payload\",\"onmessage\",\"_this.websocket.onmessage\",\"messageEvent\",\"data\",\"JSON\",\"parse\",\"request\",\"undefined\",\"callback\",\"emit\",\"action\",\"response\",\"provider\",\"error\",\"Error\",\"message\",\"code\",\"method\",\"sub\",\"_subs\",\"params\",\"subscription\",\"processFunc\",\"console\",\"warn\",\"fauxPoll\",\"setInterval\",\"unref\",\"get\",\"_websocket\",\"enumerable\",\"configurable\",\"WebSocketProvider.prototype.detectNetwork\",\"_detectNetwork\",\"set\",\"resetEventsBlock\",\"WebSocketProvider.prototype.resetEventsBlock\",\"blockNumber\",\"poll\",\"WebSocketProvider.prototype.poll\",\"_a\",\"WebSocketProvider.prototype.send\",\"rid\",\"stringify\",\"jsonrpc\",\"defaultUrl\",\"WebSocketProvider.defaultUrl\",\"_subscribe\",\"WebSocketProvider.prototype._subscribe\",\"tag\",\"param\",\"subIdPromise\",\"subId\",\"_subIds\",\"all\",\"_startEvent\",\"WebSocketProvider.prototype._startEvent\",\"event\",\"type\",\"BigNumber\",\"from\",\"number\",\"toNumber\",\"_emitted\",\"block\",\"_getFilter\",\"filter\",\"removed\",\"formatter\",\"filterLog\",\"emitReceipt_1\",\"hash\",\"getTransactionReceipt\",\"receipt\",\"_events\",\"log\",\"_stopEvent\",\"WebSocketProvider.prototype._stopEvent\",\"listenerCount\",\"destroy\",\"WebSocketProvider.prototype.destroy\",\"readyState\",\"CONNECTING\",\"onerror\",\"_this.websocket.onerror\",\"close\",\"JsonRpcProvider\"]\n}\n"]