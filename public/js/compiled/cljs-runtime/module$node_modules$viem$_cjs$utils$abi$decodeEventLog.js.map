{
"version":3,
"file":"module$node_modules$viem$_cjs$utils$abi$decodeEventLog.js",
"lineCount":5,
"mappings":"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",
"sources":["node_modules/viem/_cjs/utils/abi/decodeEventLog.js"],
"sourcesContent":["shadow$provide[\"module$node_modules$viem$_cjs$utils$abi$decodeEventLog\"] = function(global,require,module,exports) {\n\"use strict\";\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.decodeEventLog = void 0;\nconst abi_js_1 = require(\"../../errors/abi.js\");\nconst getEventSelector_js_1 = require(\"../hash/getEventSelector.js\");\nconst decodeAbiParameters_js_1 = require(\"./decodeAbiParameters.js\");\nconst formatAbiItem_js_1 = require(\"./formatAbiItem.js\");\nconst docsPath = '/docs/contract/decodeEventLog';\nfunction decodeEventLog({ abi, data, strict: strict_, topics, }) {\n    const strict = strict_ ?? true;\n    const [signature, ...argTopics] = topics;\n    if (!signature)\n        throw new abi_js_1.AbiEventSignatureEmptyTopicsError({\n            docsPath,\n        });\n    const abiItem = abi.find((x) => x.type === 'event' &&\n        signature === (0, getEventSelector_js_1.getEventSelector)((0, formatAbiItem_js_1.formatAbiItem)(x)));\n    if (!(abiItem && 'name' in abiItem) || abiItem.type !== 'event')\n        throw new abi_js_1.AbiEventSignatureNotFoundError(signature, {\n            docsPath,\n        });\n    const { name, inputs } = abiItem;\n    const isUnnamed = inputs?.some((x) => !('name' in x && x.name));\n    let args = isUnnamed ? [] : {};\n    const indexedInputs = inputs.filter((x) => 'indexed' in x && x.indexed);\n    if (argTopics.length > 0) {\n        for (let i = 0; i < indexedInputs.length; i++) {\n            const param = indexedInputs[i];\n            const topic = argTopics[i];\n            if (!topic)\n                throw new abi_js_1.DecodeLogTopicsMismatch({\n                    abiItem,\n                    param: param,\n                });\n            args[param.name || i] = decodeTopic({ param, value: topic });\n        }\n    }\n    const nonIndexedInputs = inputs.filter((x) => !('indexed' in x && x.indexed));\n    if (nonIndexedInputs.length > 0) {\n        if (data && data !== '0x') {\n            try {\n                const decodedData = (0, decodeAbiParameters_js_1.decodeAbiParameters)(nonIndexedInputs, data);\n                if (decodedData) {\n                    if (isUnnamed)\n                        args = [...args, ...decodedData];\n                    else {\n                        for (let i = 0; i < nonIndexedInputs.length; i++) {\n                            args[nonIndexedInputs[i].name] = decodedData[i];\n                        }\n                    }\n                }\n            }\n            catch (err) {\n                if (strict) {\n                    if (err instanceof abi_js_1.AbiDecodingDataSizeTooSmallError)\n                        throw new abi_js_1.DecodeLogDataMismatch({\n                            abiItem,\n                            data: err.data,\n                            params: err.params,\n                            size: err.size,\n                        });\n                    throw err;\n                }\n            }\n        }\n        else if (strict) {\n            throw new abi_js_1.DecodeLogDataMismatch({\n                abiItem,\n                data: '0x',\n                params: nonIndexedInputs,\n                size: 0,\n            });\n        }\n    }\n    return {\n        eventName: name,\n        args: Object.values(args).length > 0 ? args : undefined,\n    };\n}\nexports.decodeEventLog = decodeEventLog;\nfunction decodeTopic({ param, value }) {\n    if (param.type === 'string' ||\n        param.type === 'bytes' ||\n        param.type === 'tuple' ||\n        param.type.match(/^(.*)\\[(\\d+)?\\]$/))\n        return value;\n    const decodedArg = (0, decodeAbiParameters_js_1.decodeAbiParameters)([param], value) || [];\n    return decodedArg[0];\n}\n//# sourceMappingURL=decodeEventLog.js.map\n};"],
"names":["shadow$provide","global","require","module","exports","decodeTopic","param","value","type","match","decodeAbiParameters_js_1","decodeAbiParameters","Object","defineProperty","decodeEventLog","abi_js_1","getEventSelector_js_1","formatAbiItem_js_1","abi","data","strict_","topics","strict","signature","argTopics","AbiEventSignatureEmptyTopicsError","docsPath","abiItem","find","x","getEventSelector","formatAbiItem","AbiEventSignatureNotFoundError","name","inputs","isUnnamed","some","args","indexedInputs","filter","indexed","length","i","topic","DecodeLogTopicsMismatch","nonIndexedInputs","decodedData","err","AbiDecodingDataSizeTooSmallError","DecodeLogDataMismatch","params","size","eventName","values","undefined"]
}
