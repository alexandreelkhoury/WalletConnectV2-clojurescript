["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@ethersproject/providers/lib/json-rpc-batch-provider.js"],"~:js","shadow$provide[349]=function(S,A,V,q){var F=this&&this.__extends||function(){var y=function(e,u){y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,n){p.__proto__=n}||function(p,n){for(var l in n)Object.prototype.hasOwnProperty.call(n,l)&&(p[l]=n[l])};return y(e,u)};return function(e,u){function p(){this.constructor=e}if(\"function\"!==typeof u&&null!==u)throw new TypeError(\"Class extends value \"+String(u)+\" is not a constructor or null\");y(e,u);e.prototype=null===u?Object.create(u):\n(p.prototype=u.prototype,new p)}}();Object.defineProperty(q,\"__esModule\",{value:!0});q.JsonRpcBatchProvider=void 0;var G=A(17),r=A(331);S=function(y){function e(){return null!==y&&y.apply(this,arguments)||this}F(e,y);e.prototype.send=function(u,p){var n=this;u={method:u,params:p,id:this._nextId++,jsonrpc:\"2.0\"};null==this._pendingBatch&&(this._pendingBatch=[]);var l={request:u,resolve:null,reject:null};u=new Promise(function(h,k){l.resolve=h;l.reject=k});this._pendingBatch.push(l);this._pendingBatchAggregator||\n(this._pendingBatchAggregator=setTimeout(function(){var h=n._pendingBatch;n._pendingBatch=null;n._pendingBatchAggregator=null;var k=h.map(function(t){return t.request});n.emit(\"debug\",{action:\"requestBatch\",request:(0,G.deepCopy)(k),provider:n});return(0,r.fetchJson)(n.connection,JSON.stringify(k)).then(function(t){n.emit(\"debug\",{action:\"response\",request:k,response:t,provider:n});h.forEach(function(B,E){E=t[E];if(E.error){var H=Error(E.error.message);H.code=E.error.code;H.data=E.error.data;B.reject(H)}else B.resolve(E.result)})},\nfunction(t){n.emit(\"debug\",{action:\"response\",error:t,request:k,provider:n});h.forEach(function(B){B.reject(t)})})},10));return u};return e}(A(336).JsonRpcProvider);q.JsonRpcBatchProvider=S}","~:source","shadow$provide[349] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcBatchProvider = void 0;\nvar properties_1 = require(\"@ethersproject/properties\");\nvar web_1 = require(\"@ethersproject/web\");\nvar json_rpc_provider_1 = require(\"./json-rpc-provider\");\n// Experimental\nvar JsonRpcBatchProvider = /** @class */ (function (_super) {\n    __extends(JsonRpcBatchProvider, _super);\n    function JsonRpcBatchProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    JsonRpcBatchProvider.prototype.send = function (method, params) {\n        var _this = this;\n        var request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        if (this._pendingBatch == null) {\n            this._pendingBatch = [];\n        }\n        var inflightRequest = { request: request, resolve: null, reject: null };\n        var promise = new Promise(function (resolve, reject) {\n            inflightRequest.resolve = resolve;\n            inflightRequest.reject = reject;\n        });\n        this._pendingBatch.push(inflightRequest);\n        if (!this._pendingBatchAggregator) {\n            // Schedule batch for next event loop + short duration\n            this._pendingBatchAggregator = setTimeout(function () {\n                // Get teh current batch and clear it, so new requests\n                // go into the next batch\n                var batch = _this._pendingBatch;\n                _this._pendingBatch = null;\n                _this._pendingBatchAggregator = null;\n                // Get the request as an array of requests\n                var request = batch.map(function (inflight) { return inflight.request; });\n                _this.emit(\"debug\", {\n                    action: \"requestBatch\",\n                    request: (0, properties_1.deepCopy)(request),\n                    provider: _this\n                });\n                return (0, web_1.fetchJson)(_this.connection, JSON.stringify(request)).then(function (result) {\n                    _this.emit(\"debug\", {\n                        action: \"response\",\n                        request: request,\n                        response: result,\n                        provider: _this\n                    });\n                    // For each result, feed it to the correct Promise, depending\n                    // on whether it was a success or error\n                    batch.forEach(function (inflightRequest, index) {\n                        var payload = result[index];\n                        if (payload.error) {\n                            var error = new Error(payload.error.message);\n                            error.code = payload.error.code;\n                            error.data = payload.error.data;\n                            inflightRequest.reject(error);\n                        }\n                        else {\n                            inflightRequest.resolve(payload.result);\n                        }\n                    });\n                }, function (error) {\n                    _this.emit(\"debug\", {\n                        action: \"response\",\n                        error: error,\n                        request: request,\n                        provider: _this\n                    });\n                    batch.forEach(function (inflightRequest) {\n                        inflightRequest.reject(error);\n                    });\n                });\n            }, 10);\n        }\n        return promise;\n    };\n    return JsonRpcBatchProvider;\n}(json_rpc_provider_1.JsonRpcProvider));\nexports.JsonRpcBatchProvider = JsonRpcBatchProvider;\n//# sourceMappingURL=json-rpc-batch-provider.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$ethersproject$providers$lib$json_rpc_provider","~$shadow.js","~$module$node_modules$$ethersproject$web$lib$index","~$module$node_modules$$ethersproject$properties$lib$index"]],"~:properties",["^5",["_pendingBatchAggregator","resolve","JsonRpcBatchProvider","params","prototype","send","method","__esModule","error","id","provider","value","request","action","__proto__","response","_pendingBatch","jsonrpc","reject","data","code","constructor"]],"~:compiled-at",1695041440923,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$ethersproject$providers$lib$json_rpc_batch_provider.js\",\n\"lineCount\":4,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@ethersproject/providers/lib/json-rpc-batch-provider.js\"],\n\"sourcesContent\":[\"shadow$provide[349] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        if (typeof b !== \\\"function\\\" && b !== null)\\n            throw new TypeError(\\\"Class extends value \\\" + String(b) + \\\" is not a constructor or null\\\");\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.JsonRpcBatchProvider = void 0;\\nvar properties_1 = require(\\\"@ethersproject/properties\\\");\\nvar web_1 = require(\\\"@ethersproject/web\\\");\\nvar json_rpc_provider_1 = require(\\\"./json-rpc-provider\\\");\\n// Experimental\\nvar JsonRpcBatchProvider = /** @class */ (function (_super) {\\n    __extends(JsonRpcBatchProvider, _super);\\n    function JsonRpcBatchProvider() {\\n        return _super !== null && _super.apply(this, arguments) || this;\\n    }\\n    JsonRpcBatchProvider.prototype.send = function (method, params) {\\n        var _this = this;\\n        var request = {\\n            method: method,\\n            params: params,\\n            id: (this._nextId++),\\n            jsonrpc: \\\"2.0\\\"\\n        };\\n        if (this._pendingBatch == null) {\\n            this._pendingBatch = [];\\n        }\\n        var inflightRequest = { request: request, resolve: null, reject: null };\\n        var promise = new Promise(function (resolve, reject) {\\n            inflightRequest.resolve = resolve;\\n            inflightRequest.reject = reject;\\n        });\\n        this._pendingBatch.push(inflightRequest);\\n        if (!this._pendingBatchAggregator) {\\n            // Schedule batch for next event loop + short duration\\n            this._pendingBatchAggregator = setTimeout(function () {\\n                // Get teh current batch and clear it, so new requests\\n                // go into the next batch\\n                var batch = _this._pendingBatch;\\n                _this._pendingBatch = null;\\n                _this._pendingBatchAggregator = null;\\n                // Get the request as an array of requests\\n                var request = batch.map(function (inflight) { return inflight.request; });\\n                _this.emit(\\\"debug\\\", {\\n                    action: \\\"requestBatch\\\",\\n                    request: (0, properties_1.deepCopy)(request),\\n                    provider: _this\\n                });\\n                return (0, web_1.fetchJson)(_this.connection, JSON.stringify(request)).then(function (result) {\\n                    _this.emit(\\\"debug\\\", {\\n                        action: \\\"response\\\",\\n                        request: request,\\n                        response: result,\\n                        provider: _this\\n                    });\\n                    // For each result, feed it to the correct Promise, depending\\n                    // on whether it was a success or error\\n                    batch.forEach(function (inflightRequest, index) {\\n                        var payload = result[index];\\n                        if (payload.error) {\\n                            var error = new Error(payload.error.message);\\n                            error.code = payload.error.code;\\n                            error.data = payload.error.data;\\n                            inflightRequest.reject(error);\\n                        }\\n                        else {\\n                            inflightRequest.resolve(payload.result);\\n                        }\\n                    });\\n                }, function (error) {\\n                    _this.emit(\\\"debug\\\", {\\n                        action: \\\"response\\\",\\n                        error: error,\\n                        request: request,\\n                        provider: _this\\n                    });\\n                    batch.forEach(function (inflightRequest) {\\n                        inflightRequest.reject(error);\\n                    });\\n                });\\n            }, 10);\\n        }\\n        return promise;\\n    };\\n    return JsonRpcBatchProvider;\\n}(json_rpc_provider_1.JsonRpcProvider));\\nexports.JsonRpcBatchProvider = JsonRpcBatchProvider;\\n//# sourceMappingURL=json-rpc-batch-provider.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"prototype\",\"hasOwnProperty\",\"call\",\"__\",\"constructor\",\"TypeError\",\"String\",\"create\",\"defineProperty\",\"value\",\"JsonRpcBatchProvider\",\"properties_1\",\"web_1\",\"_super\",\"apply\",\"arguments\",\"send\",\"JsonRpcBatchProvider.prototype.send\",\"method\",\"params\",\"_this\",\"request\",\"id\",\"_nextId\",\"jsonrpc\",\"_pendingBatch\",\"inflightRequest\",\"resolve\",\"reject\",\"promise\",\"Promise\",\"push\",\"_pendingBatchAggregator\",\"setTimeout\",\"batch\",\"map\",\"inflight\",\"emit\",\"action\",\"deepCopy\",\"provider\",\"fetchJson\",\"connection\",\"JSON\",\"stringify\",\"then\",\"result\",\"response\",\"forEach\",\"index\",\"payload\",\"error\",\"Error\",\"message\",\"code\",\"data\",\"json_rpc_provider_1\",\"JsonRpcProvider\"]\n}\n"]