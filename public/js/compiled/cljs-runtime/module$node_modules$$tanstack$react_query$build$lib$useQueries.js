shadow$provide.module$node_modules$$tanstack$react_query$build$lib$useQueries=function(global,require,module,exports){"use client";"use strict";Object.defineProperty(exports,"__esModule",{value:!0});global=require("module$node_modules$react$index");var queryCore=require("module$node_modules$$tanstack$query_core$build$lib$index"),useSyncExternalStore=require("module$node_modules$$tanstack$react_query$build$lib$useSyncExternalStore"),QueryClientProvider=require("module$node_modules$$tanstack$react_query$build$lib$QueryClientProvider"),
isRestoring=require("module$node_modules$$tanstack$react_query$build$lib$isRestoring"),QueryErrorResetBoundary=require("module$node_modules$$tanstack$react_query$build$lib$QueryErrorResetBoundary"),errorBoundaryUtils=require("module$node_modules$$tanstack$react_query$build$lib$errorBoundaryUtils"),suspense=require("module$node_modules$$tanstack$react_query$build$lib$suspense"),React__namespace=function(e){if(e&&e.__esModule)return e;var n=Object.create(null);e&&Object.keys(e).forEach(function(k){if("default"!==
k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}});n["default"]=e;return Object.freeze(n)}(global);exports.useQueries=function({queries,context}){const queryClient=QueryClientProvider.useQueryClient({context}),isRestoring$1=isRestoring.useIsRestoring(),errorResetBoundary=QueryErrorResetBoundary.useQueryErrorResetBoundary(),defaultedQueries=React__namespace.useMemo(()=>queries.map(options=>{options=queryClient.defaultQueryOptions(options);
options._optimisticResults=isRestoring$1?"isRestoring":"optimistic";return options}),[queries,queryClient,isRestoring$1]);defaultedQueries.forEach(query=>{suspense.ensureStaleTime(query);errorBoundaryUtils.ensurePreventErrorBoundaryRetry(query,errorResetBoundary)});errorBoundaryUtils.useClearResetErrorBoundary(errorResetBoundary);const [observer]=React__namespace.useState(()=>new queryCore.QueriesObserver(queryClient,defaultedQueries));context=observer.getOptimisticResult(defaultedQueries);useSyncExternalStore.useSyncExternalStore(React__namespace.useCallback(onStoreChange=>
isRestoring$1?()=>{}:observer.subscribe(queryCore.notifyManager.batchCalls(onStoreChange)),[observer,isRestoring$1]),()=>observer.getCurrentResult(),()=>observer.getCurrentResult());React__namespace.useEffect(()=>{observer.setQueries(defaultedQueries,{listeners:!1})},[defaultedQueries,observer]);var suspensePromises=context.some((result,index)=>suspense.shouldSuspend(defaultedQueries[index],result,isRestoring$1))?context.flatMap((result,index)=>{const options=defaultedQueries[index];index=observer.getObservers()[index];
if(options&&index){if(suspense.shouldSuspend(options,result,isRestoring$1))return suspense.fetchOptimistic(options,index,errorResetBoundary);suspense.willFetch(result,isRestoring$1)&&void suspense.fetchOptimistic(options,index,errorResetBoundary)}return[]}):[];if(0<suspensePromises.length)throw Promise.all(suspensePromises);const observerQueries=observer.getQueries();suspensePromises=context.find((result,index)=>{var _defaultedQueries$ind,_defaultedQueries$ind2;return errorBoundaryUtils.getHasError({result,
errorResetBoundary,useErrorBoundary:null!=(_defaultedQueries$ind=null==(_defaultedQueries$ind2=defaultedQueries[index])?void 0:_defaultedQueries$ind2.useErrorBoundary)?_defaultedQueries$ind:!1,query:observerQueries[index]})});if(null!=suspensePromises&&suspensePromises.error)throw suspensePromises.error;return context}}
//# sourceMappingURL=module$node_modules$$tanstack$react_query$build$lib$useQueries.js.map
