shadow$provide.module$node_modules$$tanstack$react_query_persist_client$build$lib$PersistQueryClientProvider=function(global,require,module,exports){"use client";"use strict";Object.defineProperty(exports,"__esModule",{value:!0});var _rollupPluginBabelHelpers=require("module$node_modules$$tanstack$react_query_persist_client$build$lib$_virtual$_rollupPluginBabelHelpers");global=require("module$node_modules$react$index");var queryPersistClientCore=require("module$node_modules$$tanstack$query_persist_client_core$build$lib$index"),
reactQuery=require("module$node_modules$$tanstack$react_query$build$lib$index"),React__namespace=function(e){if(e&&e.__esModule)return e;var n=Object.create(null);e&&Object.keys(e).forEach(function(k){if("default"!==k){var d=Object.getOwnPropertyDescriptor(e,k);Object.defineProperty(n,k,d.get?d:{enumerable:!0,get:function(){return e[k]}})}});n["default"]=e;return Object.freeze(n)}(global);exports.PersistQueryClientProvider=({client,children,persistOptions,onSuccess,...props})=>{const [isRestoring,
setIsRestoring]=React__namespace.useState(!0),refs=React__namespace.useRef({persistOptions,onSuccess}),didRestore=React__namespace.useRef(!1);React__namespace.useEffect(()=>{refs.current={persistOptions,onSuccess}});React__namespace.useEffect(()=>{const options={...refs.current.persistOptions,queryClient:client};didRestore.current||(didRestore.current=!0,setIsRestoring(!0),queryPersistClientCore.persistQueryClientRestore(options).then(async()=>{try{await (null==refs.current.onSuccess?void 0:refs.current.onSuccess())}finally{setIsRestoring(!1)}}));
return isRestoring?void 0:queryPersistClientCore.persistQueryClientSubscribe(options)},[client,isRestoring]);return React__namespace.createElement(reactQuery.QueryClientProvider,_rollupPluginBabelHelpers["extends"]({client},props),React__namespace.createElement(reactQuery.IsRestoringProvider,{value:isRestoring},children))}}
//# sourceMappingURL=module$node_modules$$tanstack$react_query_persist_client$build$lib$PersistQueryClientProvider.js.map
