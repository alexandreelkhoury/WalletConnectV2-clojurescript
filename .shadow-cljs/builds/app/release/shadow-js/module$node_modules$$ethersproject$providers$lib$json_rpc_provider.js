["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@ethersproject/providers/lib/json-rpc-provider.js"],"~:js","shadow$provide[336]=function(S,A,V,q){function F(N,a){if(null==N)return null;if(\"string\"===typeof N.message&&N.message.match(\"reverted\")){var b=(0,h.isHexString)(N.data)?N.data:null;if(!a||b)return{message:N.message,data:b}}if(\"object\"===typeof N){for(var c in N)if(b=F(N[c],a))return b;return null}if(\"string\"===typeof N)try{return F(JSON.parse(N),a)}catch(d){}return null}function G(N,a,b){b=b.transaction||b.signedTransaction;if(\"call\"===N){var c=F(a,!0);if(c)return c.data;C.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\",\nD.Logger.errors.CALL_EXCEPTION,{data:\"0x\",transaction:b,error:a})}\"estimateGas\"===N&&(c=F(a.body,!1),null==c&&(c=F(a,!1)),c&&C.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\",D.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{reason:c.message,method:N,transaction:b,error:a}));c=a.message;a.code===D.Logger.errors.SERVER_ERROR&&a.error&&\"string\"===typeof a.error.message?c=a.error.message:\"string\"===typeof a.body?c=a.body:\"string\"===typeof a.responseText&&(c=a.responseText);\nc=(c||\"\").toLowerCase();c.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)&&C.throwError(\"insufficient funds for intrinsic transaction cost\",D.Logger.errors.INSUFFICIENT_FUNDS,{error:a,method:N,transaction:b});c.match(/nonce (is )?too low/i)&&C.throwError(\"nonce has already been used\",D.Logger.errors.NONCE_EXPIRED,{error:a,method:N,transaction:b});c.match(/replacement transaction underpriced|transaction gas price.*too low/i)&&C.throwError(\"replacement fee too low\",D.Logger.errors.REPLACEMENT_UNDERPRICED,\n{error:a,method:N,transaction:b});c.match(/only replay-protected/i)&&C.throwError(\"legacy pre-eip-155 transactions not supported\",D.Logger.errors.UNSUPPORTED_OPERATION,{error:a,method:N,transaction:b});0<=I.indexOf(N)&&c.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)&&C.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\",D.Logger.errors.UNPREDICTABLE_GAS_LIMIT,{error:a,method:N,transaction:b});throw a;}function r(N){return new Promise(function(a){setTimeout(a,\nN)})}function y(N){if(N.error){var a=Error(N.error.message);a.code=N.error.code;a.data=N.error.data;throw a;}return N.result}function e(N){return N?N.toLowerCase():N}var u=this&&this.__extends||function(){var N=function(a,b){N=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,d){c.__proto__=d}||function(c,d){for(var f in d)Object.prototype.hasOwnProperty.call(d,f)&&(c[f]=d[f])};return N(a,b)};return function(a,b){function c(){this.constructor=a}if(\"function\"!==typeof b&&null!==b)throw new TypeError(\"Class extends value \"+\nString(b)+\" is not a constructor or null\");N(a,b);a.prototype=null===b?Object.create(b):(c.prototype=b.prototype,new c)}}(),p=this&&this.__awaiter||function(N,a,b,c){function d(f){return f instanceof b?f:new b(function(g){g(f)})}return new (b||(b=Promise))(function(f,g){function m(z){try{x(c.next(z))}catch(v){g(v)}}function w(z){try{x(c[\"throw\"](z))}catch(v){g(v)}}function x(z){z.done?f(z.value):d(z.value).then(m,w)}x((c=c.apply(N,a||[])).next())})},n=this&&this.__generator||function(N,a){function b(x){return function(z){return c([x,\nz])}}function c(x){if(f)throw new TypeError(\"Generator is already executing.\");for(;d;)try{if(f=1,g&&(m=x[0]&2?g[\"return\"]:x[0]?g[\"throw\"]||((m=g[\"return\"])&&m.call(g),0):g.next)&&!(m=m.call(g,x[1])).done)return m;if(g=0,m)x=[x[0]&2,m.value];switch(x[0]){case 0:case 1:m=x;break;case 4:return d.label++,{value:x[1],done:!1};case 5:d.label++;g=x[1];x=[0];continue;case 7:x=d.ops.pop();d.trys.pop();continue;default:if(!(m=d.trys,m=0<m.length&&m[m.length-1])&&(6===x[0]||2===x[0])){d=0;continue}if(3===x[0]&&\n(!m||x[1]>m[0]&&x[1]<m[3]))d.label=x[1];else if(6===x[0]&&d.label<m[1])d.label=m[1],m=x;else if(m&&d.label<m[2])d.label=m[2],d.ops.push(x);else{m[2]&&d.ops.pop();d.trys.pop();continue}}x=a.call(N,d)}catch(z){x=[6,z],g=0}finally{f=m=0}if(x[0]&5)throw x[1];return{value:x[0]?x[1]:void 0,done:!0}}var d={label:0,sent:function(){if(m[0]&1)throw m[1];return m[1]},trys:[],ops:[]},f,g,m,w;return w={next:b(0),\"throw\":b(1),\"return\":b(2)},\"function\"===typeof Symbol&&(w[Symbol.iterator]=function(){return this}),\nw};Object.defineProperty(q,\"__esModule\",{value:!0});q.JsonRpcProvider=q.JsonRpcSigner=void 0;S=A(68);var l=A(15),h=A(11),k=A(62),t=A(17),B=A(44),E=A(107),H=A(331),D=A(9);V=A(333);var C=new D.Logger(V.version);A=A(335);var I=[\"call\",\"estimateGas\"],M={},P=function(N){function a(b,c,d){var f=N.call(this)||this;if(b!==M)throw Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");(0,t.defineReadOnly)(f,\"provider\",c);null==d&&(d=0);\"string\"===typeof d?((0,t.defineReadOnly)(f,\n\"_address\",f.provider.formatter.address(d)),(0,t.defineReadOnly)(f,\"_index\",null)):\"number\"===typeof d?((0,t.defineReadOnly)(f,\"_index\",d),(0,t.defineReadOnly)(f,\"_address\",null)):C.throwArgumentError(\"invalid address or index\",\"addressOrIndex\",d);return f}u(a,N);a.prototype.connect=function(b){return C.throwError(\"cannot alter JSON-RPC Signer connection\",D.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"connect\"})};a.prototype.connectUnchecked=function(){return new J(M,this.provider,this._address||\nthis._index)};a.prototype.getAddress=function(){var b=this;return this._address?Promise.resolve(this._address):this.provider.send(\"eth_accounts\",[]).then(function(c){c.length<=b._index&&C.throwError(\"unknown account #\"+b._index,D.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"getAddress\"});return b.provider.formatter.address(c[b._index])})};a.prototype.sendUncheckedTransaction=function(b){var c=this;b=(0,t.shallowCopy)(b);var d=this.getAddress().then(function(g){g&&(g=g.toLowerCase());return g});\nif(null==b.gasLimit){var f=(0,t.shallowCopy)(b);f.from=d;b.gasLimit=this.provider.estimateGas(f)}null!=b.to&&(b.to=Promise.resolve(b.to).then(function(g){return p(c,void 0,void 0,function(){var m;return n(this,function(w){switch(w.label){case 0:return null==g?[2,null]:[4,this.provider.resolveName(g)];case 1:return m=w.sent(),null==m&&C.throwArgumentError(\"provided ENS name resolves to null\",\"tx.to\",g),[2,m]}})})}));return(0,t.resolveProperties)({tx:(0,t.resolveProperties)(b),sender:d}).then(function(g){var m=\ng.tx;g=g.sender;null!=m.from?m.from.toLowerCase()!==g&&C.throwArgumentError(\"from address mismatch\",\"transaction\",b):m.from=g;var w=c.provider.constructor.hexlifyTransaction(m,{from:!0});return c.provider.send(\"eth_sendTransaction\",[w]).then(function(x){return x},function(x){\"string\"===typeof x.message&&x.message.match(/user denied/i)&&C.throwError(\"user rejected transaction\",D.Logger.errors.ACTION_REJECTED,{action:\"sendTransaction\",transaction:m});return G(\"sendTransaction\",x,w)})})};a.prototype.signTransaction=\nfunction(b){return C.throwError(\"signing transactions is unsupported\",D.Logger.errors.UNSUPPORTED_OPERATION,{operation:\"signTransaction\"})};a.prototype.sendTransaction=function(b){return p(this,void 0,void 0,function(){var c,d,f,g=this;return n(this,function(m){switch(m.label){case 0:return[4,this.provider._getInternalBlockNumber(100+2*this.provider.pollingInterval)];case 1:return c=m.sent(),[4,this.sendUncheckedTransaction(b)];case 2:d=m.sent(),m.label=3;case 3:return m.trys.push([3,5,,6]),[4,(0,H.poll)(function(){return p(g,\nvoid 0,void 0,function(){var w;return n(this,function(x){switch(x.label){case 0:return[4,this.provider.getTransaction(d)];case 1:return w=x.sent(),null===w?[2,void 0]:[2,this.provider._wrapTransaction(w,d,c)]}})})},{oncePoll:this.provider})];case 4:return[2,m.sent()];case 5:throw f=m.sent(),f.transactionHash=d,f;case 6:return[2]}})})};a.prototype.signMessage=function(b){return p(this,void 0,void 0,function(){var c,d,f;return n(this,function(g){switch(g.label){case 0:return c=\"string\"===typeof b?(0,B.toUtf8Bytes)(b):\nb,[4,this.getAddress()];case 1:d=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.provider.send(\"personal_sign\",[(0,h.hexlify)(c),d.toLowerCase()])];case 3:return[2,g.sent()];case 4:throw f=g.sent(),\"string\"===typeof f.message&&f.message.match(/user denied/i)&&C.throwError(\"user rejected signing\",D.Logger.errors.ACTION_REJECTED,{action:\"signMessage\",from:d,messageData:b}),f;case 5:return[2]}})})};a.prototype._legacySignMessage=function(b){return p(this,void 0,void 0,function(){var c,\nd,f;return n(this,function(g){switch(g.label){case 0:return c=\"string\"===typeof b?(0,B.toUtf8Bytes)(b):b,[4,this.getAddress()];case 1:d=g.sent(),g.label=2;case 2:return g.trys.push([2,4,,5]),[4,this.provider.send(\"eth_sign\",[d.toLowerCase(),(0,h.hexlify)(c)])];case 3:return[2,g.sent()];case 4:throw f=g.sent(),\"string\"===typeof f.message&&f.message.match(/user denied/i)&&C.throwError(\"user rejected signing\",D.Logger.errors.ACTION_REJECTED,{action:\"_legacySignMessage\",from:d,messageData:b}),f;case 5:return[2]}})})};\na.prototype._signTypedData=function(b,c,d){return p(this,void 0,void 0,function(){var f,g,m,w=this;return n(this,function(x){switch(x.label){case 0:return[4,k._TypedDataEncoder.resolveNames(b,c,d,function(z){return w.provider.resolveName(z)})];case 1:return f=x.sent(),[4,this.getAddress()];case 2:g=x.sent(),x.label=3;case 3:return x.trys.push([3,5,,6]),[4,this.provider.send(\"eth_signTypedData_v4\",[g.toLowerCase(),JSON.stringify(k._TypedDataEncoder.getPayload(f.domain,c,f.value))])];case 4:return[2,\nx.sent()];case 5:throw m=x.sent(),\"string\"===typeof m.message&&m.message.match(/user denied/i)&&C.throwError(\"user rejected signing\",D.Logger.errors.ACTION_REJECTED,{action:\"_signTypedData\",from:g,messageData:{domain:f.domain,types:c,value:f.value}}),m;case 6:return[2]}})})};a.prototype.unlock=function(b){return p(this,void 0,void 0,function(){var c,d;return n(this,function(f){switch(f.label){case 0:return c=this.provider,[4,this.getAddress()];case 1:return d=f.sent(),[2,c.send(\"personal_unlockAccount\",\n[d.toLowerCase(),b,null])]}})})};return a}(S.Signer);q.JsonRpcSigner=P;var J=function(N){function a(){return null!==N&&N.apply(this,arguments)||this}u(a,N);a.prototype.sendTransaction=function(b){var c=this;return this.sendUncheckedTransaction(b).then(function(d){return{hash:d,nonce:null,gasLimit:null,gasPrice:null,data:null,value:null,chainId:null,confirmations:0,from:null,wait:function(f){return c.provider.waitForTransaction(d,f)}}})};return a}(P),T={chainId:!0,data:!0,gasLimit:!0,gasPrice:!0,nonce:!0,\nto:!0,value:!0,type:!0,accessList:!0,maxFeePerGas:!0,maxPriorityFeePerGas:!0};A=function(N){function a(b,c){var d=this;null==c&&(c=new Promise(function(f,g){setTimeout(function(){d.detectNetwork().then(function(m){f(m)},function(m){g(m)})},0)}));d=N.call(this,c)||this;b||(b=(0,t.getStatic)(d.constructor,\"defaultUrl\")());\"string\"===typeof b?(0,t.defineReadOnly)(d,\"connection\",Object.freeze({url:b})):(0,t.defineReadOnly)(d,\"connection\",Object.freeze((0,t.shallowCopy)(b)));d._nextId=42;return d}u(a,\nN);Object.defineProperty(a.prototype,\"_cache\",{get:function(){null==this._eventLoopCache&&(this._eventLoopCache={});return this._eventLoopCache},enumerable:!1,configurable:!0});a.defaultUrl=function(){return\"http://localhost:8545\"};a.prototype.detectNetwork=function(){var b=this;this._cache.detectNetwork||(this._cache.detectNetwork=this._uncachedDetectNetwork(),setTimeout(function(){b._cache.detectNetwork=null},0));return this._cache.detectNetwork};a.prototype._uncachedDetectNetwork=function(){return p(this,\nvoid 0,void 0,function(){var b,c;return n(this,function(d){switch(d.label){case 0:return[4,r(0)];case 1:d.sent(),b=null,d.label=2;case 2:return d.trys.push([2,4,,9]),[4,this.send(\"eth_chainId\",[])];case 3:return b=d.sent(),[3,9];case 4:d.sent(),d.label=5;case 5:return d.trys.push([5,7,,8]),[4,this.send(\"net_version\",[])];case 6:return b=d.sent(),[3,8];case 7:return d.sent(),[3,8];case 8:return[3,9];case 9:if(null!=b){c=(0,t.getStatic)(this.constructor,\"getNetwork\");try{return[2,c(l.BigNumber.from(b).toNumber())]}catch(f){return[2,\nC.throwError(\"could not detect network\",D.Logger.errors.NETWORK_ERROR,{chainId:b,event:\"invalidNetwork\",serverError:f})]}}return[2,C.throwError(\"could not detect network\",D.Logger.errors.NETWORK_ERROR,{event:\"noNetwork\"})]}})})};a.prototype.getSigner=function(b){return new P(M,this,b)};a.prototype.getUncheckedSigner=function(b){return this.getSigner(b).connectUnchecked()};a.prototype.listAccounts=function(){var b=this;return this.send(\"eth_accounts\",[]).then(function(c){return c.map(function(d){return b.formatter.address(d)})})};\na.prototype.send=function(b,c){var d=this,f={method:b,params:c,id:this._nextId++,jsonrpc:\"2.0\"};this.emit(\"debug\",{action:\"request\",request:(0,t.deepCopy)(f),provider:this});if((c=0<=[\"eth_chainId\",\"eth_blockNumber\"].indexOf(b))&&this._cache[b])return this._cache[b];var g=(0,H.fetchJson)(this.connection,JSON.stringify(f),y).then(function(m){d.emit(\"debug\",{action:\"response\",request:f,response:m,provider:d});return m},function(m){d.emit(\"debug\",{action:\"response\",error:m,request:f,provider:d});throw m;\n});c&&(this._cache[b]=g,setTimeout(function(){d._cache[b]=null},0));return g};a.prototype.prepareRequest=function(b,c){switch(b){case \"getBlockNumber\":return[\"eth_blockNumber\",[]];case \"getGasPrice\":return[\"eth_gasPrice\",[]];case \"getBalance\":return[\"eth_getBalance\",[e(c.address),c.blockTag]];case \"getTransactionCount\":return[\"eth_getTransactionCount\",[e(c.address),c.blockTag]];case \"getCode\":return[\"eth_getCode\",[e(c.address),c.blockTag]];case \"getStorageAt\":return[\"eth_getStorageAt\",[e(c.address),\n(0,h.hexZeroPad)(c.position,32),c.blockTag]];case \"sendTransaction\":return[\"eth_sendRawTransaction\",[c.signedTransaction]];case \"getBlock\":if(c.blockTag)return[\"eth_getBlockByNumber\",[c.blockTag,!!c.includeTransactions]];if(c.blockHash)return[\"eth_getBlockByHash\",[c.blockHash,!!c.includeTransactions]];break;case \"getTransaction\":return[\"eth_getTransactionByHash\",[c.transactionHash]];case \"getTransactionReceipt\":return[\"eth_getTransactionReceipt\",[c.transactionHash]];case \"call\":return b=(0,t.getStatic)(this.constructor,\n\"hexlifyTransaction\"),[\"eth_call\",[b(c.transaction,{from:!0}),c.blockTag]];case \"estimateGas\":return b=(0,t.getStatic)(this.constructor,\"hexlifyTransaction\"),[\"eth_estimateGas\",[b(c.transaction,{from:!0})]];case \"getLogs\":return c.filter&&null!=c.filter.address&&(c.filter.address=e(c.filter.address)),[\"eth_getLogs\",[c.filter]]}return null};a.prototype.perform=function(b,c){return p(this,void 0,void 0,function(){var d,f,g,m;return n(this,function(w){switch(w.label){case 0:return\"call\"!==b&&\"estimateGas\"!==\nb?[3,2]:(d=c.transaction)&&null!=d.type&&l.BigNumber.from(d.type).isZero()&&null==d.maxFeePerGas&&null==d.maxPriorityFeePerGas?[4,this.getFeeData()]:[3,2];case 1:f=w.sent(),null==f.maxFeePerGas&&null==f.maxPriorityFeePerGas&&(c=(0,t.shallowCopy)(c),c.transaction=(0,t.shallowCopy)(d),delete c.transaction.type),w.label=2;case 2:g=this.prepareRequest(b,c),null==g&&C.throwError(b+\" not implemented\",D.Logger.errors.NOT_IMPLEMENTED,{operation:b}),w.label=3;case 3:return w.trys.push([3,5,,6]),[4,this.send(g[0],\ng[1])];case 4:return[2,w.sent()];case 5:return m=w.sent(),[2,G(b,m,c)];case 6:return[2]}})})};a.prototype._startEvent=function(b){\"pending\"===b.tag&&this._startPending();N.prototype._startEvent.call(this,b)};a.prototype._startPending=function(){if(null==this._pendingFilter){var b=this,c=this.send(\"eth_newPendingTransactionFilter\",[]);this._pendingFilter=c;c.then(function(d){function f(){b.send(\"eth_getFilterChanges\",[d]).then(function(g){if(b._pendingFilter!=c)return null;var m=Promise.resolve();\ng.forEach(function(w){b._emitted[\"t:\"+w.toLowerCase()]=\"pending\";m=m.then(function(){return b.getTransaction(w).then(function(x){b.emit(\"pending\",x);return null})})});return m.then(function(){return r(1E3)})}).then(function(){if(b._pendingFilter!=c)b.send(\"eth_uninstallFilter\",[d]);else return setTimeout(function(){f()},0),null}).catch(function(g){})}f();return d}).catch(function(d){})}};a.prototype._stopEvent=function(b){\"pending\"===b.tag&&0===this.listenerCount(\"pending\")&&(this._pendingFilter=\nnull);N.prototype._stopEvent.call(this,b)};a.hexlifyTransaction=function(b,c){var d=(0,t.shallowCopy)(T);if(c)for(var f in c)c[f]&&(d[f]=!0);(0,t.checkProperties)(b,d);var g={};\"chainId gasLimit gasPrice type maxFeePerGas maxPriorityFeePerGas nonce value\".split(\" \").forEach(function(m){if(null!=b[m]){var w=(0,h.hexValue)(l.BigNumber.from(b[m]));\"gasLimit\"===m&&(m=\"gas\");g[m]=w}});[\"from\",\"to\",\"data\"].forEach(function(m){null!=b[m]&&(g[m]=(0,h.hexlify)(b[m]))});b.accessList&&(g.accessList=(0,E.accessListify)(b.accessList));\nreturn g};return a}(A.BaseProvider);q.JsonRpcProvider=A}","~:source","shadow$provide[336] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\n    return new (P || (P = Promise))(function (resolve, reject) {\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\n        function rejected(value) { try { step(generator[\"throw\"](value)); } catch (e) { reject(e); } }\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\n    });\n};\nvar __generator = (this && this.__generator) || function (thisArg, body) {\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\n    return g = { next: verb(0), \"throw\": verb(1), \"return\": verb(2) }, typeof Symbol === \"function\" && (g[Symbol.iterator] = function() { return this; }), g;\n    function verb(n) { return function (v) { return step([n, v]); }; }\n    function step(op) {\n        if (f) throw new TypeError(\"Generator is already executing.\");\n        while (_) try {\n            if (f = 1, y && (t = op[0] & 2 ? y[\"return\"] : op[0] ? y[\"throw\"] || ((t = y[\"return\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\n            if (y = 0, t) op = [op[0] & 2, t.value];\n            switch (op[0]) {\n                case 0: case 1: t = op; break;\n                case 4: _.label++; return { value: op[1], done: false };\n                case 5: _.label++; y = op[1]; op = [0]; continue;\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\n                default:\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\n                    if (t[2]) _.ops.pop();\n                    _.trys.pop(); continue;\n            }\n            op = body.call(thisArg, _);\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\n    }\n};\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcProvider = exports.JsonRpcSigner = void 0;\nvar abstract_signer_1 = require(\"@ethersproject/abstract-signer\");\nvar bignumber_1 = require(\"@ethersproject/bignumber\");\nvar bytes_1 = require(\"@ethersproject/bytes\");\nvar hash_1 = require(\"@ethersproject/hash\");\nvar properties_1 = require(\"@ethersproject/properties\");\nvar strings_1 = require(\"@ethersproject/strings\");\nvar transactions_1 = require(\"@ethersproject/transactions\");\nvar web_1 = require(\"@ethersproject/web\");\nvar logger_1 = require(\"@ethersproject/logger\");\nvar _version_1 = require(\"./_version\");\nvar logger = new logger_1.Logger(_version_1.version);\nvar base_provider_1 = require(\"./base-provider\");\nvar errorGas = [\"call\", \"estimateGas\"];\nfunction spelunk(value, requireData) {\n    if (value == null) {\n        return null;\n    }\n    // These *are* the droids we're looking for.\n    if (typeof (value.message) === \"string\" && value.message.match(\"reverted\")) {\n        var data = (0, bytes_1.isHexString)(value.data) ? value.data : null;\n        if (!requireData || data) {\n            return { message: value.message, data: data };\n        }\n    }\n    // Spelunk further...\n    if (typeof (value) === \"object\") {\n        for (var key in value) {\n            var result = spelunk(value[key], requireData);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n    // Might be a JSON string we can further descend...\n    if (typeof (value) === \"string\") {\n        try {\n            return spelunk(JSON.parse(value), requireData);\n        }\n        catch (error) { }\n    }\n    return null;\n}\nfunction checkError(method, error, params) {\n    var transaction = params.transaction || params.signedTransaction;\n    // Undo the \"convenience\" some nodes are attempting to prevent backwards\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\n    if (method === \"call\") {\n        var result = spelunk(error, true);\n        if (result) {\n            return result.data;\n        }\n        // Nothing descriptive..\n        logger.throwError(\"missing revert data in call exception; Transaction reverted without a reason string\", logger_1.Logger.errors.CALL_EXCEPTION, {\n            data: \"0x\",\n            transaction: transaction,\n            error: error\n        });\n    }\n    if (method === \"estimateGas\") {\n        // Try to find something, with a preference on SERVER_ERROR body\n        var result = spelunk(error.body, false);\n        if (result == null) {\n            result = spelunk(error, false);\n        }\n        // Found \"reverted\", this is a CALL_EXCEPTION\n        if (result) {\n            logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n                reason: result.message,\n                method: method,\n                transaction: transaction,\n                error: error\n            });\n        }\n    }\n    // @TODO: Should we spelunk for message too?\n    var message = error.message;\n    if (error.code === logger_1.Logger.errors.SERVER_ERROR && error.error && typeof (error.error.message) === \"string\") {\n        message = error.error.message;\n    }\n    else if (typeof (error.body) === \"string\") {\n        message = error.body;\n    }\n    else if (typeof (error.responseText) === \"string\") {\n        message = error.responseText;\n    }\n    message = (message || \"\").toLowerCase();\n    // \"insufficient funds for gas * price + value + cost(data)\"\n    if (message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)) {\n        logger.throwError(\"insufficient funds for intrinsic transaction cost\", logger_1.Logger.errors.INSUFFICIENT_FUNDS, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"nonce too low\"\n    if (message.match(/nonce (is )?too low/i)) {\n        logger.throwError(\"nonce has already been used\", logger_1.Logger.errors.NONCE_EXPIRED, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\n        logger.throwError(\"replacement fee too low\", logger_1.Logger.errors.REPLACEMENT_UNDERPRICED, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    // \"replacement transaction underpriced\"\n    if (message.match(/only replay-protected/i)) {\n        logger.throwError(\"legacy pre-eip-155 transactions not supported\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)) {\n        logger.throwError(\"cannot estimate gas; transaction may fail or may require manual gas limit\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\n            error: error,\n            method: method,\n            transaction: transaction\n        });\n    }\n    throw error;\n}\nfunction timer(timeout) {\n    return new Promise(function (resolve) {\n        setTimeout(resolve, timeout);\n    });\n}\nfunction getResult(payload) {\n    if (payload.error) {\n        // @TODO: not any\n        var error = new Error(payload.error.message);\n        error.code = payload.error.code;\n        error.data = payload.error.data;\n        throw error;\n    }\n    return payload.result;\n}\nfunction getLowerCase(value) {\n    if (value) {\n        return value.toLowerCase();\n    }\n    return value;\n}\nvar _constructorGuard = {};\nvar JsonRpcSigner = /** @class */ (function (_super) {\n    __extends(JsonRpcSigner, _super);\n    function JsonRpcSigner(constructorGuard, provider, addressOrIndex) {\n        var _this = _super.call(this) || this;\n        if (constructorGuard !== _constructorGuard) {\n            throw new Error(\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\");\n        }\n        (0, properties_1.defineReadOnly)(_this, \"provider\", provider);\n        if (addressOrIndex == null) {\n            addressOrIndex = 0;\n        }\n        if (typeof (addressOrIndex) === \"string\") {\n            (0, properties_1.defineReadOnly)(_this, \"_address\", _this.provider.formatter.address(addressOrIndex));\n            (0, properties_1.defineReadOnly)(_this, \"_index\", null);\n        }\n        else if (typeof (addressOrIndex) === \"number\") {\n            (0, properties_1.defineReadOnly)(_this, \"_index\", addressOrIndex);\n            (0, properties_1.defineReadOnly)(_this, \"_address\", null);\n        }\n        else {\n            logger.throwArgumentError(\"invalid address or index\", \"addressOrIndex\", addressOrIndex);\n        }\n        return _this;\n    }\n    JsonRpcSigner.prototype.connect = function (provider) {\n        return logger.throwError(\"cannot alter JSON-RPC Signer connection\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"connect\"\n        });\n    };\n    JsonRpcSigner.prototype.connectUnchecked = function () {\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\n    };\n    JsonRpcSigner.prototype.getAddress = function () {\n        var _this = this;\n        if (this._address) {\n            return Promise.resolve(this._address);\n        }\n        return this.provider.send(\"eth_accounts\", []).then(function (accounts) {\n            if (accounts.length <= _this._index) {\n                logger.throwError(\"unknown account #\" + _this._index, logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n                    operation: \"getAddress\"\n                });\n            }\n            return _this.provider.formatter.address(accounts[_this._index]);\n        });\n    };\n    JsonRpcSigner.prototype.sendUncheckedTransaction = function (transaction) {\n        var _this = this;\n        transaction = (0, properties_1.shallowCopy)(transaction);\n        var fromAddress = this.getAddress().then(function (address) {\n            if (address) {\n                address = address.toLowerCase();\n            }\n            return address;\n        });\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\n        // wishes to use this, it is easy to specify explicitly, otherwise\n        // we look it up for them.\n        if (transaction.gasLimit == null) {\n            var estimate = (0, properties_1.shallowCopy)(transaction);\n            estimate.from = fromAddress;\n            transaction.gasLimit = this.provider.estimateGas(estimate);\n        }\n        if (transaction.to != null) {\n            transaction.to = Promise.resolve(transaction.to).then(function (to) { return __awaiter(_this, void 0, void 0, function () {\n                var address;\n                return __generator(this, function (_a) {\n                    switch (_a.label) {\n                        case 0:\n                            if (to == null) {\n                                return [2 /*return*/, null];\n                            }\n                            return [4 /*yield*/, this.provider.resolveName(to)];\n                        case 1:\n                            address = _a.sent();\n                            if (address == null) {\n                                logger.throwArgumentError(\"provided ENS name resolves to null\", \"tx.to\", to);\n                            }\n                            return [2 /*return*/, address];\n                    }\n                });\n            }); });\n        }\n        return (0, properties_1.resolveProperties)({\n            tx: (0, properties_1.resolveProperties)(transaction),\n            sender: fromAddress\n        }).then(function (_a) {\n            var tx = _a.tx, sender = _a.sender;\n            if (tx.from != null) {\n                if (tx.from.toLowerCase() !== sender) {\n                    logger.throwArgumentError(\"from address mismatch\", \"transaction\", transaction);\n                }\n            }\n            else {\n                tx.from = sender;\n            }\n            var hexTx = _this.provider.constructor.hexlifyTransaction(tx, { from: true });\n            return _this.provider.send(\"eth_sendTransaction\", [hexTx]).then(function (hash) {\n                return hash;\n            }, function (error) {\n                if (typeof (error.message) === \"string\" && error.message.match(/user denied/i)) {\n                    logger.throwError(\"user rejected transaction\", logger_1.Logger.errors.ACTION_REJECTED, {\n                        action: \"sendTransaction\",\n                        transaction: tx\n                    });\n                }\n                return checkError(\"sendTransaction\", error, hexTx);\n            });\n        });\n    };\n    JsonRpcSigner.prototype.signTransaction = function (transaction) {\n        return logger.throwError(\"signing transactions is unsupported\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\n            operation: \"signTransaction\"\n        });\n    };\n    JsonRpcSigner.prototype.sendTransaction = function (transaction) {\n        return __awaiter(this, void 0, void 0, function () {\n            var blockNumber, hash, error_1;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval)];\n                    case 1:\n                        blockNumber = _a.sent();\n                        return [4 /*yield*/, this.sendUncheckedTransaction(transaction)];\n                    case 2:\n                        hash = _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, (0, web_1.poll)(function () { return __awaiter(_this, void 0, void 0, function () {\n                                var tx;\n                                return __generator(this, function (_a) {\n                                    switch (_a.label) {\n                                        case 0: return [4 /*yield*/, this.provider.getTransaction(hash)];\n                                        case 1:\n                                            tx = _a.sent();\n                                            if (tx === null) {\n                                                return [2 /*return*/, undefined];\n                                            }\n                                            return [2 /*return*/, this.provider._wrapTransaction(tx, hash, blockNumber)];\n                                    }\n                                });\n                            }); }, { oncePoll: this.provider })];\n                    case 4: \n                    // Unfortunately, JSON-RPC only provides and opaque transaction hash\n                    // for a response, and we need the actual transaction, so we poll\n                    // for it; it should show up very quickly\n                    return [2 /*return*/, _a.sent()];\n                    case 5:\n                        error_1 = _a.sent();\n                        error_1.transactionHash = hash;\n                        throw error_1;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype.signMessage = function (message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, address, error_2;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        data = ((typeof (message) === \"string\") ? (0, strings_1.toUtf8Bytes)(message) : message);\n                        return [4 /*yield*/, this.getAddress()];\n                    case 1:\n                        address = _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.provider.send(\"personal_sign\", [(0, bytes_1.hexlify)(data), address.toLowerCase()])];\n                    case 3: return [2 /*return*/, _a.sent()];\n                    case 4:\n                        error_2 = _a.sent();\n                        if (typeof (error_2.message) === \"string\" && error_2.message.match(/user denied/i)) {\n                            logger.throwError(\"user rejected signing\", logger_1.Logger.errors.ACTION_REJECTED, {\n                                action: \"signMessage\",\n                                from: address,\n                                messageData: message\n                            });\n                        }\n                        throw error_2;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype._legacySignMessage = function (message) {\n        return __awaiter(this, void 0, void 0, function () {\n            var data, address, error_3;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        data = ((typeof (message) === \"string\") ? (0, strings_1.toUtf8Bytes)(message) : message);\n                        return [4 /*yield*/, this.getAddress()];\n                    case 1:\n                        address = _a.sent();\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 5]);\n                        return [4 /*yield*/, this.provider.send(\"eth_sign\", [address.toLowerCase(), (0, bytes_1.hexlify)(data)])];\n                    case 3: \n                    // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\n                    return [2 /*return*/, _a.sent()];\n                    case 4:\n                        error_3 = _a.sent();\n                        if (typeof (error_3.message) === \"string\" && error_3.message.match(/user denied/i)) {\n                            logger.throwError(\"user rejected signing\", logger_1.Logger.errors.ACTION_REJECTED, {\n                                action: \"_legacySignMessage\",\n                                from: address,\n                                messageData: message\n                            });\n                        }\n                        throw error_3;\n                    case 5: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype._signTypedData = function (domain, types, value) {\n        return __awaiter(this, void 0, void 0, function () {\n            var populated, address, error_4;\n            var _this = this;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, hash_1._TypedDataEncoder.resolveNames(domain, types, value, function (name) {\n                            return _this.provider.resolveName(name);\n                        })];\n                    case 1:\n                        populated = _a.sent();\n                        return [4 /*yield*/, this.getAddress()];\n                    case 2:\n                        address = _a.sent();\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, this.provider.send(\"eth_signTypedData_v4\", [\n                                address.toLowerCase(),\n                                JSON.stringify(hash_1._TypedDataEncoder.getPayload(populated.domain, types, populated.value))\n                            ])];\n                    case 4: return [2 /*return*/, _a.sent()];\n                    case 5:\n                        error_4 = _a.sent();\n                        if (typeof (error_4.message) === \"string\" && error_4.message.match(/user denied/i)) {\n                            logger.throwError(\"user rejected signing\", logger_1.Logger.errors.ACTION_REJECTED, {\n                                action: \"_signTypedData\",\n                                from: address,\n                                messageData: { domain: populated.domain, types: types, value: populated.value }\n                            });\n                        }\n                        throw error_4;\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcSigner.prototype.unlock = function (password) {\n        return __awaiter(this, void 0, void 0, function () {\n            var provider, address;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        provider = this.provider;\n                        return [4 /*yield*/, this.getAddress()];\n                    case 1:\n                        address = _a.sent();\n                        return [2 /*return*/, provider.send(\"personal_unlockAccount\", [address.toLowerCase(), password, null])];\n                }\n            });\n        });\n    };\n    return JsonRpcSigner;\n}(abstract_signer_1.Signer));\nexports.JsonRpcSigner = JsonRpcSigner;\nvar UncheckedJsonRpcSigner = /** @class */ (function (_super) {\n    __extends(UncheckedJsonRpcSigner, _super);\n    function UncheckedJsonRpcSigner() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    UncheckedJsonRpcSigner.prototype.sendTransaction = function (transaction) {\n        var _this = this;\n        return this.sendUncheckedTransaction(transaction).then(function (hash) {\n            return {\n                hash: hash,\n                nonce: null,\n                gasLimit: null,\n                gasPrice: null,\n                data: null,\n                value: null,\n                chainId: null,\n                confirmations: 0,\n                from: null,\n                wait: function (confirmations) { return _this.provider.waitForTransaction(hash, confirmations); }\n            };\n        });\n    };\n    return UncheckedJsonRpcSigner;\n}(JsonRpcSigner));\nvar allowedTransactionKeys = {\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true,\n    type: true, accessList: true,\n    maxFeePerGas: true, maxPriorityFeePerGas: true\n};\nvar JsonRpcProvider = /** @class */ (function (_super) {\n    __extends(JsonRpcProvider, _super);\n    function JsonRpcProvider(url, network) {\n        var _this = this;\n        var networkOrReady = network;\n        // The network is unknown, query the JSON-RPC for it\n        if (networkOrReady == null) {\n            networkOrReady = new Promise(function (resolve, reject) {\n                setTimeout(function () {\n                    _this.detectNetwork().then(function (network) {\n                        resolve(network);\n                    }, function (error) {\n                        reject(error);\n                    });\n                }, 0);\n            });\n        }\n        _this = _super.call(this, networkOrReady) || this;\n        // Default URL\n        if (!url) {\n            url = (0, properties_1.getStatic)(_this.constructor, \"defaultUrl\")();\n        }\n        if (typeof (url) === \"string\") {\n            (0, properties_1.defineReadOnly)(_this, \"connection\", Object.freeze({\n                url: url\n            }));\n        }\n        else {\n            (0, properties_1.defineReadOnly)(_this, \"connection\", Object.freeze((0, properties_1.shallowCopy)(url)));\n        }\n        _this._nextId = 42;\n        return _this;\n    }\n    Object.defineProperty(JsonRpcProvider.prototype, \"_cache\", {\n        get: function () {\n            if (this._eventLoopCache == null) {\n                this._eventLoopCache = {};\n            }\n            return this._eventLoopCache;\n        },\n        enumerable: false,\n        configurable: true\n    });\n    JsonRpcProvider.defaultUrl = function () {\n        return \"http:/\\/localhost:8545\";\n    };\n    JsonRpcProvider.prototype.detectNetwork = function () {\n        var _this = this;\n        if (!this._cache[\"detectNetwork\"]) {\n            this._cache[\"detectNetwork\"] = this._uncachedDetectNetwork();\n            // Clear this cache at the beginning of the next event loop\n            setTimeout(function () {\n                _this._cache[\"detectNetwork\"] = null;\n            }, 0);\n        }\n        return this._cache[\"detectNetwork\"];\n    };\n    JsonRpcProvider.prototype._uncachedDetectNetwork = function () {\n        return __awaiter(this, void 0, void 0, function () {\n            var chainId, error_5, error_6, getNetwork;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0: return [4 /*yield*/, timer(0)];\n                    case 1:\n                        _a.sent();\n                        chainId = null;\n                        _a.label = 2;\n                    case 2:\n                        _a.trys.push([2, 4, , 9]);\n                        return [4 /*yield*/, this.send(\"eth_chainId\", [])];\n                    case 3:\n                        chainId = _a.sent();\n                        return [3 /*break*/, 9];\n                    case 4:\n                        error_5 = _a.sent();\n                        _a.label = 5;\n                    case 5:\n                        _a.trys.push([5, 7, , 8]);\n                        return [4 /*yield*/, this.send(\"net_version\", [])];\n                    case 6:\n                        chainId = _a.sent();\n                        return [3 /*break*/, 8];\n                    case 7:\n                        error_6 = _a.sent();\n                        return [3 /*break*/, 8];\n                    case 8: return [3 /*break*/, 9];\n                    case 9:\n                        if (chainId != null) {\n                            getNetwork = (0, properties_1.getStatic)(this.constructor, \"getNetwork\");\n                            try {\n                                return [2 /*return*/, getNetwork(bignumber_1.BigNumber.from(chainId).toNumber())];\n                            }\n                            catch (error) {\n                                return [2 /*return*/, logger.throwError(\"could not detect network\", logger_1.Logger.errors.NETWORK_ERROR, {\n                                        chainId: chainId,\n                                        event: \"invalidNetwork\",\n                                        serverError: error\n                                    })];\n                            }\n                        }\n                        return [2 /*return*/, logger.throwError(\"could not detect network\", logger_1.Logger.errors.NETWORK_ERROR, {\n                                event: \"noNetwork\"\n                            })];\n                }\n            });\n        });\n    };\n    JsonRpcProvider.prototype.getSigner = function (addressOrIndex) {\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\n    };\n    JsonRpcProvider.prototype.getUncheckedSigner = function (addressOrIndex) {\n        return this.getSigner(addressOrIndex).connectUnchecked();\n    };\n    JsonRpcProvider.prototype.listAccounts = function () {\n        var _this = this;\n        return this.send(\"eth_accounts\", []).then(function (accounts) {\n            return accounts.map(function (a) { return _this.formatter.address(a); });\n        });\n    };\n    JsonRpcProvider.prototype.send = function (method, params) {\n        var _this = this;\n        var request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        this.emit(\"debug\", {\n            action: \"request\",\n            request: (0, properties_1.deepCopy)(request),\n            provider: this\n        });\n        // We can expand this in the future to any call, but for now these\n        // are the biggest wins and do not require any serializing parameters.\n        var cache = ([\"eth_chainId\", \"eth_blockNumber\"].indexOf(method) >= 0);\n        if (cache && this._cache[method]) {\n            return this._cache[method];\n        }\n        var result = (0, web_1.fetchJson)(this.connection, JSON.stringify(request), getResult).then(function (result) {\n            _this.emit(\"debug\", {\n                action: \"response\",\n                request: request,\n                response: result,\n                provider: _this\n            });\n            return result;\n        }, function (error) {\n            _this.emit(\"debug\", {\n                action: \"response\",\n                error: error,\n                request: request,\n                provider: _this\n            });\n            throw error;\n        });\n        // Cache the fetch, but clear it on the next event loop\n        if (cache) {\n            this._cache[method] = result;\n            setTimeout(function () {\n                _this._cache[method] = null;\n            }, 0);\n        }\n        return result;\n    };\n    JsonRpcProvider.prototype.prepareRequest = function (method, params) {\n        switch (method) {\n            case \"getBlockNumber\":\n                return [\"eth_blockNumber\", []];\n            case \"getGasPrice\":\n                return [\"eth_gasPrice\", []];\n            case \"getBalance\":\n                return [\"eth_getBalance\", [getLowerCase(params.address), params.blockTag]];\n            case \"getTransactionCount\":\n                return [\"eth_getTransactionCount\", [getLowerCase(params.address), params.blockTag]];\n            case \"getCode\":\n                return [\"eth_getCode\", [getLowerCase(params.address), params.blockTag]];\n            case \"getStorageAt\":\n                return [\"eth_getStorageAt\", [getLowerCase(params.address), (0, bytes_1.hexZeroPad)(params.position, 32), params.blockTag]];\n            case \"sendTransaction\":\n                return [\"eth_sendRawTransaction\", [params.signedTransaction]];\n            case \"getBlock\":\n                if (params.blockTag) {\n                    return [\"eth_getBlockByNumber\", [params.blockTag, !!params.includeTransactions]];\n                }\n                else if (params.blockHash) {\n                    return [\"eth_getBlockByHash\", [params.blockHash, !!params.includeTransactions]];\n                }\n                return null;\n            case \"getTransaction\":\n                return [\"eth_getTransactionByHash\", [params.transactionHash]];\n            case \"getTransactionReceipt\":\n                return [\"eth_getTransactionReceipt\", [params.transactionHash]];\n            case \"call\": {\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_call\", [hexlifyTransaction(params.transaction, { from: true }), params.blockTag]];\n            }\n            case \"estimateGas\": {\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \"hexlifyTransaction\");\n                return [\"eth_estimateGas\", [hexlifyTransaction(params.transaction, { from: true })]];\n            }\n            case \"getLogs\":\n                if (params.filter && params.filter.address != null) {\n                    params.filter.address = getLowerCase(params.filter.address);\n                }\n                return [\"eth_getLogs\", [params.filter]];\n            default:\n                break;\n        }\n        return null;\n    };\n    JsonRpcProvider.prototype.perform = function (method, params) {\n        return __awaiter(this, void 0, void 0, function () {\n            var tx, feeData, args, error_7;\n            return __generator(this, function (_a) {\n                switch (_a.label) {\n                    case 0:\n                        if (!(method === \"call\" || method === \"estimateGas\")) return [3 /*break*/, 2];\n                        tx = params.transaction;\n                        if (!(tx && tx.type != null && bignumber_1.BigNumber.from(tx.type).isZero())) return [3 /*break*/, 2];\n                        if (!(tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null)) return [3 /*break*/, 2];\n                        return [4 /*yield*/, this.getFeeData()];\n                    case 1:\n                        feeData = _a.sent();\n                        if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\n                            // Network doesn't know about EIP-1559 (and hence type)\n                            params = (0, properties_1.shallowCopy)(params);\n                            params.transaction = (0, properties_1.shallowCopy)(tx);\n                            delete params.transaction.type;\n                        }\n                        _a.label = 2;\n                    case 2:\n                        args = this.prepareRequest(method, params);\n                        if (args == null) {\n                            logger.throwError(method + \" not implemented\", logger_1.Logger.errors.NOT_IMPLEMENTED, { operation: method });\n                        }\n                        _a.label = 3;\n                    case 3:\n                        _a.trys.push([3, 5, , 6]);\n                        return [4 /*yield*/, this.send(args[0], args[1])];\n                    case 4: return [2 /*return*/, _a.sent()];\n                    case 5:\n                        error_7 = _a.sent();\n                        return [2 /*return*/, checkError(method, error_7, params)];\n                    case 6: return [2 /*return*/];\n                }\n            });\n        });\n    };\n    JsonRpcProvider.prototype._startEvent = function (event) {\n        if (event.tag === \"pending\") {\n            this._startPending();\n        }\n        _super.prototype._startEvent.call(this, event);\n    };\n    JsonRpcProvider.prototype._startPending = function () {\n        if (this._pendingFilter != null) {\n            return;\n        }\n        var self = this;\n        var pendingFilter = this.send(\"eth_newPendingTransactionFilter\", []);\n        this._pendingFilter = pendingFilter;\n        pendingFilter.then(function (filterId) {\n            function poll() {\n                self.send(\"eth_getFilterChanges\", [filterId]).then(function (hashes) {\n                    if (self._pendingFilter != pendingFilter) {\n                        return null;\n                    }\n                    var seq = Promise.resolve();\n                    hashes.forEach(function (hash) {\n                        // @TODO: This should be garbage collected at some point... How? When?\n                        self._emitted[\"t:\" + hash.toLowerCase()] = \"pending\";\n                        seq = seq.then(function () {\n                            return self.getTransaction(hash).then(function (tx) {\n                                self.emit(\"pending\", tx);\n                                return null;\n                            });\n                        });\n                    });\n                    return seq.then(function () {\n                        return timer(1000);\n                    });\n                }).then(function () {\n                    if (self._pendingFilter != pendingFilter) {\n                        self.send(\"eth_uninstallFilter\", [filterId]);\n                        return;\n                    }\n                    setTimeout(function () { poll(); }, 0);\n                    return null;\n                }).catch(function (error) { });\n            }\n            poll();\n            return filterId;\n        }).catch(function (error) { });\n    };\n    JsonRpcProvider.prototype._stopEvent = function (event) {\n        if (event.tag === \"pending\" && this.listenerCount(\"pending\") === 0) {\n            this._pendingFilter = null;\n        }\n        _super.prototype._stopEvent.call(this, event);\n    };\n    // Convert an ethers.js transaction into a JSON-RPC transaction\n    //  - gasLimit => gas\n    //  - All values hexlified\n    //  - All numeric values zero-striped\n    //  - All addresses are lowercased\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\n    //       before this is called\n    // @TODO: This will likely be removed in future versions and prepareRequest\n    //        will be the preferred method for this.\n    JsonRpcProvider.hexlifyTransaction = function (transaction, allowExtra) {\n        // Check only allowed properties are given\n        var allowed = (0, properties_1.shallowCopy)(allowedTransactionKeys);\n        if (allowExtra) {\n            for (var key in allowExtra) {\n                if (allowExtra[key]) {\n                    allowed[key] = true;\n                }\n            }\n        }\n        (0, properties_1.checkProperties)(transaction, allowed);\n        var result = {};\n        // JSON-RPC now requires numeric values to be \"quantity\" values\n        [\"chainId\", \"gasLimit\", \"gasPrice\", \"type\", \"maxFeePerGas\", \"maxPriorityFeePerGas\", \"nonce\", \"value\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            var value = (0, bytes_1.hexValue)(bignumber_1.BigNumber.from(transaction[key]));\n            if (key === \"gasLimit\") {\n                key = \"gas\";\n            }\n            result[key] = value;\n        });\n        [\"from\", \"to\", \"data\"].forEach(function (key) {\n            if (transaction[key] == null) {\n                return;\n            }\n            result[key] = (0, bytes_1.hexlify)(transaction[key]);\n        });\n        if (transaction.accessList) {\n            result[\"accessList\"] = (0, transactions_1.accessListify)(transaction.accessList);\n        }\n        return result;\n    };\n    return JsonRpcProvider;\n}(base_provider_1.BaseProvider));\nexports.JsonRpcProvider = JsonRpcProvider;\n//# sourceMappingURL=json-rpc-provider.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$ethersproject$providers$lib$base_provider","~$module$node_modules$$ethersproject$abstract_signer$lib$index","~$module$node_modules$$ethersproject$strings$lib$index","~$shadow.js","~$module$node_modules$$ethersproject$bytes$lib$index","~$module$node_modules$$ethersproject$providers$lib$_version","~$module$node_modules$$ethersproject$bignumber$lib$index","~$module$node_modules$$ethersproject$transactions$lib$index","~$module$node_modules$$ethersproject$web$lib$index","~$module$node_modules$$ethersproject$logger$lib$index","~$module$node_modules$$ethersproject$properties$lib$index","~$module$node_modules$$ethersproject$hash$lib$index"]],"~:properties",["^5",["gasLimit","sent","message","_pendingFilter","defaultUrl","serverError","prepareRequest","_startPending","url","next","chainId","transaction","gasPrice","_startEvent","confirmations","params","prototype","accessList","send","unlock","sendUncheckedTransaction","hash","label","ops","method","__esModule","signTransaction","error","id","_eventLoopCache","getAddress","event","types","_cache","_stopEvent","getSigner","_nextId","provider","configurable","maxPriorityFeePerGas","_signTypedData","maxFeePerGas","value","connect","enumerable","address","connectUnchecked","hexlifyTransaction","wait","sendTransaction","request","operation","_legacySignMessage","action","domain","trys","tx","perform","transactionHash","type","listAccounts","__proto__","JsonRpcProvider","from","reason","response","nonce","oncePoll","jsonrpc","messageData","getUncheckedSigner","sender","to","detectNetwork","data","get","JsonRpcSigner","signMessage","code","done","_uncachedDetectNetwork","constructor"]],"~:compiled-at",1695041440917,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$ethersproject$providers$lib$json_rpc_provider.js\",\n\"lineCount\":33,\n\"mappings\":\"AAAAA,cAAA,CAAe,GAAf,CAAA,CAAsB,QAAQ,CAACC,CAAD,CAAQC,CAAR,CAAgBC,CAAhB,CAAuBC,CAAvB,CAAgC,CAoE9DC,QAASA,EAAO,CAACC,CAAD,CAAQC,CAAR,CAAqB,CACjC,GAAa,IAAb,EAAID,CAAJ,CACI,MAAO,KAGX,IAA+B,QAA/B,GAAI,MAAQA,EAAME,CAAAA,OAAlB,EAA2CF,CAAME,CAAAA,OAAQC,CAAAA,KAAd,CAAoB,UAApB,CAA3C,CAA4E,CACxE,IAAIC,EAAO,GAAIC,CAAQC,CAAAA,WAAZ,EAAyBN,CAAMI,CAAAA,IAA/B,CAAA,CAAuCJ,CAAMI,CAAAA,IAA7C,CAAoD,IAC/D,IAAI,CAACH,CAAL,EAAoBG,CAApB,CACI,MAAO,CAAEF,QAASF,CAAME,CAAAA,OAAjB,CAA0BE,KAAMA,CAAhC,CAH6D,CAO5E,GAAuB,QAAvB,GAAI,MAAQJ,EAAZ,CAAiC,CAC7B,IAAKO,IAAIA,CAAT,GAAgBP,EAAhB,CAEI,GADIQ,CACJ,CADaT,CAAA,CAAQC,CAAA,CAAMO,CAAN,CAAR,CAAoBN,CAApB,CACb,CACI,MAAOO,EAGf,OAAO,KAPsB,CAUjC,GAAuB,QAAvB,GAAI,MAAQR,EAAZ,CACI,GAAI,CACA,MAAOD,EAAA,CAAQU,IAAKC,CAAAA,KAAL,CAAWV,CAAX,CAAR,CAA2BC,CAA3B,CADP,CAGJ,MAAOU,CAAP,CAAc,EAElB,MAAO,KA5B0B,CA8BrCC,QAASA,EAAU,CAACC,CAAD,CAASF,CAAT,CAAgBG,CAAhB,CAAwB,CACnCC,CAAAA,CAAcD,CAAOC,CAAAA,WAArBA,EAAoCD,CAAOE,CAAAA,iBAG/C,IAAe,MAAf,GAAIH,CAAJ,CAAuB,CACnB,IAAIL,EAAST,CAAA,CAAQY,CAAR,CAAe,CAAA,CAAf,CACb,IAAIH,CAAJ,CACI,MAAOA,EAAOJ,CAAAA,IAGlBa,EAAOC,CAAAA,UAAP,CAAkB,qFAAlB;AAAyGC,CAASC,CAAAA,MAAOC,CAAAA,MAAOC,CAAAA,cAAhI,CAAgJ,CAC5IlB,KAAM,IADsI,CAE5IW,YAAaA,CAF+H,CAG5IJ,MAAOA,CAHqI,CAAhJ,CANmB,CAYR,aAAf,GAAIE,CAAJ,GAEQL,CAKJ,CALaT,CAAA,CAAQY,CAAMY,CAAAA,IAAd,CAAoB,CAAA,CAApB,CAKb,CAJc,IAId,EAJIf,CAIJ,GAHIA,CAGJ,CAHaT,CAAA,CAAQY,CAAR,CAAe,CAAA,CAAf,CAGb,EAAIH,CAAJ,EACIS,CAAOC,CAAAA,UAAP,CAAkB,2EAAlB,CAA+FC,CAASC,CAAAA,MAAOC,CAAAA,MAAOG,CAAAA,uBAAtH,CAA+I,CAC3IC,OAAQjB,CAAON,CAAAA,OAD4H,CAE3IW,OAAQA,CAFmI,CAG3IE,YAAaA,CAH8H,CAI3IJ,MAAOA,CAJoI,CAA/I,CARR,CAiBIT,EAAAA,CAAUS,CAAMT,CAAAA,OAChBS,EAAMe,CAAAA,IAAV,GAAmBP,CAASC,CAAAA,MAAOC,CAAAA,MAAOM,CAAAA,YAA1C,EAA0DhB,CAAMA,CAAAA,KAAhE,EAA0G,QAA1G,GAAyE,MAAQA,EAAMA,CAAAA,KAAMT,CAAAA,OAA7F,CACIA,CADJ,CACcS,CAAMA,CAAAA,KAAMT,CAAAA,OAD1B,CAGiC,QAA5B,GAAI,MAAQS,EAAMY,CAAAA,IAAlB,CACDrB,CADC,CACSS,CAAMY,CAAAA,IADf,CAGoC,QAHpC,GAGI,MAAQZ,EAAMiB,CAAAA,YAHlB,GAID1B,CAJC,CAISS,CAAMiB,CAAAA,YAJf,CAML1B;CAAA,CAA0B2B,CAAf3B,CAAe2B,EAAJ,EAAIA,EAAAA,WAAhB,EAEN3B,EAAQC,CAAAA,KAAR,CAAc,kEAAd,CAAJ,EACIc,CAAOC,CAAAA,UAAP,CAAkB,mDAAlB,CAAuEC,CAASC,CAAAA,MAAOC,CAAAA,MAAOS,CAAAA,kBAA9F,CAAkH,CAC9GnB,MAAOA,CADuG,CAE9GE,OAAQA,CAFsG,CAG9GE,YAAaA,CAHiG,CAAlH,CAOAb,EAAQC,CAAAA,KAAR,CAAc,sBAAd,CAAJ,EACIc,CAAOC,CAAAA,UAAP,CAAkB,6BAAlB,CAAiDC,CAASC,CAAAA,MAAOC,CAAAA,MAAOU,CAAAA,aAAxE,CAAuF,CACnFpB,MAAOA,CAD4E,CAEnFE,OAAQA,CAF2E,CAGnFE,YAAaA,CAHsE,CAAvF,CAOAb,EAAQC,CAAAA,KAAR,CAAc,qEAAd,CAAJ,EACIc,CAAOC,CAAAA,UAAP,CAAkB,yBAAlB,CAA6CC,CAASC,CAAAA,MAAOC,CAAAA,MAAOW,CAAAA,uBAApE;AAA6F,CACzFrB,MAAOA,CADkF,CAEzFE,OAAQA,CAFiF,CAGzFE,YAAaA,CAH4E,CAA7F,CAOAb,EAAQC,CAAAA,KAAR,CAAc,wBAAd,CAAJ,EACIc,CAAOC,CAAAA,UAAP,CAAkB,+CAAlB,CAAmEC,CAASC,CAAAA,MAAOC,CAAAA,MAAOY,CAAAA,qBAA1F,CAAiH,CAC7GtB,MAAOA,CADsG,CAE7GE,OAAQA,CAFqG,CAG7GE,YAAaA,CAHgG,CAAjH,CAM4B,EAAhC,EAAImB,CAASC,CAAAA,OAAT,CAAiBtB,CAAjB,CAAJ,EAAqCX,CAAQC,CAAAA,KAAR,CAAc,qFAAd,CAArC,EACIc,CAAOC,CAAAA,UAAP,CAAkB,2EAAlB,CAA+FC,CAASC,CAAAA,MAAOC,CAAAA,MAAOG,CAAAA,uBAAtH,CAA+I,CAC3Ib,MAAOA,CADoI,CAE3IE,OAAQA,CAFmI,CAG3IE,YAAaA,CAH8H,CAA/I,CAMJ,MAAMJ,EAAN,CAnFuC,CAqF3CyB,QAASA,EAAK,CAACC,CAAD,CAAU,CACpB,MAAO,KAAIC,OAAJ,CAAY,QAAS,CAACC,CAAD,CAAU,CAClCC,UAAA,CAAWD,CAAX;AAAoBF,CAApB,CADkC,CAA/B,CADa,CAKxBI,QAASA,EAAS,CAACC,CAAD,CAAU,CACxB,GAAIA,CAAQ/B,CAAAA,KAAZ,CAAmB,CAEf,IAAIA,EAAYgC,KAAJ,CAAUD,CAAQ/B,CAAAA,KAAMT,CAAAA,OAAxB,CACZS,EAAMe,CAAAA,IAAN,CAAagB,CAAQ/B,CAAAA,KAAMe,CAAAA,IAC3Bf,EAAMP,CAAAA,IAAN,CAAasC,CAAQ/B,CAAAA,KAAMP,CAAAA,IAC3B,MAAMO,EAAN,CALe,CAOnB,MAAO+B,EAAQlC,CAAAA,MARS,CAU5BoC,QAASA,EAAY,CAAC5C,CAAD,CAAQ,CACzB,MAAIA,EAAJ,CACWA,CAAM6B,CAAAA,WAAN,EADX,CAGO7B,CAJkB,CApM7B,IAAI6C,EAAa,IAAbA,EAAqB,IAAKA,CAAAA,SAA1BA,EAAyC,QAAS,EAAG,CACrD,IAAIC,EAAgBA,QAAS,CAACC,CAAD,CAAIC,CAAJ,CAAO,CAChCF,CAAA,CAAgBG,MAAOC,CAAAA,cAAvB,EACK,CAAEC,UAAW,EAAb,CADL,UACkCC,MADlC,EAC2C,QAAS,CAACL,CAAD,CAAIC,CAAJ,CAAO,CAAED,CAAEI,CAAAA,SAAF,CAAcH,CAAhB,CAD3D,EAEI,QAAS,CAACD,CAAD,CAAIC,CAAJ,CAAO,CAAE,IAAKK,IAAIA,CAAT,GAAcL,EAAd,CAAqBC,MAAOK,CAAAA,SAAUC,CAAAA,cAAeC,CAAAA,IAAhC,CAAqCR,CAArC,CAAwCK,CAAxC,CAAJ,GAAgDN,CAAA,CAAEM,CAAF,CAAhD,CAAuDL,CAAA,CAAEK,CAAF,CAAvD,CAAnB,CACpB,OAAOP,EAAA,CAAcC,CAAd,CAAiBC,CAAjB,CAJyB,CAMpC,OAAO,SAAS,CAACD,CAAD,CAAIC,CAAJ,CAAO,CAInBS,QAASA,EAAE,EAAG,CAAE,IAAKC,CAAAA,WAAL,CAAmBX,CAArB,CAHd,GAAiB,UAAjB,GAAI,MAAOC,EAAX,EAAqC,IAArC,GAA+BA,CAA/B,CACI,KAAM,KAAIW,SAAJ,CAAc,sBAAd;AAAuCC,MAAA,CAAOZ,CAAP,CAAvC,CAAmD,+BAAnD,CAAN,CACJF,CAAA,CAAcC,CAAd,CAAiBC,CAAjB,CAEAD,EAAEO,CAAAA,SAAF,CAAoB,IAAN,GAAAN,CAAA,CAAaC,MAAOY,CAAAA,MAAP,CAAcb,CAAd,CAAb,EAAiCS,CAAGH,CAAAA,SAAH,CAAeN,CAAEM,CAAAA,SAAjB,CAA4B,IAAIG,CAAjE,CALK,CAP8B,CAAb,EAA5C,CAeIK,EAAa,IAAbA,EAAqB,IAAKA,CAAAA,SAA1BA,EAAwC,QAAS,CAACC,CAAD,CAAUC,CAAV,CAAsBC,CAAtB,CAAyBC,CAAzB,CAAoC,CACrFC,QAASA,EAAK,CAACnE,CAAD,CAAQ,CAAE,MAAOA,EAAA,WAAiBiE,EAAjB,CAAqBjE,CAArB,CAA6B,IAAIiE,CAAJ,CAAM,QAAS,CAAC1B,CAAD,CAAU,CAAEA,CAAA,CAAQvC,CAAR,CAAF,CAAzB,CAAtC,CACtB,MAAO,MAAKiE,CAAL,GAAWA,CAAX,CAAe3B,OAAf,GAAyB,QAAS,CAACC,CAAD,CAAU6B,CAAV,CAAkB,CACvDC,QAASA,EAAS,CAACrE,CAAD,CAAQ,CAAE,GAAI,CAAEsE,CAAA,CAAKJ,CAAUK,CAAAA,IAAV,CAAevE,CAAf,CAAL,CAAF,CAAiC,MAAOwE,CAAP,CAAU,CAAEJ,CAAA,CAAOI,CAAP,CAAF,CAAjD,CAC1BC,QAASA,EAAQ,CAACzE,CAAD,CAAQ,CAAE,GAAI,CAAEsE,CAAA,CAAKJ,CAAA,CAAU,OAAV,CAAA,CAAmBlE,CAAnB,CAAL,CAAF,CAAqC,MAAOwE,CAAP,CAAU,CAAEJ,CAAA,CAAOI,CAAP,CAAF,CAArD,CACzBF,QAASA,EAAI,CAAC9D,CAAD,CAAS,CAAEA,CAAOkE,CAAAA,IAAP,CAAcnC,CAAA,CAAQ/B,CAAOR,CAAAA,KAAf,CAAd,CAAsCmE,CAAA,CAAM3D,CAAOR,CAAAA,KAAb,CAAoB2E,CAAAA,IAApB,CAAyBN,CAAzB,CAAoCI,CAApC,CAAxC,CACtBH,CAAA,CAA8DC,CAAxDL,CAAwDK,CAA5CL,CAAUU,CAAAA,KAAV,CAAgBb,CAAhB,CAAyBC,CAAzB,EAAuC,EAAvC,CAA4CO,EAAAA,IAAzD,EAAL,CAJuD,CAApD,CAF8E,CAfzF,CAwBIM,EAAe,IAAfA,EAAuB,IAAKA,CAAAA,WAA5BA,EAA4C,QAAS,CAACd,CAAD,CAAUxC,CAAV,CAAgB,CAGrEuD,QAASA,EAAI,CAACC,CAAD,CAAI,CAAE,MAAO,SAAS,CAACC,CAAD,CAAI,CAAE,MAAOV,EAAA,CAAK,CAACS,CAAD;AAAIC,CAAJ,CAAL,CAAT,CAAtB,CACjBV,QAASA,EAAI,CAACW,CAAD,CAAK,CACd,GAAIC,CAAJ,CAAO,KAAM,KAAIvB,SAAJ,CAAc,iCAAd,CAAN,CACP,IAAA,CAAOwB,CAAP,CAAA,CAAU,GAAI,CACV,GAAID,CAAA,CAAI,CAAJ,CAAOE,CAAP,GAAaC,CAAb,CAAiBJ,CAAA,CAAG,CAAH,CAAA,CAAQ,CAAR,CAAYG,CAAA,CAAE,QAAF,CAAZ,CAA0BH,CAAA,CAAG,CAAH,CAAA,CAAQG,CAAA,CAAE,OAAF,CAAR,GAAuB,CAACC,CAAD,CAAKD,CAAA,CAAE,QAAF,CAAL,GAAqBC,CAAE7B,CAAAA,IAAF,CAAO4B,CAAP,CAArB,CAAgC,CAAvD,EAA4DA,CAAEb,CAAAA,IAAzG,GAAkH,CAAwBG,CAAtBW,CAAsBX,CAAlBW,CAAE7B,CAAAA,IAAF,CAAO4B,CAAP,CAAUH,CAAA,CAAG,CAAH,CAAV,CAAkBP,EAAAA,IAA9I,CAAoJ,MAAOW,EAC3J,IAAID,CAAA,CAAI,CAAJ,CAAOC,CAAX,CAAcJ,CAAA,CAAK,CAACA,CAAA,CAAG,CAAH,CAAD,CAAS,CAAT,CAAYI,CAAErF,CAAAA,KAAd,CACnB,QAAQiF,CAAA,CAAG,CAAH,CAAR,EACI,KAAK,CAAL,CAAQ,KAAK,CAAL,CAAQI,CAAA,CAAIJ,CAAI,MACxB,MAAK,CAAL,CAAmB,MAAXE,EAAEG,CAAAA,KAAF,EAAkB,CAAA,CAAEtF,MAAOiF,CAAA,CAAG,CAAH,CAAT,CAAgBP,KAAM,CAAA,CAAtB,CAC1B,MAAK,CAAL,CAAQS,CAAEG,CAAAA,KAAF,EAAWF,EAAA,CAAIH,CAAA,CAAG,CAAH,CAAOA,EAAA,CAAK,CAAC,CAAD,CAAK,SACxC,MAAK,CAAL,CAAQA,CAAA,CAAKE,CAAEI,CAAAA,GAAIC,CAAAA,GAAN,EAAaL,EAAEM,CAAAA,IAAKD,CAAAA,GAAP,EAAc,SACxC,SACI,GAAI,EAAEH,CAAA,CAAIF,CAAEM,CAAAA,IAAN,CAAYJ,CAAZ,CAA2B,CAA3B,CAAgBA,CAAEK,CAAAA,MAAlB,EAAgCL,CAAA,CAAEA,CAAEK,CAAAA,MAAJ,CAAa,CAAb,CAAlC,CAAJ,GAAqE,CAArE,GAA2DT,CAAA,CAAG,CAAH,CAA3D,EAAoF,CAApF,GAA0EA,CAAA,CAAG,CAAH,CAA1E,EAAwF,CAAEE,CAAA,CAAI,CAAG,SAAT,CACxF,GAAc,CAAd,GAAIF,CAAA,CAAG,CAAH,CAAJ;CAAoB,CAACI,CAArB,EAA2BJ,CAAA,CAAG,CAAH,CAA3B,CAAmCI,CAAA,CAAE,CAAF,CAAnC,EAA2CJ,CAAA,CAAG,CAAH,CAA3C,CAAmDI,CAAA,CAAE,CAAF,CAAnD,EAA6DF,CAAEG,CAAAA,KAAF,CAAUL,CAAA,CAAG,CAAH,CAAvE,KACA,IAAc,CAAd,GAAIA,CAAA,CAAG,CAAH,CAAJ,EAAmBE,CAAEG,CAAAA,KAArB,CAA6BD,CAAA,CAAE,CAAF,CAA7B,CAAqCF,CAAEG,CAAAA,KAAc,CAAND,CAAA,CAAE,CAAF,CAAM,CAAAA,CAAA,CAAIJ,CAAzD,KACA,IAAII,CAAJ,EAASF,CAAEG,CAAAA,KAAX,CAAmBD,CAAA,CAAE,CAAF,CAAnB,CAA2BF,CAAEG,CAAAA,KAAc,CAAND,CAAA,CAAE,CAAF,CAAM,CAAAF,CAAEI,CAAAA,GAAII,CAAAA,IAAN,CAAWV,CAAX,CAA3C,KAAA,CACII,CAAA,CAAE,CAAF,CAAJ,EAAUF,CAAEI,CAAAA,GAAIC,CAAAA,GAAN,EACVL,EAAEM,CAAAA,IAAKD,CAAAA,GAAP,EAAc,SAFd,CATR,CAaAP,CAAA,CAAK1D,CAAKiC,CAAAA,IAAL,CAAUO,CAAV,CAAmBoB,CAAnB,CAhBK,CAiBZ,MAAOX,CAAP,CAAU,CAAES,CAAa,CAAR,CAAC,CAAD,CAAIT,CAAJ,CAAQ,CAAAY,CAAA,CAAI,CAAnB,CAjBF,OAiBkC,CAAEF,CAAA,CAAIG,CAAJ,CAAQ,CAAV,CAC5C,GAAIJ,CAAA,CAAG,CAAH,CAAJ,CAAY,CAAZ,CAAe,KAAMA,EAAA,CAAG,CAAH,CAAN,CAAa,MAAO,CAAEjF,MAAOiF,CAAA,CAAG,CAAH,CAAA,CAAQA,CAAA,CAAG,CAAH,CAAR,CAAgB,IAAK,EAA9B,CAAiCP,KAAM,CAAA,CAAvC,CApBrB,CAJmD,IACjES,EAAI,CAAEG,MAAO,CAAT,CAAYM,KAAMA,QAAQ,EAAG,CAAE,GAAIP,CAAA,CAAE,CAAF,CAAJ,CAAW,CAAX,CAAc,KAAMA,EAAA,CAAE,CAAF,CAAN,CAAY,MAAOA,EAAA,CAAE,CAAF,CAAnC,CAA7B,CAAyEI,KAAM,EAA/E,CAAmFF,IAAK,EAAxF,CAD6D,CACiCL,CADjC,CACoCE,CADpC,CACuCC,CADvC,CAC0CQ,CAC/G,OAAOA,EAAA,CAAI,CAAEtB,KAAMO,CAAA,CAAK,CAAL,CAAR,CAAiB,QAASA,CAAA,CAAK,CAAL,CAA1B,CAAmC,SAAUA,CAAA,CAAK,CAAL,CAA7C,CAAJ,CAA8E,UAA9E,GAA4D,MAAOgB,OAAnE,GAA6FD,CAAA,CAAEC,MAAOC,CAAAA,QAAT,CAA7F,CAAkH,QAAQ,EAAG,CAAE,MAAO,KAAT,CAA7H;AAAgJF,CAFlF,CA2BzE5C,OAAO+C,CAAAA,cAAP,CAAsBlG,CAAtB,CAA+B,YAA/B,CAA6C,CAAEE,MAAO,CAAA,CAAT,CAA7C,CACAF,EAAQmG,CAAAA,eAAR,CAA0BnG,CAAQoG,CAAAA,aAAlC,CAAkD,IAAK,EACnDC,EAAAA,CAAoBvG,CAAA,CAAQ,EAAR,CACxB,KAAIwG,EAAcxG,CAAA,CAAQ,EAAR,CAAlB,CACIS,EAAUT,CAAA,CAAQ,EAAR,CADd,CAEIyG,EAASzG,CAAA,CAAQ,EAAR,CAFb,CAGI0G,EAAe1G,CAAA,CAAQ,EAAR,CAHnB,CAII2G,EAAY3G,CAAA,CAAQ,EAAR,CAJhB,CAKI4G,EAAiB5G,CAAA,CAAQ,GAAR,CALrB,CAMI6G,EAAQ7G,CAAA,CAAQ,GAAR,CANZ,CAOIuB,EAAWvB,CAAA,CAAQ,CAAR,CACX8G,EAAAA,CAAa9G,CAAA,CAAQ,GAAR,CACjB,KAAIqB,EAAS,IAAIE,CAASC,CAAAA,MAAb,CAAoBsF,CAAWC,CAAAA,OAA/B,CACTC,EAAAA,CAAkBhH,CAAA,CAAQ,GAAR,CACtB,KAAIsC,EAAW,CAAC,MAAD,CAAS,aAAT,CAAf,CAyII2E,EAAoB,EAzIxB,CA0IIX,EAA+B,QAAS,CAACY,CAAD,CAAS,CAEjDZ,QAASA,EAAa,CAACa,CAAD,CAAmBC,CAAnB,CAA6BC,CAA7B,CAA6C,CAC/D,IAAIC,EAAQJ,CAAOtD,CAAAA,IAAP,CAAY,IAAZ,CAAR0D,EAA6B,IACjC,IAAIH,CAAJ,GAAyBF,CAAzB,CACI,KAAUlE,MAAJ,CAAU,4EAAV,CAAN,CAEJ,GAAI2D,CAAaa,CAAAA,cAAjB,EAAiCD,CAAjC,CAAwC,UAAxC,CAAoDF,CAApD,CACsB,KAAtB,EAAIC,CAAJ,GACIA,CADJ,CACqB,CADrB,CAGgC,SAAhC,GAAI,MAAQA,EAAZ,EACI,GAAIX,CAAaa,CAAAA,cAAjB,EAAiCD,CAAjC;AAAwC,UAAxC,CAAoDA,CAAMF,CAAAA,QAASI,CAAAA,SAAUC,CAAAA,OAAzB,CAAiCJ,CAAjC,CAApD,CACA,CAAA,GAAIX,CAAaa,CAAAA,cAAjB,EAAiCD,CAAjC,CAAwC,QAAxC,CAAkD,IAAlD,CAFJ,EAIqC,QAAhC,GAAI,MAAQD,EAAZ,EACD,GAAIX,CAAaa,CAAAA,cAAjB,EAAiCD,CAAjC,CAAwC,QAAxC,CAAkDD,CAAlD,CACA,CAAA,GAAIX,CAAaa,CAAAA,cAAjB,EAAiCD,CAAjC,CAAwC,UAAxC,CAAoD,IAApD,CAFC,EAKDjG,CAAOqG,CAAAA,kBAAP,CAA0B,0BAA1B,CAAsD,gBAAtD,CAAwEL,CAAxE,CAEJ,OAAOC,EApBwD,CADnErE,CAAA,CAAUqD,CAAV,CAAyBY,CAAzB,CAuBAZ,EAAc5C,CAAAA,SAAUiE,CAAAA,OAAxB,CAAkCC,QAAS,CAACR,CAAD,CAAW,CAClD,MAAO/F,EAAOC,CAAAA,UAAP,CAAkB,yCAAlB,CAA6DC,CAASC,CAAAA,MAAOC,CAAAA,MAAOY,CAAAA,qBAApF,CAA2G,CAC9GwF,UAAW,SADmG,CAA3G,CAD2C,CAKtDvB,EAAc5C,CAAAA,SAAUoE,CAAAA,gBAAxB,CAA2CC,QAAS,EAAG,CACnD,MAAO,KAAIC,CAAJ,CAA2Bf,CAA3B,CAA8C,IAAKG,CAAAA,QAAnD,CAA6D,IAAKa,CAAAA,QAAlE;AAA8E,IAAKC,CAAAA,MAAnF,CAD4C,CAGvD5B,EAAc5C,CAAAA,SAAUyE,CAAAA,UAAxB,CAAqCC,QAAS,EAAG,CAC7C,IAAId,EAAQ,IACZ,OAAI,KAAKW,CAAAA,QAAT,CACWvF,OAAQC,CAAAA,OAAR,CAAgB,IAAKsF,CAAAA,QAArB,CADX,CAGO,IAAKb,CAAAA,QAASiB,CAAAA,IAAd,CAAmB,cAAnB,CAAmC,EAAnC,CAAuCtD,CAAAA,IAAvC,CAA4C,QAAS,CAACuD,CAAD,CAAW,CAC/DA,CAASxC,CAAAA,MAAb,EAAuBwB,CAAMY,CAAAA,MAA7B,EACI7G,CAAOC,CAAAA,UAAP,CAAkB,mBAAlB,CAAwCgG,CAAMY,CAAAA,MAA9C,CAAsD3G,CAASC,CAAAA,MAAOC,CAAAA,MAAOY,CAAAA,qBAA7E,CAAoG,CAChGwF,UAAW,YADqF,CAApG,CAIJ,OAAOP,EAAMF,CAAAA,QAASI,CAAAA,SAAUC,CAAAA,OAAzB,CAAiCa,CAAA,CAAShB,CAAMY,CAAAA,MAAf,CAAjC,CAN4D,CAAhE,CALsC,CAcjD5B,EAAc5C,CAAAA,SAAU6E,CAAAA,wBAAxB,CAAmDC,QAAS,CAACrH,CAAD,CAAc,CACtE,IAAImG,EAAQ,IACZnG,EAAA,CAAc,GAAIuF,CAAa+B,CAAAA,WAAjB,EAA8BtH,CAA9B,CACd,KAAIuH,EAAc,IAAKP,CAAAA,UAAL,EAAkBpD,CAAAA,IAAlB,CAAuB,QAAS,CAAC0C,CAAD,CAAU,CACpDA,CAAJ,GACIA,CADJ,CACcA,CAAQxF,CAAAA,WAAR,EADd,CAGA,OAAOwF,EAJiD,CAA1C,CASlB;GAA4B,IAA5B,EAAItG,CAAYwH,CAAAA,QAAhB,CAAkC,CAC9B,IAAIC,EAAW,GAAIlC,CAAa+B,CAAAA,WAAjB,EAA8BtH,CAA9B,CACfyH,EAASC,CAAAA,IAAT,CAAgBH,CAChBvH,EAAYwH,CAAAA,QAAZ,CAAuB,IAAKvB,CAAAA,QAAS0B,CAAAA,WAAd,CAA0BF,CAA1B,CAHO,CAKZ,IAAtB,EAAIzH,CAAY4H,CAAAA,EAAhB,GACI5H,CAAY4H,CAAAA,EADhB,CACqBrG,OAAQC,CAAAA,OAAR,CAAgBxB,CAAY4H,CAAAA,EAA5B,CAAgChE,CAAAA,IAAhC,CAAqC,QAAS,CAACgE,CAAD,CAAK,CAAE,MAAO7E,EAAA,CAAUoD,CAAV,CAAiB,IAAK,EAAtB,CAAyB,IAAK,EAA9B,CAAiC,QAAS,EAAG,CACtH,IAAIG,CACJ,OAAOxC,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CACI,MAAU,KAAV,EAAIqD,CAAJ,CACW,CAAC,CAAD,CAAe,IAAf,CADX,CAGO,CAAC,CAAD,CAAc,IAAK3B,CAAAA,QAAS6B,CAAAA,WAAd,CAA0BF,CAA1B,CAAd,CACX,MAAK,CAAL,CAKI,MAJAtB,EAIO,CAJGuB,CAAGhD,CAAAA,IAAH,EAIH,CAHQ,IAGR,EAHHyB,CAGG,EAFHpG,CAAOqG,CAAAA,kBAAP,CAA0B,oCAA1B,CAAgE,OAAhE,CAAyEqB,CAAzE,CAEG,CAAA,CAAC,CAAD,CAAetB,CAAf,CAXf,CADmC,CAAhC,CAF+G,CAA7C,CAAT,CAAnD,CADrB,CAoBA,OAAO,GAAIf,CAAawC,CAAAA,iBAAjB,EAAoC,CACvCC,GAAI,GAAIzC,CAAawC,CAAAA,iBAAjB,EAAoC/H,CAApC,CADmC,CAEvCiI,OAAQV,CAF+B,CAApC,CAGJ3D,CAAAA,IAHI,CAGC,QAAS,CAACiE,CAAD,CAAK,CAAA,IACdG;AAAKH,CAAGG,CAAAA,EAAIC,EAAAA,CAASJ,CAAGI,CAAAA,MACb,KAAf,EAAID,CAAGN,CAAAA,IAAP,CACQM,CAAGN,CAAAA,IAAK5G,CAAAA,WAAR,EADR,GACkCmH,CADlC,EAEQ/H,CAAOqG,CAAAA,kBAAP,CAA0B,uBAA1B,CAAmD,aAAnD,CAAkEvG,CAAlE,CAFR,CAMIgI,CAAGN,CAAAA,IANP,CAMcO,CAEd,KAAIC,EAAQ/B,CAAMF,CAAAA,QAAStD,CAAAA,WAAYwF,CAAAA,kBAA3B,CAA8CH,CAA9C,CAAkD,CAAEN,KAAM,CAAA,CAAR,CAAlD,CACZ,OAAOvB,EAAMF,CAAAA,QAASiB,CAAAA,IAAf,CAAoB,qBAApB,CAA2C,CAACgB,CAAD,CAA3C,CAAoDtE,CAAAA,IAApD,CAAyD,QAAS,CAACwE,CAAD,CAAO,CAC5E,MAAOA,EADqE,CAAzE,CAEJ,QAAS,CAACxI,CAAD,CAAQ,CACe,QAA/B,GAAI,MAAQA,EAAMT,CAAAA,OAAlB,EAA2CS,CAAMT,CAAAA,OAAQC,CAAAA,KAAd,CAAoB,cAApB,CAA3C,EACIc,CAAOC,CAAAA,UAAP,CAAkB,2BAAlB,CAA+CC,CAASC,CAAAA,MAAOC,CAAAA,MAAO+H,CAAAA,eAAtE,CAAuF,CACnFC,OAAQ,iBAD2E,CAEnFtI,YAAagI,CAFsE,CAAvF,CAKJ,OAAOnI,EAAA,CAAW,iBAAX,CAA8BD,CAA9B,CAAqCsI,CAArC,CAPS,CAFb,CAXW,CAHf,CArC+D,CAgE1E/C,EAAc5C,CAAAA,SAAUgG,CAAAA,eAAxB;AAA0CC,QAAS,CAACxI,CAAD,CAAc,CAC7D,MAAOE,EAAOC,CAAAA,UAAP,CAAkB,qCAAlB,CAAyDC,CAASC,CAAAA,MAAOC,CAAAA,MAAOY,CAAAA,qBAAhF,CAAuG,CAC1GwF,UAAW,iBAD+F,CAAvG,CADsD,CAKjEvB,EAAc5C,CAAAA,SAAUkG,CAAAA,eAAxB,CAA0CC,QAAS,CAAC1I,CAAD,CAAc,CAC7D,MAAO+C,EAAA,CAAU,IAAV,CAAgB,IAAK,EAArB,CAAwB,IAAK,EAA7B,CAAgC,QAAS,EAAG,CAAA,IAC3C4F,CAD2C,CAC9BP,CAD8B,CACxBQ,CADwB,CAE3CzC,EAAQ,IACZ,OAAOrC,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAAc,IAAK0B,CAAAA,QAAS4C,CAAAA,uBAAd,CAAsC,GAAtC,CAA4C,CAA5C,CAAgD,IAAK5C,CAAAA,QAAS6C,CAAAA,eAA9D,CAAd,CACf,MAAK,CAAL,CAEI,MADAH,EACO,CADOd,CAAGhD,CAAAA,IAAH,EACP,CAAA,CAAC,CAAD,CAAc,IAAKuC,CAAAA,wBAAL,CAA8BpH,CAA9B,CAAd,CACX,MAAK,CAAL,CACIoI,CACA,CADOP,CAAGhD,CAAAA,IAAH,EACP,CAAAgD,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CAEI,MADAsD,EAAGnD,CAAAA,IAAKE,CAAAA,IAAR,CAAa,CAAC,CAAD,CAAI,CAAJ,CAAA,CAAS,CAAT,CAAb,CACO,CAAA,CAAC,CAAD,CAAc,GAAIc,CAAMqD,CAAAA,IAAV,EAAgB,QAAS,EAAG,CAAE,MAAOhG,EAAA,CAAUoD,CAAV;AAAiB,IAAK,EAAtB,CAAyB,IAAK,EAA9B,CAAiC,QAAS,EAAG,CAC/F,IAAI6B,CACJ,OAAOlE,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAAc,IAAK0B,CAAAA,QAAS+C,CAAAA,cAAd,CAA6BZ,CAA7B,CAAd,CACf,MAAK,CAAL,CAEI,MADAJ,EACA,CADKH,CAAGhD,CAAAA,IAAH,EACL,CAAW,IAAX,GAAImD,CAAJ,CACW,CAAC,CAAD,CAAeiB,IAAAA,EAAf,CADX,CAGO,CAAC,CAAD,CAAe,IAAKhD,CAAAA,QAASiD,CAAAA,gBAAd,CAA+BlB,CAA/B,CAAmCI,CAAnC,CAAyCO,CAAzC,CAAf,CAPf,CADmC,CAAhC,CAFwF,CAA7C,CAAT,CAA5B,CAaV,CAAEQ,SAAU,IAAKlD,CAAAA,QAAjB,CAbU,CAAd,CAcX,MAAK,CAAL,CAIA,MAAO,CAAC,CAAD,CAAe4B,CAAGhD,CAAAA,IAAH,EAAf,CACP,MAAK,CAAL,CAGI,KAFA+D,EAEMA,CAFIf,CAAGhD,CAAAA,IAAH,EAEJ+D,CADNA,CAAQQ,CAAAA,eACFR,CADoBR,CACpBQ,CAAAA,CAAN,CACJ,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAjCnB,CADmC,CAAhC,CAHwC,CAA5C,CADsD,CA2CjEzD,EAAc5C,CAAAA,SAAU8G,CAAAA,WAAxB,CAAsCC,QAAS,CAACnK,CAAD,CAAU,CACrD,MAAO4D,EAAA,CAAU,IAAV,CAAgB,IAAK,EAArB,CAAwB,IAAK,EAA7B,CAAgC,QAAS,EAAG,CAAA,IAC3C1D,CAD2C,CACrCiH,CADqC,CAC5BiD,CACnB,OAAOzF,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CAEI,MADAlF,EACO,CADuB,QAAtB,GAAC,MAAQF,EAAT,CAAkC,GAAIqG,CAAUgE,CAAAA,WAAd,EAA2BrK,CAA3B,CAAlC;AAAwEA,CACzE,CAAA,CAAC,CAAD,CAAc,IAAK6H,CAAAA,UAAL,EAAd,CACX,MAAK,CAAL,CACIV,CACA,CADUuB,CAAGhD,CAAAA,IAAH,EACV,CAAAgD,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CAEI,MADAsD,EAAGnD,CAAAA,IAAKE,CAAAA,IAAR,CAAa,CAAC,CAAD,CAAI,CAAJ,CAAA,CAAS,CAAT,CAAb,CACO,CAAA,CAAC,CAAD,CAAc,IAAKqB,CAAAA,QAASiB,CAAAA,IAAd,CAAmB,eAAnB,CAAoC,CAAC,GAAI5H,CAAQmK,CAAAA,OAAZ,EAAqBpK,CAArB,CAAD,CAA6BiH,CAAQxF,CAAAA,WAAR,EAA7B,CAApC,CAAd,CACX,MAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAAe+G,CAAGhD,CAAAA,IAAH,EAAf,CACf,MAAK,CAAL,CASI,KARA0E,EAQMA,CARI1B,CAAGhD,CAAAA,IAAH,EAQJ0E,CAP2B,QAO3BA,GAPF,MAAQA,EAAQpK,CAAAA,OAOdoK,EAPuCA,CAAQpK,CAAAA,OAAQC,CAAAA,KAAhB,CAAsB,cAAtB,CAOvCmK,EANFrJ,CAAOC,CAAAA,UAAP,CAAkB,uBAAlB,CAA2CC,CAASC,CAAAA,MAAOC,CAAAA,MAAO+H,CAAAA,eAAlE,CAAmF,CAC/EC,OAAQ,aADuE,CAE/EZ,KAAMpB,CAFyE,CAG/EoD,YAAavK,CAHkE,CAAnF,CAMEoK,CAAAA,CAAN,CACJ,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CArBnB,CADmC,CAAhC,CAFwC,CAA5C,CAD8C,CA8BzDpE,EAAc5C,CAAAA,SAAUoH,CAAAA,kBAAxB,CAA6CC,QAAS,CAACzK,CAAD,CAAU,CAC5D,MAAO4D,EAAA,CAAU,IAAV,CAAgB,IAAK,EAArB,CAAwB,IAAK,EAA7B,CAAgC,QAAS,EAAG,CAAA,IAC3C1D,CAD2C;AACrCiH,CADqC,CAC5BuD,CACnB,OAAO/F,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CAEI,MADAlF,EACO,CADuB,QAAtB,GAAC,MAAQF,EAAT,CAAkC,GAAIqG,CAAUgE,CAAAA,WAAd,EAA2BrK,CAA3B,CAAlC,CAAwEA,CACzE,CAAA,CAAC,CAAD,CAAc,IAAK6H,CAAAA,UAAL,EAAd,CACX,MAAK,CAAL,CACIV,CACA,CADUuB,CAAGhD,CAAAA,IAAH,EACV,CAAAgD,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CAEI,MADAsD,EAAGnD,CAAAA,IAAKE,CAAAA,IAAR,CAAa,CAAC,CAAD,CAAI,CAAJ,CAAA,CAAS,CAAT,CAAb,CACO,CAAA,CAAC,CAAD,CAAc,IAAKqB,CAAAA,QAASiB,CAAAA,IAAd,CAAmB,UAAnB,CAA+B,CAACZ,CAAQxF,CAAAA,WAAR,EAAD,CAAwB,GAAIxB,CAAQmK,CAAAA,OAAZ,EAAqBpK,CAArB,CAAxB,CAA/B,CAAd,CACX,MAAK,CAAL,CAEA,MAAO,CAAC,CAAD,CAAewI,CAAGhD,CAAAA,IAAH,EAAf,CACP,MAAK,CAAL,CASI,KARAgF,EAQMA,CARIhC,CAAGhD,CAAAA,IAAH,EAQJgF,CAP2B,QAO3BA,GAPF,MAAQA,EAAQ1K,CAAAA,OAOd0K,EAPuCA,CAAQ1K,CAAAA,OAAQC,CAAAA,KAAhB,CAAsB,cAAtB,CAOvCyK,EANF3J,CAAOC,CAAAA,UAAP,CAAkB,uBAAlB,CAA2CC,CAASC,CAAAA,MAAOC,CAAAA,MAAO+H,CAAAA,eAAlE,CAAmF,CAC/EC,OAAQ,oBADuE,CAE/EZ,KAAMpB,CAFyE,CAG/EoD,YAAavK,CAHkE,CAAnF,CAME0K,CAAAA,CAAN,CACJ,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAvBnB,CADmC,CAAhC,CAFwC,CAA5C,CADqD,CAgChE1E;CAAc5C,CAAAA,SAAUuH,CAAAA,cAAxB,CAAyCC,QAAS,CAACC,CAAD,CAASC,CAAT,CAAgBhL,CAAhB,CAAuB,CACrE,MAAO8D,EAAA,CAAU,IAAV,CAAgB,IAAK,EAArB,CAAwB,IAAK,EAA7B,CAAgC,QAAS,EAAG,CAAA,IAC3CmH,CAD2C,CAChC5D,CADgC,CACvB6D,CADuB,CAE3ChE,EAAQ,IACZ,OAAOrC,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAAce,CAAO8E,CAAAA,iBAAkBC,CAAAA,YAAzB,CAAsCL,CAAtC,CAA8CC,CAA9C,CAAqDhL,CAArD,CAA4D,QAAS,CAACqL,CAAD,CAAO,CACjG,MAAOnE,EAAMF,CAAAA,QAAS6B,CAAAA,WAAf,CAA2BwC,CAA3B,CAD0F,CAA5E,CAAd,CAGf,MAAK,CAAL,CAEI,MADAJ,EACO,CADKrC,CAAGhD,CAAAA,IAAH,EACL,CAAA,CAAC,CAAD,CAAc,IAAKmC,CAAAA,UAAL,EAAd,CACX,MAAK,CAAL,CACIV,CACA,CADUuB,CAAGhD,CAAAA,IAAH,EACV,CAAAgD,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CAEI,MADAsD,EAAGnD,CAAAA,IAAKE,CAAAA,IAAR,CAAa,CAAC,CAAD,CAAI,CAAJ,CAAA,CAAS,CAAT,CAAb,CACO,CAAA,CAAC,CAAD,CAAc,IAAKqB,CAAAA,QAASiB,CAAAA,IAAd,CAAmB,sBAAnB,CAA2C,CACxDZ,CAAQxF,CAAAA,WAAR,EADwD,CAExDpB,IAAK6K,CAAAA,SAAL,CAAejF,CAAO8E,CAAAA,iBAAkBI,CAAAA,UAAzB,CAAoCN,CAAUF,CAAAA,MAA9C,CAAsDC,CAAtD,CAA6DC,CAAUjL,CAAAA,KAAvE,CAAf,CAFwD,CAA3C,CAAd,CAIX,MAAK,CAAL,CAAQ,MAAO,CAAC,CAAD;AAAe4I,CAAGhD,CAAAA,IAAH,EAAf,CACf,MAAK,CAAL,CASI,KARAsF,EAQMA,CARItC,CAAGhD,CAAAA,IAAH,EAQJsF,CAP2B,QAO3BA,GAPF,MAAQA,EAAQhL,CAAAA,OAOdgL,EAPuCA,CAAQhL,CAAAA,OAAQC,CAAAA,KAAhB,CAAsB,cAAtB,CAOvC+K,EANFjK,CAAOC,CAAAA,UAAP,CAAkB,uBAAlB,CAA2CC,CAASC,CAAAA,MAAOC,CAAAA,MAAO+H,CAAAA,eAAlE,CAAmF,CAC/EC,OAAQ,gBADuE,CAE/EZ,KAAMpB,CAFyE,CAG/EoD,YAAa,CAAEM,OAAQE,CAAUF,CAAAA,MAApB,CAA4BC,MAAOA,CAAnC,CAA0ChL,MAAOiL,CAAUjL,CAAAA,KAA3D,CAHkE,CAAnF,CAMEkL,CAAAA,CAAN,CACJ,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CA3BnB,CADmC,CAAhC,CAHwC,CAA5C,CAD8D,CAqCzEhF,EAAc5C,CAAAA,SAAUkI,CAAAA,MAAxB,CAAiCC,QAAS,CAACC,CAAD,CAAW,CACjD,MAAO5H,EAAA,CAAU,IAAV,CAAgB,IAAK,EAArB,CAAwB,IAAK,EAA7B,CAAgC,QAAS,EAAG,CAAA,IAC3CkD,CAD2C,CACjCK,CACd,OAAOxC,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CAEI,MADA0B,EACO,CADI,IAAKA,CAAAA,QACT,CAAA,CAAC,CAAD,CAAc,IAAKe,CAAAA,UAAL,EAAd,CACX,MAAK,CAAL,CAEI,MADAV,EACO,CADGuB,CAAGhD,CAAAA,IAAH,EACH,CAAA,CAAC,CAAD,CAAeoB,CAASiB,CAAAA,IAAT,CAAc,wBAAd;AAAwC,CAACZ,CAAQxF,CAAAA,WAAR,EAAD,CAAwB6J,CAAxB,CAAkC,IAAlC,CAAxC,CAAf,CANf,CADmC,CAAhC,CAFwC,CAA5C,CAD0C,CAerD,OAAOxF,EAhR0C,CAAlB,CAiRjCC,CAAkBwF,CAAAA,MAjRe,CAkRnC7L,EAAQoG,CAAAA,aAAR,CAAwBA,CACxB,KAAI0B,EAAwC,QAAS,CAACd,CAAD,CAAS,CAE1Dc,QAASA,EAAsB,EAAG,CAC9B,MAAkB,KAAlB,GAAOd,CAAP,EAA0BA,CAAOlC,CAAAA,KAAP,CAAa,IAAb,CAAmBgH,SAAnB,CAA1B,EAA2D,IAD7B,CADlC/I,CAAA,CAAU+E,CAAV,CAAkCd,CAAlC,CAIAc,EAAuBtE,CAAAA,SAAUkG,CAAAA,eAAjC,CAAmDqC,QAAS,CAAC9K,CAAD,CAAc,CACtE,IAAImG,EAAQ,IACZ,OAAO,KAAKiB,CAAAA,wBAAL,CAA8BpH,CAA9B,CAA2C4D,CAAAA,IAA3C,CAAgD,QAAS,CAACwE,CAAD,CAAO,CACnE,MAAO,CACHA,KAAMA,CADH,CAEH2C,MAAO,IAFJ,CAGHvD,SAAU,IAHP,CAIHwD,SAAU,IAJP,CAKH3L,KAAM,IALH,CAMHJ,MAAO,IANJ,CAOHgM,QAAS,IAPN,CAQHC,cAAe,CARZ,CASHxD,KAAM,IATH,CAUHyD,KAAMA,QAAS,CAACD,CAAD,CAAgB,CAAE,MAAO/E,EAAMF,CAAAA,QAASmF,CAAAA,kBAAf,CAAkChD,CAAlC,CAAwC8C,CAAxC,CAAT,CAV5B,CAD4D,CAAhE,CAF+D,CAiB1E,OAAOrE,EAtBmD,CAAlB,CAuB1C1B,CAvB0C,CAA5C,CAwBIkG,EAAyB,CACzBJ,QAAS,CAAA,CADgB,CACV5L,KAAM,CAAA,CADI,CACEmI,SAAU,CAAA,CADZ,CACkBwD,SAAU,CAAA,CAD5B,CACkCD,MAAO,CAAA,CADzC;AAC+CnD,GAAI,CAAA,CADnD,CACyD3I,MAAO,CAAA,CADhE,CAEzBqM,KAAM,CAAA,CAFmB,CAEbC,WAAY,CAAA,CAFC,CAGzBC,aAAc,CAAA,CAHW,CAGLC,qBAAsB,CAAA,CAHjB,CAKzBvG,EAAAA,CAAiC,QAAS,CAACa,CAAD,CAAS,CAEnDb,QAASA,EAAe,CAACwG,CAAD,CAAMC,CAAN,CAAe,CACnC,IAAIxF,EAAQ,IAGU,KAAtB,EAAIyF,CAAJ,GACIA,CADJ,CACqB,IAAIrK,OAAJ,CAAY,QAAS,CAACC,CAAD,CAAU6B,CAAV,CAAkB,CACpD5B,UAAA,CAAW,QAAS,EAAG,CACnB0E,CAAM0F,CAAAA,aAAN,EAAsBjI,CAAAA,IAAtB,CAA2B,QAAS,CAAC+H,CAAD,CAAU,CAC1CnK,CAAA,CAAQmK,CAAR,CAD0C,CAA9C,CAEG,QAAS,CAAC/L,CAAD,CAAQ,CAChByD,CAAA,CAAOzD,CAAP,CADgB,CAFpB,CADmB,CAAvB,CAMG,CANH,CADoD,CAAvC,CADrB,CAWAuG,EAAA,CAAQJ,CAAOtD,CAAAA,IAAP,CAAY,IAAZ,CAAkBmJ,CAAlB,CAAR,EAA6C,IAExCF,EAAL,GACIA,CADJ,CACU,GAAInG,CAAauG,CAAAA,SAAjB,EAA4B3F,CAAMxD,CAAAA,WAAlC,CAA+C,YAA/C,CAAA,EADV,CAGqB,SAArB,GAAI,MAAQ+I,EAAZ,CACI,GAAInG,CAAaa,CAAAA,cAAjB,EAAiCD,CAAjC,CAAwC,YAAxC,CAAsDjE,MAAO6J,CAAAA,MAAP,CAAc,CAChEL,IAAKA,CAD2D,CAAd,CAAtD,CADJ,CAMI,GAAInG,CAAaa,CAAAA,cAAjB,EAAiCD,CAAjC,CAAwC,YAAxC,CAAsDjE,MAAO6J,CAAAA,MAAP,CAAc,GAAIxG,CAAa+B,CAAAA,WAAjB,EAA8BoE,CAA9B,CAAd,CAAtD,CAEJvF,EAAM6F,CAAAA,OAAN,CAAgB,EAChB,OAAO7F,EA7B4B,CADvCrE,CAAA,CAAUoD,CAAV;AAA2Ba,CAA3B,CAgCA7D,OAAO+C,CAAAA,cAAP,CAAsBC,CAAgB3C,CAAAA,SAAtC,CAAiD,QAAjD,CAA2D,CACvD0J,IAAKA,QAAS,EAAG,CACe,IAA5B,EAAI,IAAKC,CAAAA,eAAT,GACI,IAAKA,CAAAA,eADT,CAC2B,EAD3B,CAGA,OAAO,KAAKA,CAAAA,eAJC,CADsC,CAOvDC,WAAY,CAAA,CAP2C,CAQvDC,aAAc,CAAA,CARyC,CAA3D,CAUAlH,EAAgBmH,CAAAA,UAAhB,CAA6BC,QAAS,EAAG,CACrC,MAAO,uBAD8B,CAGzCpH,EAAgB3C,CAAAA,SAAUsJ,CAAAA,aAA1B,CAA0CU,QAAS,EAAG,CAClD,IAAIpG,EAAQ,IACP,KAAKqG,CAAAA,MAAL,CAAA,aAAL,GACI,IAAKA,CAAAA,MAAL,CAAA,aAEA,CAF+B,IAAKC,CAAAA,sBAAL,EAE/B,CAAAhL,UAAA,CAAW,QAAS,EAAG,CACnB0E,CAAMqG,CAAAA,MAAN,CAAA,aAAA,CAAgC,IADb,CAAvB,CAEG,CAFH,CAHJ,CAOA,OAAO,KAAKA,CAAAA,MAAL,CAAA,aAT2C,CAWtDtH,EAAgB3C,CAAAA,SAAUkK,CAAAA,sBAA1B,CAAmDC,QAAS,EAAG,CAC3D,MAAO3J,EAAA,CAAU,IAAV;AAAgB,IAAK,EAArB,CAAwB,IAAK,EAA7B,CAAgC,QAAS,EAAG,CAAA,IAC3CkI,CAD2C,CAChB0B,CAC/B,OAAO7I,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAAclD,CAAA,CAAM,CAAN,CAAd,CACf,MAAK,CAAL,CACIwG,CAAGhD,CAAAA,IAAH,EAEA,CADAoG,CACA,CADU,IACV,CAAApD,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CAEI,MADAsD,EAAGnD,CAAAA,IAAKE,CAAAA,IAAR,CAAa,CAAC,CAAD,CAAI,CAAJ,CAAA,CAAS,CAAT,CAAb,CACO,CAAA,CAAC,CAAD,CAAc,IAAKsC,CAAAA,IAAL,CAAU,aAAV,CAAyB,EAAzB,CAAd,CACX,MAAK,CAAL,CAEI,MADA+D,EACO,CADGpD,CAAGhD,CAAAA,IAAH,EACH,CAAA,CAAC,CAAD,CAAc,CAAd,CACX,MAAK,CAAL,CACcgD,CAAGhD,CAAAA,IAAH,EACV,CAAAgD,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CAEI,MADAsD,EAAGnD,CAAAA,IAAKE,CAAAA,IAAR,CAAa,CAAC,CAAD,CAAI,CAAJ,CAAA,CAAS,CAAT,CAAb,CACO,CAAA,CAAC,CAAD,CAAc,IAAKsC,CAAAA,IAAL,CAAU,aAAV,CAAyB,EAAzB,CAAd,CACX,MAAK,CAAL,CAEI,MADA+D,EACO,CADGpD,CAAGhD,CAAAA,IAAH,EACH,CAAA,CAAC,CAAD,CAAc,CAAd,CACX,MAAK,CAAL,CAEI,MADUgD,EAAGhD,CAAAA,IAAH,EACH,CAAA,CAAC,CAAD,CAAc,CAAd,CACX,MAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAAc,CAAd,CACf,MAAK,CAAL,CACI,GAAe,IAAf,EAAIoG,CAAJ,CAAqB,CACjB0B,CAAA,CAAa,GAAIpH,CAAauG,CAAAA,SAAjB,EAA4B,IAAKnJ,CAAAA,WAAjC,CAA8C,YAA9C,CACb,IAAI,CACA,MAAO,CAAC,CAAD,CAAegK,CAAA,CAAWtH,CAAYuH,CAAAA,SAAUlF,CAAAA,IAAtB,CAA2BuD,CAA3B,CAAoC4B,CAAAA,QAApC,EAAX,CAAf,CADP,CAGJ,MAAOjN,CAAP,CAAc,CACV,MAAO,CAAC,CAAD;AAAeM,CAAOC,CAAAA,UAAP,CAAkB,0BAAlB,CAA8CC,CAASC,CAAAA,MAAOC,CAAAA,MAAOwM,CAAAA,aAArE,CAAoF,CAClG7B,QAASA,CADyF,CAElG8B,MAAO,gBAF2F,CAGlGC,YAAapN,CAHqF,CAApF,CAAf,CADG,CALG,CAarB,MAAO,CAAC,CAAD,CAAeM,CAAOC,CAAAA,UAAP,CAAkB,0BAAlB,CAA8CC,CAASC,CAAAA,MAAOC,CAAAA,MAAOwM,CAAAA,aAArE,CAAoF,CAClGC,MAAO,WAD2F,CAApF,CAAf,CAvCf,CADmC,CAAhC,CAFwC,CAA5C,CADoD,CAkD/D7H,EAAgB3C,CAAAA,SAAU0K,CAAAA,SAA1B,CAAsCC,QAAS,CAAChH,CAAD,CAAiB,CAC5D,MAAO,KAAIf,CAAJ,CAAkBW,CAAlB,CAAqC,IAArC,CAA2CI,CAA3C,CADqD,CAGhEhB,EAAgB3C,CAAAA,SAAU4K,CAAAA,kBAA1B,CAA+CC,QAAS,CAAClH,CAAD,CAAiB,CACrE,MAAO,KAAK+G,CAAAA,SAAL,CAAe/G,CAAf,CAA+BS,CAAAA,gBAA/B,EAD8D,CAGzEzB,EAAgB3C,CAAAA,SAAU8K,CAAAA,YAA1B,CAAyCC,QAAS,EAAG,CACjD,IAAInH,EAAQ,IACZ,OAAO,KAAKe,CAAAA,IAAL,CAAU,cAAV,CAA0B,EAA1B,CAA8BtD,CAAAA,IAA9B,CAAmC,QAAS,CAACuD,CAAD,CAAW,CAC1D,MAAOA,EAASoG,CAAAA,GAAT,CAAa,QAAS,CAACC,CAAD,CAAI,CAAE,MAAOrH,EAAME,CAAAA,SAAUC,CAAAA,OAAhB,CAAwBkH,CAAxB,CAAT,CAA1B,CADmD,CAAvD,CAF0C,CAMrDtI;CAAgB3C,CAAAA,SAAU2E,CAAAA,IAA1B,CAAiCuG,QAAS,CAAC3N,CAAD,CAASC,CAAT,CAAiB,CACvD,IAAIoG,EAAQ,IAAZ,CACIuH,EAAU,CACV5N,OAAQA,CADE,CAEVC,OAAQA,CAFE,CAGV4N,GAAK,IAAK3B,CAAAA,OAAL,EAHK,CAIV4B,QAAS,KAJC,CAMd,KAAKC,CAAAA,IAAL,CAAU,OAAV,CAAmB,CACfvF,OAAQ,SADO,CAEfoF,QAAS,GAAInI,CAAauI,CAAAA,QAAjB,EAA2BJ,CAA3B,CAFM,CAGfzH,SAAU,IAHK,CAAnB,CAQA,KADI8H,CACJ,CADmE,CACnE,EADa,CAAC,aAAD,CAAgB,iBAAhB,CAAmC3M,CAAAA,OAAnC,CAA2CtB,CAA3C,CACb,GAAa,IAAK0M,CAAAA,MAAL,CAAY1M,CAAZ,CAAb,CACI,MAAO,KAAK0M,CAAAA,MAAL,CAAY1M,CAAZ,CAEX,KAAIL,EAAS,GAAIiG,CAAMsI,CAAAA,SAAV,EAAqB,IAAKC,CAAAA,UAA1B,CAAsCvO,IAAK6K,CAAAA,SAAL,CAAemD,CAAf,CAAtC,CAA+DhM,CAA/D,CAA0EkC,CAAAA,IAA1E,CAA+E,QAAS,CAACnE,CAAD,CAAS,CAC1G0G,CAAM0H,CAAAA,IAAN,CAAW,OAAX,CAAoB,CAChBvF,OAAQ,UADQ,CAEhBoF,QAASA,CAFO,CAGhBQ,SAAUzO,CAHM,CAIhBwG,SAAUE,CAJM,CAApB,CAMA,OAAO1G,EAPmG,CAAjG,CAQV,QAAS,CAACG,CAAD,CAAQ,CAChBuG,CAAM0H,CAAAA,IAAN,CAAW,OAAX,CAAoB,CAChBvF,OAAQ,UADQ,CAEhB1I,MAAOA,CAFS,CAGhB8N,QAASA,CAHO,CAIhBzH,SAAUE,CAJM,CAApB,CAMA,MAAMvG,EAAN;AAPgB,CARP,CAkBTmO,EAAJ,GACI,IAAKvB,CAAAA,MAAL,CAAY1M,CAAZ,CACA,CADsBL,CACtB,CAAAgC,UAAA,CAAW,QAAS,EAAG,CACnB0E,CAAMqG,CAAAA,MAAN,CAAa1M,CAAb,CAAA,CAAuB,IADJ,CAAvB,CAEG,CAFH,CAFJ,CAMA,OAAOL,EA3CgD,CA6C3DyF,EAAgB3C,CAAAA,SAAU4L,CAAAA,cAA1B,CAA2CC,QAAS,CAACtO,CAAD,CAASC,CAAT,CAAiB,CACjE,OAAQD,CAAR,EACI,KAAK,gBAAL,CACI,MAAO,CAAC,iBAAD,CAAoB,EAApB,CACX,MAAK,aAAL,CACI,MAAO,CAAC,cAAD,CAAiB,EAAjB,CACX,MAAK,YAAL,CACI,MAAO,CAAC,gBAAD,CAAmB,CAAC+B,CAAA,CAAa9B,CAAOuG,CAAAA,OAApB,CAAD,CAA+BvG,CAAOsO,CAAAA,QAAtC,CAAnB,CACX,MAAK,qBAAL,CACI,MAAO,CAAC,yBAAD,CAA4B,CAACxM,CAAA,CAAa9B,CAAOuG,CAAAA,OAApB,CAAD,CAA+BvG,CAAOsO,CAAAA,QAAtC,CAA5B,CACX,MAAK,SAAL,CACI,MAAO,CAAC,aAAD,CAAgB,CAACxM,CAAA,CAAa9B,CAAOuG,CAAAA,OAApB,CAAD,CAA+BvG,CAAOsO,CAAAA,QAAtC,CAAhB,CACX,MAAK,cAAL,CACI,MAAO,CAAC,kBAAD,CAAqB,CAACxM,CAAA,CAAa9B,CAAOuG,CAAAA,OAApB,CAAD;AAA+B,GAAIhH,CAAQgP,CAAAA,UAAZ,EAAwBvO,CAAOwO,CAAAA,QAA/B,CAAyC,EAAzC,CAA/B,CAA6ExO,CAAOsO,CAAAA,QAApF,CAArB,CACX,MAAK,iBAAL,CACI,MAAO,CAAC,wBAAD,CAA2B,CAACtO,CAAOE,CAAAA,iBAAR,CAA3B,CACX,MAAK,UAAL,CACI,GAAIF,CAAOsO,CAAAA,QAAX,CACI,MAAO,CAAC,sBAAD,CAAyB,CAACtO,CAAOsO,CAAAA,QAAR,CAAkB,CAAC,CAACtO,CAAOyO,CAAAA,mBAA3B,CAAzB,CAEN,IAAIzO,CAAO0O,CAAAA,SAAX,CACD,MAAO,CAAC,oBAAD,CAAuB,CAAC1O,CAAO0O,CAAAA,SAAR,CAAmB,CAAC,CAAC1O,CAAOyO,CAAAA,mBAA5B,CAAvB,CAEX,MACJ,MAAK,gBAAL,CACI,MAAO,CAAC,0BAAD,CAA6B,CAACzO,CAAOqJ,CAAAA,eAAR,CAA7B,CACX,MAAK,uBAAL,CACI,MAAO,CAAC,2BAAD,CAA8B,CAACrJ,CAAOqJ,CAAAA,eAAR,CAA9B,CACX,MAAK,MAAL,CAEI,MADIjB,EACG,CADkB,GAAI5C,CAAauG,CAAAA,SAAjB,EAA4B,IAAKnJ,CAAAA,WAAjC;AAA8C,oBAA9C,CAClB,CAAA,CAAC,UAAD,CAAa,CAACwF,CAAA,CAAmBpI,CAAOC,CAAAA,WAA1B,CAAuC,CAAE0H,KAAM,CAAA,CAAR,CAAvC,CAAD,CAAyD3H,CAAOsO,CAAAA,QAAhE,CAAb,CAEX,MAAK,aAAL,CAEI,MADIlG,EACG,CADkB,GAAI5C,CAAauG,CAAAA,SAAjB,EAA4B,IAAKnJ,CAAAA,WAAjC,CAA8C,oBAA9C,CAClB,CAAA,CAAC,iBAAD,CAAoB,CAACwF,CAAA,CAAmBpI,CAAOC,CAAAA,WAA1B,CAAuC,CAAE0H,KAAM,CAAA,CAAR,CAAvC,CAAD,CAApB,CAEX,MAAK,SAAL,CAII,MAHI3H,EAAO2O,CAAAA,MAGJ,EAHuC,IAGvC,EAHc3O,CAAO2O,CAAAA,MAAOpI,CAAAA,OAG5B,GAFHvG,CAAO2O,CAAAA,MAAOpI,CAAAA,OAEX,CAFqBzE,CAAA,CAAa9B,CAAO2O,CAAAA,MAAOpI,CAAAA,OAA3B,CAErB,EAAA,CAAC,aAAD,CAAgB,CAACvG,CAAO2O,CAAAA,MAAR,CAAhB,CAvCf,CA2CA,MAAO,KA5C0D,CA8CrExJ,EAAgB3C,CAAAA,SAAUoM,CAAAA,OAA1B,CAAoCC,QAAS,CAAC9O,CAAD,CAASC,CAAT,CAAiB,CAC1D,MAAOgD,EAAA,CAAU,IAAV,CAAgB,IAAK,EAArB,CAAwB,IAAK,EAA7B,CAAgC,QAAS,EAAG,CAAA,IAC3CiF,CAD2C,CACvC6G,CADuC,CAC9BC,CAD8B,CACxBC,CACvB,OAAOjL,EAAA,CAAY,IAAZ,CAAkB,QAAS,CAAC+D,CAAD,CAAK,CACnC,OAAQA,CAAGtD,CAAAA,KAAX,EACI,KAAK,CAAL,CACI,MAAiB,MAAjB,GAAMzE,CAAN,EAAsC,aAAtC;AAA2BA,CAA3B,CAA6D,CAAC,CAAD,CAAc,CAAd,CAA7D,CAGA,CAFAkI,CAEA,CAFKjI,CAAOC,CAAAA,WAEZ,GADuB,IACvB,EADYgI,CAAGsD,CAAAA,IACf,EAD+BjG,CAAYuH,CAAAA,SAAUlF,CAAAA,IAAtB,CAA2BM,CAAGsD,CAAAA,IAA9B,CAAoC0D,CAAAA,MAApC,EAC/B,EAAyB,IAAzB,EAAMhH,CAAGwD,CAAAA,YAAT,EAA4D,IAA5D,EAAiCxD,CAAGyD,CAAAA,oBAApC,CACO,CAAC,CAAD,CAAc,IAAKwD,CAAAA,UAAL,EAAd,CADP,CAA0E,CAAC,CAAD,CAAc,CAAd,CAE9E,MAAK,CAAL,CACIJ,CAOA,CAPUhH,CAAGhD,CAAAA,IAAH,EAOV,CAN4B,IAM5B,EANIgK,CAAQrD,CAAAA,YAMZ,EANoE,IAMpE,EANoCqD,CAAQpD,CAAAA,oBAM5C,GAJI1L,CAEA,CAFS,GAAIwF,CAAa+B,CAAAA,WAAjB,EAA8BvH,CAA9B,CAET,CADAA,CAAOC,CAAAA,WACP,CADqB,GAAIuF,CAAa+B,CAAAA,WAAjB,EAA8BU,CAA9B,CACrB,CAAA,OAAOjI,CAAOC,CAAAA,WAAYsL,CAAAA,IAE9B,EAAAzD,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CACIuK,CAIA,CAJO,IAAKX,CAAAA,cAAL,CAAoBrO,CAApB,CAA4BC,CAA5B,CAIP,CAHY,IAGZ,EAHI+O,CAGJ,EAFI5O,CAAOC,CAAAA,UAAP,CAAkBL,CAAlB,CAA2B,kBAA3B,CAA+CM,CAASC,CAAAA,MAAOC,CAAAA,MAAO4O,CAAAA,eAAtE,CAAuF,CAAExI,UAAW5G,CAAb,CAAvF,CAEJ,CAAA+H,CAAGtD,CAAAA,KAAH,CAAW,CACf,MAAK,CAAL,CAEI,MADAsD,EAAGnD,CAAAA,IAAKE,CAAAA,IAAR,CAAa,CAAC,CAAD,CAAI,CAAJ,CAAA,CAAS,CAAT,CAAb,CACO,CAAA,CAAC,CAAD,CAAc,IAAKsC,CAAAA,IAAL,CAAU4H,CAAA,CAAK,CAAL,CAAV;AAAmBA,CAAA,CAAK,CAAL,CAAnB,CAAd,CACX,MAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CAAejH,CAAGhD,CAAAA,IAAH,EAAf,CACf,MAAK,CAAL,CAEI,MADAkK,EACO,CADGlH,CAAGhD,CAAAA,IAAH,EACH,CAAA,CAAC,CAAD,CAAehF,CAAA,CAAWC,CAAX,CAAmBiP,CAAnB,CAA4BhP,CAA5B,CAAf,CACX,MAAK,CAAL,CAAQ,MAAO,CAAC,CAAD,CA7BnB,CADmC,CAAhC,CAFwC,CAA5C,CADmD,CAsC9DmF,EAAgB3C,CAAAA,SAAU4M,CAAAA,WAA1B,CAAwCC,QAAS,CAACrC,CAAD,CAAQ,CACnC,SAAlB,GAAIA,CAAMsC,CAAAA,GAAV,EACI,IAAKC,CAAAA,aAAL,EAEJvJ,EAAOxD,CAAAA,SAAU4M,CAAAA,WAAY1M,CAAAA,IAA7B,CAAkC,IAAlC,CAAwCsK,CAAxC,CAJqD,CAMzD7H,EAAgB3C,CAAAA,SAAU+M,CAAAA,aAA1B,CAA0CC,QAAS,EAAG,CAClD,GAA2B,IAA3B,EAAI,IAAKC,CAAAA,cAAT,CAAA,CAGA,IAAIC,EAAO,IAAX,CACIC,EAAgB,IAAKxI,CAAAA,IAAL,CAAU,iCAAV,CAA6C,EAA7C,CACpB,KAAKsI,CAAAA,cAAL,CAAsBE,CACtBA,EAAc9L,CAAAA,IAAd,CAAmB,QAAS,CAAC+L,CAAD,CAAW,CACnC5G,QAASA,EAAI,EAAG,CACZ0G,CAAKvI,CAAAA,IAAL,CAAU,sBAAV,CAAkC,CAACyI,CAAD,CAAlC,CAA8C/L,CAAAA,IAA9C,CAAmD,QAAS,CAACgM,CAAD,CAAS,CACjE,GAAIH,CAAKD,CAAAA,cAAT,EAA2BE,CAA3B,CACI,MAAO,KAEX,KAAIG,EAAMtO,OAAQC,CAAAA,OAAR,EACVoO;CAAOE,CAAAA,OAAP,CAAe,QAAS,CAAC1H,CAAD,CAAO,CAE3BqH,CAAKM,CAAAA,QAAL,CAAc,IAAd,CAAqB3H,CAAKtH,CAAAA,WAAL,EAArB,CAAA,CAA2C,SAC3C+O,EAAA,CAAMA,CAAIjM,CAAAA,IAAJ,CAAS,QAAS,EAAG,CACvB,MAAO6L,EAAKzG,CAAAA,cAAL,CAAoBZ,CAApB,CAA0BxE,CAAAA,IAA1B,CAA+B,QAAS,CAACoE,CAAD,CAAK,CAChDyH,CAAK5B,CAAAA,IAAL,CAAU,SAAV,CAAqB7F,CAArB,CACA,OAAO,KAFyC,CAA7C,CADgB,CAArB,CAHqB,CAA/B,CAUA,OAAO6H,EAAIjM,CAAAA,IAAJ,CAAS,QAAS,EAAG,CACxB,MAAOvC,EAAA,CAAM,GAAN,CADiB,CAArB,CAf0D,CAArE,CAkBGuC,CAAAA,IAlBH,CAkBQ,QAAS,EAAG,CAChB,GAAI6L,CAAKD,CAAAA,cAAT,EAA2BE,CAA3B,CACID,CAAKvI,CAAAA,IAAL,CAAU,qBAAV,CAAiC,CAACyI,CAAD,CAAjC,CADJ,KAKA,OADAlO,WAAA,CAAW,QAAS,EAAG,CAAEsH,CAAA,EAAF,CAAvB,CAAoC,CAApC,CACO,CAAA,IANS,CAlBpB,CAyBGiH,CAAAA,KAzBH,CAyBS,QAAS,CAACpQ,CAAD,CAAQ,EAzB1B,CADY,CA4BhBmJ,CAAA,EACA,OAAO4G,EA9B4B,CAAvC,CA+BGK,CAAAA,KA/BH,CA+BS,QAAS,CAACpQ,CAAD,CAAQ,EA/B1B,CANA,CADkD,CAwCtDsF,EAAgB3C,CAAAA,SAAU0N,CAAAA,UAA1B,CAAuCC,QAAS,CAACnD,CAAD,CAAQ,CAClC,SAAlB,GAAIA,CAAMsC,CAAAA,GAAV,EAAiE,CAAjE,GAA+B,IAAKc,CAAAA,aAAL,CAAmB,SAAnB,CAA/B,GACI,IAAKX,CAAAA,cADT;AAC0B,IAD1B,CAGAzJ,EAAOxD,CAAAA,SAAU0N,CAAAA,UAAWxN,CAAAA,IAA5B,CAAiC,IAAjC,CAAuCsK,CAAvC,CAJoD,CAexD7H,EAAgBiD,CAAAA,kBAAhB,CAAqCiI,QAAS,CAACpQ,CAAD,CAAcqQ,CAAd,CAA0B,CAEpE,IAAIC,EAAU,GAAI/K,CAAa+B,CAAAA,WAAjB,EAA8B+D,CAA9B,CACd,IAAIgF,CAAJ,CACI,IAAK7Q,IAAIA,CAAT,GAAgB6Q,EAAhB,CACQA,CAAA,CAAW7Q,CAAX,CAAJ,GACI8Q,CAAA,CAAQ9Q,CAAR,CADJ,CACmB,CAAA,CADnB,CAKR,IAAI+F,CAAagL,CAAAA,eAAjB,EAAkCvQ,CAAlC,CAA+CsQ,CAA/C,CACA,KAAI7Q,EAAS,EAEb,+EAAA,CAAA,KAAA,CAAA,GAAA,CAAsGqQ,CAAAA,OAAtG,CAA8G,QAAS,CAACtQ,CAAD,CAAM,CACzH,GAAwB,IAAxB,EAAIQ,CAAA,CAAYR,CAAZ,CAAJ,CAAA,CAGA,IAAIP,EAAQ,GAAIK,CAAQkR,CAAAA,QAAZ,EAAsBnL,CAAYuH,CAAAA,SAAUlF,CAAAA,IAAtB,CAA2B1H,CAAA,CAAYR,CAAZ,CAA3B,CAAtB,CACA,WAAZ,GAAIA,CAAJ,GACIA,CADJ,CACU,KADV,CAGAC,EAAA,CAAOD,CAAP,CAAA,CAAcP,CAPd,CADyH,CAA7H,CAUA,EAAC,MAAD,CAAS,IAAT,CAAe,MAAf,CAAuB6Q,CAAAA,OAAvB,CAA+B,QAAS,CAACtQ,CAAD,CAAM,CAClB,IAAxB,EAAIQ,CAAA,CAAYR,CAAZ,CAAJ,GAGAC,CAAA,CAAOD,CAAP,CAHA,CAGc,GAAIF,CAAQmK,CAAAA,OAAZ,EAAqBzJ,CAAA,CAAYR,CAAZ,CAArB,CAHd,CAD0C,CAA9C,CAMIQ,EAAYuL,CAAAA,UAAhB,GACI9L,CAAA,CAAA,UADJ,CAC2B,GAAIgG,CAAegL,CAAAA,aAAnB,EAAkCzQ,CAAYuL,CAAAA,UAA9C,CAD3B,CAGA;MAAO9L,EAhC6D,CAkCxE,OAAOyF,EAvV4C,CAAlB,CAwVnCW,CAAgB6K,CAAAA,YAxVmB,CAyVrC3R,EAAQmG,CAAAA,eAAR,CAA0BA,CAt1BoC;\",\n\"sources\":[\"node_modules/@ethersproject/providers/lib/json-rpc-provider.js\"],\n\"sourcesContent\":[\"shadow$provide[336] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        if (typeof b !== \\\"function\\\" && b !== null)\\n            throw new TypeError(\\\"Class extends value \\\" + String(b) + \\\" is not a constructor or null\\\");\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nvar __awaiter = (this && this.__awaiter) || function (thisArg, _arguments, P, generator) {\\n    function adopt(value) { return value instanceof P ? value : new P(function (resolve) { resolve(value); }); }\\n    return new (P || (P = Promise))(function (resolve, reject) {\\n        function fulfilled(value) { try { step(generator.next(value)); } catch (e) { reject(e); } }\\n        function rejected(value) { try { step(generator[\\\"throw\\\"](value)); } catch (e) { reject(e); } }\\n        function step(result) { result.done ? resolve(result.value) : adopt(result.value).then(fulfilled, rejected); }\\n        step((generator = generator.apply(thisArg, _arguments || [])).next());\\n    });\\n};\\nvar __generator = (this && this.__generator) || function (thisArg, body) {\\n    var _ = { label: 0, sent: function() { if (t[0] & 1) throw t[1]; return t[1]; }, trys: [], ops: [] }, f, y, t, g;\\n    return g = { next: verb(0), \\\"throw\\\": verb(1), \\\"return\\\": verb(2) }, typeof Symbol === \\\"function\\\" && (g[Symbol.iterator] = function() { return this; }), g;\\n    function verb(n) { return function (v) { return step([n, v]); }; }\\n    function step(op) {\\n        if (f) throw new TypeError(\\\"Generator is already executing.\\\");\\n        while (_) try {\\n            if (f = 1, y && (t = op[0] & 2 ? y[\\\"return\\\"] : op[0] ? y[\\\"throw\\\"] || ((t = y[\\\"return\\\"]) && t.call(y), 0) : y.next) && !(t = t.call(y, op[1])).done) return t;\\n            if (y = 0, t) op = [op[0] & 2, t.value];\\n            switch (op[0]) {\\n                case 0: case 1: t = op; break;\\n                case 4: _.label++; return { value: op[1], done: false };\\n                case 5: _.label++; y = op[1]; op = [0]; continue;\\n                case 7: op = _.ops.pop(); _.trys.pop(); continue;\\n                default:\\n                    if (!(t = _.trys, t = t.length > 0 && t[t.length - 1]) && (op[0] === 6 || op[0] === 2)) { _ = 0; continue; }\\n                    if (op[0] === 3 && (!t || (op[1] > t[0] && op[1] < t[3]))) { _.label = op[1]; break; }\\n                    if (op[0] === 6 && _.label < t[1]) { _.label = t[1]; t = op; break; }\\n                    if (t && _.label < t[2]) { _.label = t[2]; _.ops.push(op); break; }\\n                    if (t[2]) _.ops.pop();\\n                    _.trys.pop(); continue;\\n            }\\n            op = body.call(thisArg, _);\\n        } catch (e) { op = [6, e]; y = 0; } finally { f = t = 0; }\\n        if (op[0] & 5) throw op[1]; return { value: op[0] ? op[1] : void 0, done: true };\\n    }\\n};\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.JsonRpcProvider = exports.JsonRpcSigner = void 0;\\nvar abstract_signer_1 = require(\\\"@ethersproject/abstract-signer\\\");\\nvar bignumber_1 = require(\\\"@ethersproject/bignumber\\\");\\nvar bytes_1 = require(\\\"@ethersproject/bytes\\\");\\nvar hash_1 = require(\\\"@ethersproject/hash\\\");\\nvar properties_1 = require(\\\"@ethersproject/properties\\\");\\nvar strings_1 = require(\\\"@ethersproject/strings\\\");\\nvar transactions_1 = require(\\\"@ethersproject/transactions\\\");\\nvar web_1 = require(\\\"@ethersproject/web\\\");\\nvar logger_1 = require(\\\"@ethersproject/logger\\\");\\nvar _version_1 = require(\\\"./_version\\\");\\nvar logger = new logger_1.Logger(_version_1.version);\\nvar base_provider_1 = require(\\\"./base-provider\\\");\\nvar errorGas = [\\\"call\\\", \\\"estimateGas\\\"];\\nfunction spelunk(value, requireData) {\\n    if (value == null) {\\n        return null;\\n    }\\n    // These *are* the droids we're looking for.\\n    if (typeof (value.message) === \\\"string\\\" && value.message.match(\\\"reverted\\\")) {\\n        var data = (0, bytes_1.isHexString)(value.data) ? value.data : null;\\n        if (!requireData || data) {\\n            return { message: value.message, data: data };\\n        }\\n    }\\n    // Spelunk further...\\n    if (typeof (value) === \\\"object\\\") {\\n        for (var key in value) {\\n            var result = spelunk(value[key], requireData);\\n            if (result) {\\n                return result;\\n            }\\n        }\\n        return null;\\n    }\\n    // Might be a JSON string we can further descend...\\n    if (typeof (value) === \\\"string\\\") {\\n        try {\\n            return spelunk(JSON.parse(value), requireData);\\n        }\\n        catch (error) { }\\n    }\\n    return null;\\n}\\nfunction checkError(method, error, params) {\\n    var transaction = params.transaction || params.signedTransaction;\\n    // Undo the \\\"convenience\\\" some nodes are attempting to prevent backwards\\n    // incompatibility; maybe for v6 consider forwarding reverts as errors\\n    if (method === \\\"call\\\") {\\n        var result = spelunk(error, true);\\n        if (result) {\\n            return result.data;\\n        }\\n        // Nothing descriptive..\\n        logger.throwError(\\\"missing revert data in call exception; Transaction reverted without a reason string\\\", logger_1.Logger.errors.CALL_EXCEPTION, {\\n            data: \\\"0x\\\",\\n            transaction: transaction,\\n            error: error\\n        });\\n    }\\n    if (method === \\\"estimateGas\\\") {\\n        // Try to find something, with a preference on SERVER_ERROR body\\n        var result = spelunk(error.body, false);\\n        if (result == null) {\\n            result = spelunk(error, false);\\n        }\\n        // Found \\\"reverted\\\", this is a CALL_EXCEPTION\\n        if (result) {\\n            logger.throwError(\\\"cannot estimate gas; transaction may fail or may require manual gas limit\\\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\\n                reason: result.message,\\n                method: method,\\n                transaction: transaction,\\n                error: error\\n            });\\n        }\\n    }\\n    // @TODO: Should we spelunk for message too?\\n    var message = error.message;\\n    if (error.code === logger_1.Logger.errors.SERVER_ERROR && error.error && typeof (error.error.message) === \\\"string\\\") {\\n        message = error.error.message;\\n    }\\n    else if (typeof (error.body) === \\\"string\\\") {\\n        message = error.body;\\n    }\\n    else if (typeof (error.responseText) === \\\"string\\\") {\\n        message = error.responseText;\\n    }\\n    message = (message || \\\"\\\").toLowerCase();\\n    // \\\"insufficient funds for gas * price + value + cost(data)\\\"\\n    if (message.match(/insufficient funds|base fee exceeds gas limit|InsufficientFunds/i)) {\\n        logger.throwError(\\\"insufficient funds for intrinsic transaction cost\\\", logger_1.Logger.errors.INSUFFICIENT_FUNDS, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"nonce too low\\\"\\n    if (message.match(/nonce (is )?too low/i)) {\\n        logger.throwError(\\\"nonce has already been used\\\", logger_1.Logger.errors.NONCE_EXPIRED, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"replacement transaction underpriced\\\"\\n    if (message.match(/replacement transaction underpriced|transaction gas price.*too low/i)) {\\n        logger.throwError(\\\"replacement fee too low\\\", logger_1.Logger.errors.REPLACEMENT_UNDERPRICED, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    // \\\"replacement transaction underpriced\\\"\\n    if (message.match(/only replay-protected/i)) {\\n        logger.throwError(\\\"legacy pre-eip-155 transactions not supported\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    if (errorGas.indexOf(method) >= 0 && message.match(/gas required exceeds allowance|always failing transaction|execution reverted|revert/)) {\\n        logger.throwError(\\\"cannot estimate gas; transaction may fail or may require manual gas limit\\\", logger_1.Logger.errors.UNPREDICTABLE_GAS_LIMIT, {\\n            error: error,\\n            method: method,\\n            transaction: transaction\\n        });\\n    }\\n    throw error;\\n}\\nfunction timer(timeout) {\\n    return new Promise(function (resolve) {\\n        setTimeout(resolve, timeout);\\n    });\\n}\\nfunction getResult(payload) {\\n    if (payload.error) {\\n        // @TODO: not any\\n        var error = new Error(payload.error.message);\\n        error.code = payload.error.code;\\n        error.data = payload.error.data;\\n        throw error;\\n    }\\n    return payload.result;\\n}\\nfunction getLowerCase(value) {\\n    if (value) {\\n        return value.toLowerCase();\\n    }\\n    return value;\\n}\\nvar _constructorGuard = {};\\nvar JsonRpcSigner = /** @class */ (function (_super) {\\n    __extends(JsonRpcSigner, _super);\\n    function JsonRpcSigner(constructorGuard, provider, addressOrIndex) {\\n        var _this = _super.call(this) || this;\\n        if (constructorGuard !== _constructorGuard) {\\n            throw new Error(\\\"do not call the JsonRpcSigner constructor directly; use provider.getSigner\\\");\\n        }\\n        (0, properties_1.defineReadOnly)(_this, \\\"provider\\\", provider);\\n        if (addressOrIndex == null) {\\n            addressOrIndex = 0;\\n        }\\n        if (typeof (addressOrIndex) === \\\"string\\\") {\\n            (0, properties_1.defineReadOnly)(_this, \\\"_address\\\", _this.provider.formatter.address(addressOrIndex));\\n            (0, properties_1.defineReadOnly)(_this, \\\"_index\\\", null);\\n        }\\n        else if (typeof (addressOrIndex) === \\\"number\\\") {\\n            (0, properties_1.defineReadOnly)(_this, \\\"_index\\\", addressOrIndex);\\n            (0, properties_1.defineReadOnly)(_this, \\\"_address\\\", null);\\n        }\\n        else {\\n            logger.throwArgumentError(\\\"invalid address or index\\\", \\\"addressOrIndex\\\", addressOrIndex);\\n        }\\n        return _this;\\n    }\\n    JsonRpcSigner.prototype.connect = function (provider) {\\n        return logger.throwError(\\\"cannot alter JSON-RPC Signer connection\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n            operation: \\\"connect\\\"\\n        });\\n    };\\n    JsonRpcSigner.prototype.connectUnchecked = function () {\\n        return new UncheckedJsonRpcSigner(_constructorGuard, this.provider, this._address || this._index);\\n    };\\n    JsonRpcSigner.prototype.getAddress = function () {\\n        var _this = this;\\n        if (this._address) {\\n            return Promise.resolve(this._address);\\n        }\\n        return this.provider.send(\\\"eth_accounts\\\", []).then(function (accounts) {\\n            if (accounts.length <= _this._index) {\\n                logger.throwError(\\\"unknown account #\\\" + _this._index, logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n                    operation: \\\"getAddress\\\"\\n                });\\n            }\\n            return _this.provider.formatter.address(accounts[_this._index]);\\n        });\\n    };\\n    JsonRpcSigner.prototype.sendUncheckedTransaction = function (transaction) {\\n        var _this = this;\\n        transaction = (0, properties_1.shallowCopy)(transaction);\\n        var fromAddress = this.getAddress().then(function (address) {\\n            if (address) {\\n                address = address.toLowerCase();\\n            }\\n            return address;\\n        });\\n        // The JSON-RPC for eth_sendTransaction uses 90000 gas; if the user\\n        // wishes to use this, it is easy to specify explicitly, otherwise\\n        // we look it up for them.\\n        if (transaction.gasLimit == null) {\\n            var estimate = (0, properties_1.shallowCopy)(transaction);\\n            estimate.from = fromAddress;\\n            transaction.gasLimit = this.provider.estimateGas(estimate);\\n        }\\n        if (transaction.to != null) {\\n            transaction.to = Promise.resolve(transaction.to).then(function (to) { return __awaiter(_this, void 0, void 0, function () {\\n                var address;\\n                return __generator(this, function (_a) {\\n                    switch (_a.label) {\\n                        case 0:\\n                            if (to == null) {\\n                                return [2 /*return*/, null];\\n                            }\\n                            return [4 /*yield*/, this.provider.resolveName(to)];\\n                        case 1:\\n                            address = _a.sent();\\n                            if (address == null) {\\n                                logger.throwArgumentError(\\\"provided ENS name resolves to null\\\", \\\"tx.to\\\", to);\\n                            }\\n                            return [2 /*return*/, address];\\n                    }\\n                });\\n            }); });\\n        }\\n        return (0, properties_1.resolveProperties)({\\n            tx: (0, properties_1.resolveProperties)(transaction),\\n            sender: fromAddress\\n        }).then(function (_a) {\\n            var tx = _a.tx, sender = _a.sender;\\n            if (tx.from != null) {\\n                if (tx.from.toLowerCase() !== sender) {\\n                    logger.throwArgumentError(\\\"from address mismatch\\\", \\\"transaction\\\", transaction);\\n                }\\n            }\\n            else {\\n                tx.from = sender;\\n            }\\n            var hexTx = _this.provider.constructor.hexlifyTransaction(tx, { from: true });\\n            return _this.provider.send(\\\"eth_sendTransaction\\\", [hexTx]).then(function (hash) {\\n                return hash;\\n            }, function (error) {\\n                if (typeof (error.message) === \\\"string\\\" && error.message.match(/user denied/i)) {\\n                    logger.throwError(\\\"user rejected transaction\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                        action: \\\"sendTransaction\\\",\\n                        transaction: tx\\n                    });\\n                }\\n                return checkError(\\\"sendTransaction\\\", error, hexTx);\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype.signTransaction = function (transaction) {\\n        return logger.throwError(\\\"signing transactions is unsupported\\\", logger_1.Logger.errors.UNSUPPORTED_OPERATION, {\\n            operation: \\\"signTransaction\\\"\\n        });\\n    };\\n    JsonRpcSigner.prototype.sendTransaction = function (transaction) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var blockNumber, hash, error_1;\\n            var _this = this;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0: return [4 /*yield*/, this.provider._getInternalBlockNumber(100 + 2 * this.provider.pollingInterval)];\\n                    case 1:\\n                        blockNumber = _a.sent();\\n                        return [4 /*yield*/, this.sendUncheckedTransaction(transaction)];\\n                    case 2:\\n                        hash = _a.sent();\\n                        _a.label = 3;\\n                    case 3:\\n                        _a.trys.push([3, 5, , 6]);\\n                        return [4 /*yield*/, (0, web_1.poll)(function () { return __awaiter(_this, void 0, void 0, function () {\\n                                var tx;\\n                                return __generator(this, function (_a) {\\n                                    switch (_a.label) {\\n                                        case 0: return [4 /*yield*/, this.provider.getTransaction(hash)];\\n                                        case 1:\\n                                            tx = _a.sent();\\n                                            if (tx === null) {\\n                                                return [2 /*return*/, undefined];\\n                                            }\\n                                            return [2 /*return*/, this.provider._wrapTransaction(tx, hash, blockNumber)];\\n                                    }\\n                                });\\n                            }); }, { oncePoll: this.provider })];\\n                    case 4: \\n                    // Unfortunately, JSON-RPC only provides and opaque transaction hash\\n                    // for a response, and we need the actual transaction, so we poll\\n                    // for it; it should show up very quickly\\n                    return [2 /*return*/, _a.sent()];\\n                    case 5:\\n                        error_1 = _a.sent();\\n                        error_1.transactionHash = hash;\\n                        throw error_1;\\n                    case 6: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype.signMessage = function (message) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var data, address, error_2;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        data = ((typeof (message) === \\\"string\\\") ? (0, strings_1.toUtf8Bytes)(message) : message);\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 1:\\n                        address = _a.sent();\\n                        _a.label = 2;\\n                    case 2:\\n                        _a.trys.push([2, 4, , 5]);\\n                        return [4 /*yield*/, this.provider.send(\\\"personal_sign\\\", [(0, bytes_1.hexlify)(data), address.toLowerCase()])];\\n                    case 3: return [2 /*return*/, _a.sent()];\\n                    case 4:\\n                        error_2 = _a.sent();\\n                        if (typeof (error_2.message) === \\\"string\\\" && error_2.message.match(/user denied/i)) {\\n                            logger.throwError(\\\"user rejected signing\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                                action: \\\"signMessage\\\",\\n                                from: address,\\n                                messageData: message\\n                            });\\n                        }\\n                        throw error_2;\\n                    case 5: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype._legacySignMessage = function (message) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var data, address, error_3;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        data = ((typeof (message) === \\\"string\\\") ? (0, strings_1.toUtf8Bytes)(message) : message);\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 1:\\n                        address = _a.sent();\\n                        _a.label = 2;\\n                    case 2:\\n                        _a.trys.push([2, 4, , 5]);\\n                        return [4 /*yield*/, this.provider.send(\\\"eth_sign\\\", [address.toLowerCase(), (0, bytes_1.hexlify)(data)])];\\n                    case 3: \\n                    // https://github.com/ethereum/wiki/wiki/JSON-RPC#eth_sign\\n                    return [2 /*return*/, _a.sent()];\\n                    case 4:\\n                        error_3 = _a.sent();\\n                        if (typeof (error_3.message) === \\\"string\\\" && error_3.message.match(/user denied/i)) {\\n                            logger.throwError(\\\"user rejected signing\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                                action: \\\"_legacySignMessage\\\",\\n                                from: address,\\n                                messageData: message\\n                            });\\n                        }\\n                        throw error_3;\\n                    case 5: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype._signTypedData = function (domain, types, value) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var populated, address, error_4;\\n            var _this = this;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0: return [4 /*yield*/, hash_1._TypedDataEncoder.resolveNames(domain, types, value, function (name) {\\n                            return _this.provider.resolveName(name);\\n                        })];\\n                    case 1:\\n                        populated = _a.sent();\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 2:\\n                        address = _a.sent();\\n                        _a.label = 3;\\n                    case 3:\\n                        _a.trys.push([3, 5, , 6]);\\n                        return [4 /*yield*/, this.provider.send(\\\"eth_signTypedData_v4\\\", [\\n                                address.toLowerCase(),\\n                                JSON.stringify(hash_1._TypedDataEncoder.getPayload(populated.domain, types, populated.value))\\n                            ])];\\n                    case 4: return [2 /*return*/, _a.sent()];\\n                    case 5:\\n                        error_4 = _a.sent();\\n                        if (typeof (error_4.message) === \\\"string\\\" && error_4.message.match(/user denied/i)) {\\n                            logger.throwError(\\\"user rejected signing\\\", logger_1.Logger.errors.ACTION_REJECTED, {\\n                                action: \\\"_signTypedData\\\",\\n                                from: address,\\n                                messageData: { domain: populated.domain, types: types, value: populated.value }\\n                            });\\n                        }\\n                        throw error_4;\\n                    case 6: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcSigner.prototype.unlock = function (password) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var provider, address;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        provider = this.provider;\\n                        return [4 /*yield*/, this.getAddress()];\\n                    case 1:\\n                        address = _a.sent();\\n                        return [2 /*return*/, provider.send(\\\"personal_unlockAccount\\\", [address.toLowerCase(), password, null])];\\n                }\\n            });\\n        });\\n    };\\n    return JsonRpcSigner;\\n}(abstract_signer_1.Signer));\\nexports.JsonRpcSigner = JsonRpcSigner;\\nvar UncheckedJsonRpcSigner = /** @class */ (function (_super) {\\n    __extends(UncheckedJsonRpcSigner, _super);\\n    function UncheckedJsonRpcSigner() {\\n        return _super !== null && _super.apply(this, arguments) || this;\\n    }\\n    UncheckedJsonRpcSigner.prototype.sendTransaction = function (transaction) {\\n        var _this = this;\\n        return this.sendUncheckedTransaction(transaction).then(function (hash) {\\n            return {\\n                hash: hash,\\n                nonce: null,\\n                gasLimit: null,\\n                gasPrice: null,\\n                data: null,\\n                value: null,\\n                chainId: null,\\n                confirmations: 0,\\n                from: null,\\n                wait: function (confirmations) { return _this.provider.waitForTransaction(hash, confirmations); }\\n            };\\n        });\\n    };\\n    return UncheckedJsonRpcSigner;\\n}(JsonRpcSigner));\\nvar allowedTransactionKeys = {\\n    chainId: true, data: true, gasLimit: true, gasPrice: true, nonce: true, to: true, value: true,\\n    type: true, accessList: true,\\n    maxFeePerGas: true, maxPriorityFeePerGas: true\\n};\\nvar JsonRpcProvider = /** @class */ (function (_super) {\\n    __extends(JsonRpcProvider, _super);\\n    function JsonRpcProvider(url, network) {\\n        var _this = this;\\n        var networkOrReady = network;\\n        // The network is unknown, query the JSON-RPC for it\\n        if (networkOrReady == null) {\\n            networkOrReady = new Promise(function (resolve, reject) {\\n                setTimeout(function () {\\n                    _this.detectNetwork().then(function (network) {\\n                        resolve(network);\\n                    }, function (error) {\\n                        reject(error);\\n                    });\\n                }, 0);\\n            });\\n        }\\n        _this = _super.call(this, networkOrReady) || this;\\n        // Default URL\\n        if (!url) {\\n            url = (0, properties_1.getStatic)(_this.constructor, \\\"defaultUrl\\\")();\\n        }\\n        if (typeof (url) === \\\"string\\\") {\\n            (0, properties_1.defineReadOnly)(_this, \\\"connection\\\", Object.freeze({\\n                url: url\\n            }));\\n        }\\n        else {\\n            (0, properties_1.defineReadOnly)(_this, \\\"connection\\\", Object.freeze((0, properties_1.shallowCopy)(url)));\\n        }\\n        _this._nextId = 42;\\n        return _this;\\n    }\\n    Object.defineProperty(JsonRpcProvider.prototype, \\\"_cache\\\", {\\n        get: function () {\\n            if (this._eventLoopCache == null) {\\n                this._eventLoopCache = {};\\n            }\\n            return this._eventLoopCache;\\n        },\\n        enumerable: false,\\n        configurable: true\\n    });\\n    JsonRpcProvider.defaultUrl = function () {\\n        return \\\"http:/\\\\/localhost:8545\\\";\\n    };\\n    JsonRpcProvider.prototype.detectNetwork = function () {\\n        var _this = this;\\n        if (!this._cache[\\\"detectNetwork\\\"]) {\\n            this._cache[\\\"detectNetwork\\\"] = this._uncachedDetectNetwork();\\n            // Clear this cache at the beginning of the next event loop\\n            setTimeout(function () {\\n                _this._cache[\\\"detectNetwork\\\"] = null;\\n            }, 0);\\n        }\\n        return this._cache[\\\"detectNetwork\\\"];\\n    };\\n    JsonRpcProvider.prototype._uncachedDetectNetwork = function () {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var chainId, error_5, error_6, getNetwork;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0: return [4 /*yield*/, timer(0)];\\n                    case 1:\\n                        _a.sent();\\n                        chainId = null;\\n                        _a.label = 2;\\n                    case 2:\\n                        _a.trys.push([2, 4, , 9]);\\n                        return [4 /*yield*/, this.send(\\\"eth_chainId\\\", [])];\\n                    case 3:\\n                        chainId = _a.sent();\\n                        return [3 /*break*/, 9];\\n                    case 4:\\n                        error_5 = _a.sent();\\n                        _a.label = 5;\\n                    case 5:\\n                        _a.trys.push([5, 7, , 8]);\\n                        return [4 /*yield*/, this.send(\\\"net_version\\\", [])];\\n                    case 6:\\n                        chainId = _a.sent();\\n                        return [3 /*break*/, 8];\\n                    case 7:\\n                        error_6 = _a.sent();\\n                        return [3 /*break*/, 8];\\n                    case 8: return [3 /*break*/, 9];\\n                    case 9:\\n                        if (chainId != null) {\\n                            getNetwork = (0, properties_1.getStatic)(this.constructor, \\\"getNetwork\\\");\\n                            try {\\n                                return [2 /*return*/, getNetwork(bignumber_1.BigNumber.from(chainId).toNumber())];\\n                            }\\n                            catch (error) {\\n                                return [2 /*return*/, logger.throwError(\\\"could not detect network\\\", logger_1.Logger.errors.NETWORK_ERROR, {\\n                                        chainId: chainId,\\n                                        event: \\\"invalidNetwork\\\",\\n                                        serverError: error\\n                                    })];\\n                            }\\n                        }\\n                        return [2 /*return*/, logger.throwError(\\\"could not detect network\\\", logger_1.Logger.errors.NETWORK_ERROR, {\\n                                event: \\\"noNetwork\\\"\\n                            })];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcProvider.prototype.getSigner = function (addressOrIndex) {\\n        return new JsonRpcSigner(_constructorGuard, this, addressOrIndex);\\n    };\\n    JsonRpcProvider.prototype.getUncheckedSigner = function (addressOrIndex) {\\n        return this.getSigner(addressOrIndex).connectUnchecked();\\n    };\\n    JsonRpcProvider.prototype.listAccounts = function () {\\n        var _this = this;\\n        return this.send(\\\"eth_accounts\\\", []).then(function (accounts) {\\n            return accounts.map(function (a) { return _this.formatter.address(a); });\\n        });\\n    };\\n    JsonRpcProvider.prototype.send = function (method, params) {\\n        var _this = this;\\n        var request = {\\n            method: method,\\n            params: params,\\n            id: (this._nextId++),\\n            jsonrpc: \\\"2.0\\\"\\n        };\\n        this.emit(\\\"debug\\\", {\\n            action: \\\"request\\\",\\n            request: (0, properties_1.deepCopy)(request),\\n            provider: this\\n        });\\n        // We can expand this in the future to any call, but for now these\\n        // are the biggest wins and do not require any serializing parameters.\\n        var cache = ([\\\"eth_chainId\\\", \\\"eth_blockNumber\\\"].indexOf(method) >= 0);\\n        if (cache && this._cache[method]) {\\n            return this._cache[method];\\n        }\\n        var result = (0, web_1.fetchJson)(this.connection, JSON.stringify(request), getResult).then(function (result) {\\n            _this.emit(\\\"debug\\\", {\\n                action: \\\"response\\\",\\n                request: request,\\n                response: result,\\n                provider: _this\\n            });\\n            return result;\\n        }, function (error) {\\n            _this.emit(\\\"debug\\\", {\\n                action: \\\"response\\\",\\n                error: error,\\n                request: request,\\n                provider: _this\\n            });\\n            throw error;\\n        });\\n        // Cache the fetch, but clear it on the next event loop\\n        if (cache) {\\n            this._cache[method] = result;\\n            setTimeout(function () {\\n                _this._cache[method] = null;\\n            }, 0);\\n        }\\n        return result;\\n    };\\n    JsonRpcProvider.prototype.prepareRequest = function (method, params) {\\n        switch (method) {\\n            case \\\"getBlockNumber\\\":\\n                return [\\\"eth_blockNumber\\\", []];\\n            case \\\"getGasPrice\\\":\\n                return [\\\"eth_gasPrice\\\", []];\\n            case \\\"getBalance\\\":\\n                return [\\\"eth_getBalance\\\", [getLowerCase(params.address), params.blockTag]];\\n            case \\\"getTransactionCount\\\":\\n                return [\\\"eth_getTransactionCount\\\", [getLowerCase(params.address), params.blockTag]];\\n            case \\\"getCode\\\":\\n                return [\\\"eth_getCode\\\", [getLowerCase(params.address), params.blockTag]];\\n            case \\\"getStorageAt\\\":\\n                return [\\\"eth_getStorageAt\\\", [getLowerCase(params.address), (0, bytes_1.hexZeroPad)(params.position, 32), params.blockTag]];\\n            case \\\"sendTransaction\\\":\\n                return [\\\"eth_sendRawTransaction\\\", [params.signedTransaction]];\\n            case \\\"getBlock\\\":\\n                if (params.blockTag) {\\n                    return [\\\"eth_getBlockByNumber\\\", [params.blockTag, !!params.includeTransactions]];\\n                }\\n                else if (params.blockHash) {\\n                    return [\\\"eth_getBlockByHash\\\", [params.blockHash, !!params.includeTransactions]];\\n                }\\n                return null;\\n            case \\\"getTransaction\\\":\\n                return [\\\"eth_getTransactionByHash\\\", [params.transactionHash]];\\n            case \\\"getTransactionReceipt\\\":\\n                return [\\\"eth_getTransactionReceipt\\\", [params.transactionHash]];\\n            case \\\"call\\\": {\\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \\\"hexlifyTransaction\\\");\\n                return [\\\"eth_call\\\", [hexlifyTransaction(params.transaction, { from: true }), params.blockTag]];\\n            }\\n            case \\\"estimateGas\\\": {\\n                var hexlifyTransaction = (0, properties_1.getStatic)(this.constructor, \\\"hexlifyTransaction\\\");\\n                return [\\\"eth_estimateGas\\\", [hexlifyTransaction(params.transaction, { from: true })]];\\n            }\\n            case \\\"getLogs\\\":\\n                if (params.filter && params.filter.address != null) {\\n                    params.filter.address = getLowerCase(params.filter.address);\\n                }\\n                return [\\\"eth_getLogs\\\", [params.filter]];\\n            default:\\n                break;\\n        }\\n        return null;\\n    };\\n    JsonRpcProvider.prototype.perform = function (method, params) {\\n        return __awaiter(this, void 0, void 0, function () {\\n            var tx, feeData, args, error_7;\\n            return __generator(this, function (_a) {\\n                switch (_a.label) {\\n                    case 0:\\n                        if (!(method === \\\"call\\\" || method === \\\"estimateGas\\\")) return [3 /*break*/, 2];\\n                        tx = params.transaction;\\n                        if (!(tx && tx.type != null && bignumber_1.BigNumber.from(tx.type).isZero())) return [3 /*break*/, 2];\\n                        if (!(tx.maxFeePerGas == null && tx.maxPriorityFeePerGas == null)) return [3 /*break*/, 2];\\n                        return [4 /*yield*/, this.getFeeData()];\\n                    case 1:\\n                        feeData = _a.sent();\\n                        if (feeData.maxFeePerGas == null && feeData.maxPriorityFeePerGas == null) {\\n                            // Network doesn't know about EIP-1559 (and hence type)\\n                            params = (0, properties_1.shallowCopy)(params);\\n                            params.transaction = (0, properties_1.shallowCopy)(tx);\\n                            delete params.transaction.type;\\n                        }\\n                        _a.label = 2;\\n                    case 2:\\n                        args = this.prepareRequest(method, params);\\n                        if (args == null) {\\n                            logger.throwError(method + \\\" not implemented\\\", logger_1.Logger.errors.NOT_IMPLEMENTED, { operation: method });\\n                        }\\n                        _a.label = 3;\\n                    case 3:\\n                        _a.trys.push([3, 5, , 6]);\\n                        return [4 /*yield*/, this.send(args[0], args[1])];\\n                    case 4: return [2 /*return*/, _a.sent()];\\n                    case 5:\\n                        error_7 = _a.sent();\\n                        return [2 /*return*/, checkError(method, error_7, params)];\\n                    case 6: return [2 /*return*/];\\n                }\\n            });\\n        });\\n    };\\n    JsonRpcProvider.prototype._startEvent = function (event) {\\n        if (event.tag === \\\"pending\\\") {\\n            this._startPending();\\n        }\\n        _super.prototype._startEvent.call(this, event);\\n    };\\n    JsonRpcProvider.prototype._startPending = function () {\\n        if (this._pendingFilter != null) {\\n            return;\\n        }\\n        var self = this;\\n        var pendingFilter = this.send(\\\"eth_newPendingTransactionFilter\\\", []);\\n        this._pendingFilter = pendingFilter;\\n        pendingFilter.then(function (filterId) {\\n            function poll() {\\n                self.send(\\\"eth_getFilterChanges\\\", [filterId]).then(function (hashes) {\\n                    if (self._pendingFilter != pendingFilter) {\\n                        return null;\\n                    }\\n                    var seq = Promise.resolve();\\n                    hashes.forEach(function (hash) {\\n                        // @TODO: This should be garbage collected at some point... How? When?\\n                        self._emitted[\\\"t:\\\" + hash.toLowerCase()] = \\\"pending\\\";\\n                        seq = seq.then(function () {\\n                            return self.getTransaction(hash).then(function (tx) {\\n                                self.emit(\\\"pending\\\", tx);\\n                                return null;\\n                            });\\n                        });\\n                    });\\n                    return seq.then(function () {\\n                        return timer(1000);\\n                    });\\n                }).then(function () {\\n                    if (self._pendingFilter != pendingFilter) {\\n                        self.send(\\\"eth_uninstallFilter\\\", [filterId]);\\n                        return;\\n                    }\\n                    setTimeout(function () { poll(); }, 0);\\n                    return null;\\n                }).catch(function (error) { });\\n            }\\n            poll();\\n            return filterId;\\n        }).catch(function (error) { });\\n    };\\n    JsonRpcProvider.prototype._stopEvent = function (event) {\\n        if (event.tag === \\\"pending\\\" && this.listenerCount(\\\"pending\\\") === 0) {\\n            this._pendingFilter = null;\\n        }\\n        _super.prototype._stopEvent.call(this, event);\\n    };\\n    // Convert an ethers.js transaction into a JSON-RPC transaction\\n    //  - gasLimit => gas\\n    //  - All values hexlified\\n    //  - All numeric values zero-striped\\n    //  - All addresses are lowercased\\n    // NOTE: This allows a TransactionRequest, but all values should be resolved\\n    //       before this is called\\n    // @TODO: This will likely be removed in future versions and prepareRequest\\n    //        will be the preferred method for this.\\n    JsonRpcProvider.hexlifyTransaction = function (transaction, allowExtra) {\\n        // Check only allowed properties are given\\n        var allowed = (0, properties_1.shallowCopy)(allowedTransactionKeys);\\n        if (allowExtra) {\\n            for (var key in allowExtra) {\\n                if (allowExtra[key]) {\\n                    allowed[key] = true;\\n                }\\n            }\\n        }\\n        (0, properties_1.checkProperties)(transaction, allowed);\\n        var result = {};\\n        // JSON-RPC now requires numeric values to be \\\"quantity\\\" values\\n        [\\\"chainId\\\", \\\"gasLimit\\\", \\\"gasPrice\\\", \\\"type\\\", \\\"maxFeePerGas\\\", \\\"maxPriorityFeePerGas\\\", \\\"nonce\\\", \\\"value\\\"].forEach(function (key) {\\n            if (transaction[key] == null) {\\n                return;\\n            }\\n            var value = (0, bytes_1.hexValue)(bignumber_1.BigNumber.from(transaction[key]));\\n            if (key === \\\"gasLimit\\\") {\\n                key = \\\"gas\\\";\\n            }\\n            result[key] = value;\\n        });\\n        [\\\"from\\\", \\\"to\\\", \\\"data\\\"].forEach(function (key) {\\n            if (transaction[key] == null) {\\n                return;\\n            }\\n            result[key] = (0, bytes_1.hexlify)(transaction[key]);\\n        });\\n        if (transaction.accessList) {\\n            result[\\\"accessList\\\"] = (0, transactions_1.accessListify)(transaction.accessList);\\n        }\\n        return result;\\n    };\\n    return JsonRpcProvider;\\n}(base_provider_1.BaseProvider));\\nexports.JsonRpcProvider = JsonRpcProvider;\\n//# sourceMappingURL=json-rpc-provider.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"spelunk\",\"value\",\"requireData\",\"message\",\"match\",\"data\",\"bytes_1\",\"isHexString\",\"key\",\"result\",\"JSON\",\"parse\",\"error\",\"checkError\",\"method\",\"params\",\"transaction\",\"signedTransaction\",\"logger\",\"throwError\",\"logger_1\",\"Logger\",\"errors\",\"CALL_EXCEPTION\",\"body\",\"UNPREDICTABLE_GAS_LIMIT\",\"reason\",\"code\",\"SERVER_ERROR\",\"responseText\",\"toLowerCase\",\"INSUFFICIENT_FUNDS\",\"NONCE_EXPIRED\",\"REPLACEMENT_UNDERPRICED\",\"UNSUPPORTED_OPERATION\",\"errorGas\",\"indexOf\",\"timer\",\"timeout\",\"Promise\",\"resolve\",\"setTimeout\",\"getResult\",\"payload\",\"Error\",\"getLowerCase\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"prototype\",\"hasOwnProperty\",\"call\",\"__\",\"constructor\",\"TypeError\",\"String\",\"create\",\"__awaiter\",\"thisArg\",\"_arguments\",\"P\",\"generator\",\"adopt\",\"reject\",\"fulfilled\",\"step\",\"next\",\"e\",\"rejected\",\"done\",\"then\",\"apply\",\"__generator\",\"verb\",\"n\",\"v\",\"op\",\"f\",\"_\",\"y\",\"t\",\"label\",\"ops\",\"pop\",\"trys\",\"length\",\"push\",\"sent\",\"g\",\"Symbol\",\"iterator\",\"defineProperty\",\"JsonRpcProvider\",\"JsonRpcSigner\",\"abstract_signer_1\",\"bignumber_1\",\"hash_1\",\"properties_1\",\"strings_1\",\"transactions_1\",\"web_1\",\"_version_1\",\"version\",\"base_provider_1\",\"_constructorGuard\",\"_super\",\"constructorGuard\",\"provider\",\"addressOrIndex\",\"_this\",\"defineReadOnly\",\"formatter\",\"address\",\"throwArgumentError\",\"connect\",\"JsonRpcSigner.prototype.connect\",\"operation\",\"connectUnchecked\",\"JsonRpcSigner.prototype.connectUnchecked\",\"UncheckedJsonRpcSigner\",\"_address\",\"_index\",\"getAddress\",\"JsonRpcSigner.prototype.getAddress\",\"send\",\"accounts\",\"sendUncheckedTransaction\",\"JsonRpcSigner.prototype.sendUncheckedTransaction\",\"shallowCopy\",\"fromAddress\",\"gasLimit\",\"estimate\",\"from\",\"estimateGas\",\"to\",\"_a\",\"resolveName\",\"resolveProperties\",\"tx\",\"sender\",\"hexTx\",\"hexlifyTransaction\",\"hash\",\"ACTION_REJECTED\",\"action\",\"signTransaction\",\"JsonRpcSigner.prototype.signTransaction\",\"sendTransaction\",\"JsonRpcSigner.prototype.sendTransaction\",\"blockNumber\",\"error_1\",\"_getInternalBlockNumber\",\"pollingInterval\",\"poll\",\"getTransaction\",\"undefined\",\"_wrapTransaction\",\"oncePoll\",\"transactionHash\",\"signMessage\",\"JsonRpcSigner.prototype.signMessage\",\"error_2\",\"toUtf8Bytes\",\"hexlify\",\"messageData\",\"_legacySignMessage\",\"JsonRpcSigner.prototype._legacySignMessage\",\"error_3\",\"_signTypedData\",\"JsonRpcSigner.prototype._signTypedData\",\"domain\",\"types\",\"populated\",\"error_4\",\"_TypedDataEncoder\",\"resolveNames\",\"name\",\"stringify\",\"getPayload\",\"unlock\",\"JsonRpcSigner.prototype.unlock\",\"password\",\"Signer\",\"arguments\",\"UncheckedJsonRpcSigner.prototype.sendTransaction\",\"nonce\",\"gasPrice\",\"chainId\",\"confirmations\",\"wait\",\"waitForTransaction\",\"allowedTransactionKeys\",\"type\",\"accessList\",\"maxFeePerGas\",\"maxPriorityFeePerGas\",\"url\",\"network\",\"networkOrReady\",\"detectNetwork\",\"getStatic\",\"freeze\",\"_nextId\",\"get\",\"_eventLoopCache\",\"enumerable\",\"configurable\",\"defaultUrl\",\"JsonRpcProvider.defaultUrl\",\"JsonRpcProvider.prototype.detectNetwork\",\"_cache\",\"_uncachedDetectNetwork\",\"JsonRpcProvider.prototype._uncachedDetectNetwork\",\"getNetwork\",\"BigNumber\",\"toNumber\",\"NETWORK_ERROR\",\"event\",\"serverError\",\"getSigner\",\"JsonRpcProvider.prototype.getSigner\",\"getUncheckedSigner\",\"JsonRpcProvider.prototype.getUncheckedSigner\",\"listAccounts\",\"JsonRpcProvider.prototype.listAccounts\",\"map\",\"a\",\"JsonRpcProvider.prototype.send\",\"request\",\"id\",\"jsonrpc\",\"emit\",\"deepCopy\",\"cache\",\"fetchJson\",\"connection\",\"response\",\"prepareRequest\",\"JsonRpcProvider.prototype.prepareRequest\",\"blockTag\",\"hexZeroPad\",\"position\",\"includeTransactions\",\"blockHash\",\"filter\",\"perform\",\"JsonRpcProvider.prototype.perform\",\"feeData\",\"args\",\"error_7\",\"isZero\",\"getFeeData\",\"NOT_IMPLEMENTED\",\"_startEvent\",\"JsonRpcProvider.prototype._startEvent\",\"tag\",\"_startPending\",\"JsonRpcProvider.prototype._startPending\",\"_pendingFilter\",\"self\",\"pendingFilter\",\"filterId\",\"hashes\",\"seq\",\"forEach\",\"_emitted\",\"catch\",\"_stopEvent\",\"JsonRpcProvider.prototype._stopEvent\",\"listenerCount\",\"JsonRpcProvider.hexlifyTransaction\",\"allowExtra\",\"allowed\",\"checkProperties\",\"hexValue\",\"accessListify\",\"BaseProvider\"]\n}\n"]