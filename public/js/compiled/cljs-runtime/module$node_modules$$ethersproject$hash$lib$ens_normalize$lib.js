shadow$provide.module$node_modules$$ethersproject$hash$lib$ens_normalize$lib=function(global,require,module,exports){function filter_fe0f(cps){return cps.filter(function(cp){return 65039!=cp})}function ens_normalize_post_check(name){for(var _i=0,_a=name.split(".");_i<_a.length;_i++){var label=_a[_i],cps=(0,strings_1.toUtf8CodePoints)(label);try{for(var i=cps.lastIndexOf(95)-1;0<=i;i--)if(95!==cps[i])throw Error("underscore only allowed at start");if(4<=cps.length&&cps.every(function(cp){return 128>
cp})&&45===cps[2]&&45===cps[3])throw Error("invalid label extension");}catch(err){throw Error('Invalid label "'+label+'": '+err.message);}}return name}function consume_emoji_reversed(cps,eaten){var _a,node=EMOJI_ROOT,emoji,saved,stack=[],pos=cps.length;eaten&&(eaten.length=0);for(var _loop_1=function(){var cp=cps[--pos];node=null===(_a=node.branches.find(function(x){return x.set.has(cp)}))||void 0===_a?void 0:_a.node;if(!node)return"break";if(node.save)saved=cp;else if(node.check&&cp===saved)return"break";
stack.push(cp);node.fe0f&&(stack.push(65039),0<pos&&65039==cps[pos-1]&&pos--);node.valid&&(emoji=stack.slice(),2==node.valid&&emoji.splice(1,1),eaten&&eaten.push.apply(eaten,cps.slice(pos).reverse()),cps.length=pos)};pos&&"break"!==_loop_1(););return emoji}Object.defineProperty(exports,"__esModule",{value:!0});exports.ens_normalize=exports.ens_normalize_post_check=void 0;var strings_1=require("module$node_modules$$ethersproject$strings$lib$index");global=(0,require("module$node_modules$$ethersproject$hash$lib$ens_normalize$include").getData)();
require=require("module$node_modules$$ethersproject$hash$lib$ens_normalize$decoder");var VALID=new Set((0,require.read_member_array)(global)),IGNORED=new Set((0,require.read_member_array)(global)),MAPPED=(0,require.read_mapped_map)(global),EMOJI_ROOT=(0,require.read_emoji_trie)(global);exports.ens_normalize_post_check=ens_normalize_post_check;exports.ens_normalize=function(name){name=(0,strings_1.toUtf8CodePoints)(name).reverse();for(var output=[];name.length;){var emoji=consume_emoji_reversed(name);
if(emoji)output.push.apply(output,filter_fe0f(emoji));else if(emoji=name.pop(),VALID.has(emoji))output.push(emoji);else if(!IGNORED.has(emoji)){var cps=MAPPED[emoji];if(cps)output.push.apply(output,cps);else throw Error("Disallowed codepoint: 0x"+emoji.toString(16).toUpperCase());}}name=ens_normalize_post_check(String.fromCodePoint.apply(String,output).normalize("NFC"));return ens_normalize_post_check(name)}}
//# sourceMappingURL=module$node_modules$$ethersproject$hash$lib$ens_normalize$lib.js.map
