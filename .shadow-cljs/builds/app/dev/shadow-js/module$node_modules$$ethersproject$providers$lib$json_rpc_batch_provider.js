["^ ","~:resource-id",["~:shadow.build.npm/resource","node_modules/@ethersproject/providers/lib/json-rpc-batch-provider.js"],"~:js","shadow$provide.module$node_modules$$ethersproject$providers$lib$json_rpc_batch_provider=function(global,require,module,exports){var __extends=this&&this.__extends||function(){var extendStatics=function(d$jscomp$0,b$jscomp$0){extendStatics=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(d,b){d.__proto__=b}||function(d,b){for(var p in b)Object.prototype.hasOwnProperty.call(b,p)&&(d[p]=b[p])};return extendStatics(d$jscomp$0,b$jscomp$0)};return function(d,b){function __(){this.constructor=\nd}if(\"function\"!==typeof b&&null!==b)throw new TypeError(\"Class extends value \"+String(b)+\" is not a constructor or null\");extendStatics(d,b);d.prototype=null===b?Object.create(b):(__.prototype=b.prototype,new __)}}();Object.defineProperty(exports,\"__esModule\",{value:!0});exports.JsonRpcBatchProvider=void 0;var properties_1=require(\"module$node_modules$$ethersproject$properties$lib$index\"),web_1=require(\"module$node_modules$$ethersproject$web$lib$index\");global=function(_super){function JsonRpcBatchProvider(){return null!==\n_super&&_super.apply(this,arguments)||this}__extends(JsonRpcBatchProvider,_super);JsonRpcBatchProvider.prototype.send=function(method,params){var _this=this;method={method,params,id:this._nextId++,jsonrpc:\"2.0\"};null==this._pendingBatch&&(this._pendingBatch=[]);var inflightRequest={request:method,resolve:null,reject:null};method=new Promise(function(resolve,reject){inflightRequest.resolve=resolve;inflightRequest.reject=reject});this._pendingBatch.push(inflightRequest);this._pendingBatchAggregator||\n(this._pendingBatchAggregator=setTimeout(function(){var batch=_this._pendingBatch;_this._pendingBatch=null;_this._pendingBatchAggregator=null;var request=batch.map(function(inflight){return inflight.request});_this.emit(\"debug\",{action:\"requestBatch\",request:(0,properties_1.deepCopy)(request),provider:_this});return(0,web_1.fetchJson)(_this.connection,JSON.stringify(request)).then(function(result){_this.emit(\"debug\",{action:\"response\",request,response:result,provider:_this});batch.forEach(function(inflightRequest,\nindex){index=result[index];if(index.error){var error=Error(index.error.message);error.code=index.error.code;error.data=index.error.data;inflightRequest.reject(error)}else inflightRequest.resolve(index.result)})},function(error){_this.emit(\"debug\",{action:\"response\",error,request,provider:_this});batch.forEach(function(inflightRequest){inflightRequest.reject(error)})})},10));return method};return JsonRpcBatchProvider}(require(\"module$node_modules$$ethersproject$providers$lib$json_rpc_provider\").JsonRpcProvider);\nexports.JsonRpcBatchProvider=global}","~:source","shadow$provide[\"module$node_modules$$ethersproject$providers$lib$json_rpc_batch_provider\"] = function(global,require,module,exports) {\n\"use strict\";\nvar __extends = (this && this.__extends) || (function () {\n    var extendStatics = function (d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    return function (d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    };\n})();\nObject.defineProperty(exports, \"__esModule\", { value: true });\nexports.JsonRpcBatchProvider = void 0;\nvar properties_1 = require(\"@ethersproject/properties\");\nvar web_1 = require(\"@ethersproject/web\");\nvar json_rpc_provider_1 = require(\"./json-rpc-provider\");\n// Experimental\nvar JsonRpcBatchProvider = /** @class */ (function (_super) {\n    __extends(JsonRpcBatchProvider, _super);\n    function JsonRpcBatchProvider() {\n        return _super !== null && _super.apply(this, arguments) || this;\n    }\n    JsonRpcBatchProvider.prototype.send = function (method, params) {\n        var _this = this;\n        var request = {\n            method: method,\n            params: params,\n            id: (this._nextId++),\n            jsonrpc: \"2.0\"\n        };\n        if (this._pendingBatch == null) {\n            this._pendingBatch = [];\n        }\n        var inflightRequest = { request: request, resolve: null, reject: null };\n        var promise = new Promise(function (resolve, reject) {\n            inflightRequest.resolve = resolve;\n            inflightRequest.reject = reject;\n        });\n        this._pendingBatch.push(inflightRequest);\n        if (!this._pendingBatchAggregator) {\n            // Schedule batch for next event loop + short duration\n            this._pendingBatchAggregator = setTimeout(function () {\n                // Get teh current batch and clear it, so new requests\n                // go into the next batch\n                var batch = _this._pendingBatch;\n                _this._pendingBatch = null;\n                _this._pendingBatchAggregator = null;\n                // Get the request as an array of requests\n                var request = batch.map(function (inflight) { return inflight.request; });\n                _this.emit(\"debug\", {\n                    action: \"requestBatch\",\n                    request: (0, properties_1.deepCopy)(request),\n                    provider: _this\n                });\n                return (0, web_1.fetchJson)(_this.connection, JSON.stringify(request)).then(function (result) {\n                    _this.emit(\"debug\", {\n                        action: \"response\",\n                        request: request,\n                        response: result,\n                        provider: _this\n                    });\n                    // For each result, feed it to the correct Promise, depending\n                    // on whether it was a success or error\n                    batch.forEach(function (inflightRequest, index) {\n                        var payload = result[index];\n                        if (payload.error) {\n                            var error = new Error(payload.error.message);\n                            error.code = payload.error.code;\n                            error.data = payload.error.data;\n                            inflightRequest.reject(error);\n                        }\n                        else {\n                            inflightRequest.resolve(payload.result);\n                        }\n                    });\n                }, function (error) {\n                    _this.emit(\"debug\", {\n                        action: \"response\",\n                        error: error,\n                        request: request,\n                        provider: _this\n                    });\n                    batch.forEach(function (inflightRequest) {\n                        inflightRequest.reject(error);\n                    });\n                });\n            }, 10);\n        }\n        return promise;\n    };\n    return JsonRpcBatchProvider;\n}(json_rpc_provider_1.JsonRpcProvider));\nexports.JsonRpcBatchProvider = JsonRpcBatchProvider;\n//# sourceMappingURL=json-rpc-batch-provider.js.map\n};","~:removed-requires",["~#set",[]],"~:actual-requires",["^5",["~$module$node_modules$$ethersproject$providers$lib$json_rpc_provider","~$shadow.js","~$module$node_modules$$ethersproject$web$lib$index","~$module$node_modules$$ethersproject$properties$lib$index"]],"~:properties",["^5",["_pendingBatchAggregator","resolve","JsonRpcBatchProvider","params","prototype","send","method","__esModule","error","id","provider","value","request","action","__proto__","response","_pendingBatch","jsonrpc","reject","data","code","constructor"]],"~:compiled-at",1695040653796,"~:source-map-json","{\n\"version\":3,\n\"file\":\"module$node_modules$$ethersproject$providers$lib$json_rpc_batch_provider.js\",\n\"lineCount\":6,\n\"mappings\":\"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\",\n\"sources\":[\"node_modules/@ethersproject/providers/lib/json-rpc-batch-provider.js\"],\n\"sourcesContent\":[\"shadow$provide[\\\"module$node_modules$$ethersproject$providers$lib$json_rpc_batch_provider\\\"] = function(global,require,module,exports) {\\n\\\"use strict\\\";\\nvar __extends = (this && this.__extends) || (function () {\\n    var extendStatics = function (d, b) {\\n        extendStatics = Object.setPrototypeOf ||\\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\\n        return extendStatics(d, b);\\n    };\\n    return function (d, b) {\\n        if (typeof b !== \\\"function\\\" && b !== null)\\n            throw new TypeError(\\\"Class extends value \\\" + String(b) + \\\" is not a constructor or null\\\");\\n        extendStatics(d, b);\\n        function __() { this.constructor = d; }\\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\\n    };\\n})();\\nObject.defineProperty(exports, \\\"__esModule\\\", { value: true });\\nexports.JsonRpcBatchProvider = void 0;\\nvar properties_1 = require(\\\"@ethersproject/properties\\\");\\nvar web_1 = require(\\\"@ethersproject/web\\\");\\nvar json_rpc_provider_1 = require(\\\"./json-rpc-provider\\\");\\n// Experimental\\nvar JsonRpcBatchProvider = /** @class */ (function (_super) {\\n    __extends(JsonRpcBatchProvider, _super);\\n    function JsonRpcBatchProvider() {\\n        return _super !== null && _super.apply(this, arguments) || this;\\n    }\\n    JsonRpcBatchProvider.prototype.send = function (method, params) {\\n        var _this = this;\\n        var request = {\\n            method: method,\\n            params: params,\\n            id: (this._nextId++),\\n            jsonrpc: \\\"2.0\\\"\\n        };\\n        if (this._pendingBatch == null) {\\n            this._pendingBatch = [];\\n        }\\n        var inflightRequest = { request: request, resolve: null, reject: null };\\n        var promise = new Promise(function (resolve, reject) {\\n            inflightRequest.resolve = resolve;\\n            inflightRequest.reject = reject;\\n        });\\n        this._pendingBatch.push(inflightRequest);\\n        if (!this._pendingBatchAggregator) {\\n            // Schedule batch for next event loop + short duration\\n            this._pendingBatchAggregator = setTimeout(function () {\\n                // Get teh current batch and clear it, so new requests\\n                // go into the next batch\\n                var batch = _this._pendingBatch;\\n                _this._pendingBatch = null;\\n                _this._pendingBatchAggregator = null;\\n                // Get the request as an array of requests\\n                var request = batch.map(function (inflight) { return inflight.request; });\\n                _this.emit(\\\"debug\\\", {\\n                    action: \\\"requestBatch\\\",\\n                    request: (0, properties_1.deepCopy)(request),\\n                    provider: _this\\n                });\\n                return (0, web_1.fetchJson)(_this.connection, JSON.stringify(request)).then(function (result) {\\n                    _this.emit(\\\"debug\\\", {\\n                        action: \\\"response\\\",\\n                        request: request,\\n                        response: result,\\n                        provider: _this\\n                    });\\n                    // For each result, feed it to the correct Promise, depending\\n                    // on whether it was a success or error\\n                    batch.forEach(function (inflightRequest, index) {\\n                        var payload = result[index];\\n                        if (payload.error) {\\n                            var error = new Error(payload.error.message);\\n                            error.code = payload.error.code;\\n                            error.data = payload.error.data;\\n                            inflightRequest.reject(error);\\n                        }\\n                        else {\\n                            inflightRequest.resolve(payload.result);\\n                        }\\n                    });\\n                }, function (error) {\\n                    _this.emit(\\\"debug\\\", {\\n                        action: \\\"response\\\",\\n                        error: error,\\n                        request: request,\\n                        provider: _this\\n                    });\\n                    batch.forEach(function (inflightRequest) {\\n                        inflightRequest.reject(error);\\n                    });\\n                });\\n            }, 10);\\n        }\\n        return promise;\\n    };\\n    return JsonRpcBatchProvider;\\n}(json_rpc_provider_1.JsonRpcProvider));\\nexports.JsonRpcBatchProvider = JsonRpcBatchProvider;\\n//# sourceMappingURL=json-rpc-batch-provider.js.map\\n};\"],\n\"names\":[\"shadow$provide\",\"global\",\"require\",\"module\",\"exports\",\"__extends\",\"extendStatics\",\"d\",\"b\",\"Object\",\"setPrototypeOf\",\"__proto__\",\"Array\",\"p\",\"prototype\",\"hasOwnProperty\",\"call\",\"__\",\"constructor\",\"TypeError\",\"String\",\"create\",\"defineProperty\",\"value\",\"JsonRpcBatchProvider\",\"properties_1\",\"web_1\",\"_super\",\"apply\",\"arguments\",\"send\",\"JsonRpcBatchProvider.prototype.send\",\"method\",\"params\",\"_this\",\"request\",\"id\",\"_nextId\",\"jsonrpc\",\"_pendingBatch\",\"inflightRequest\",\"resolve\",\"reject\",\"promise\",\"Promise\",\"push\",\"_pendingBatchAggregator\",\"setTimeout\",\"batch\",\"map\",\"inflight\",\"emit\",\"action\",\"deepCopy\",\"provider\",\"fetchJson\",\"connection\",\"JSON\",\"stringify\",\"then\",\"result\",\"response\",\"forEach\",\"index\",\"payload\",\"error\",\"Error\",\"message\",\"code\",\"data\",\"json_rpc_provider_1\",\"JsonRpcProvider\"]\n}\n"]