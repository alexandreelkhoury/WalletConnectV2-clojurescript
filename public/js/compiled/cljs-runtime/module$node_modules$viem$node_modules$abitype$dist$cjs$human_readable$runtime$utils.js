shadow$provide.module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$runtime$utils=function(global,require,module,exports){function parseAbiParameter(param,options){const parameterCacheKey=(0,cache_js_1.getParameterCacheKey)(param,options?.type);if(cache_js_1.parameterCache.has(parameterCacheKey))return cache_js_1.parameterCache.get(parameterCacheKey);var isTuple=regex_js_1.isTupleRegex.test(param);const match=(0,regex_js_1.execTyped)(isTuple?abiParameterWithTupleRegex:abiParameterWithoutTupleRegex,
param);if(!match)throw new abiParameter_js_1.InvalidParameterError({param});if(match.name&&isSolidityKeyword(match.name))throw new abiParameter_js_1.SolidityProtectedKeywordError({param,name:match.name});const name=match.name?{name:match.name}:{},indexed="indexed"===match.modifier?{indexed:!0}:{},structs=options?.structs??{};var components={};if(isTuple){isTuple="tuple";components=splitParameters(match.type);const components_=[],length=components.length;for(let i=0;i<length;i++)components_.push(parseAbiParameter(components[i],
{structs}));components={components:components_}}else if(match.type in structs)isTuple="tuple",components={components:structs[match.type]};else if(dynamicIntegerRegex.test(match.type))isTuple=`${match.type}256`;else if(isTuple=match.type,"struct"!==options?.type&&!isSolidityType(isTuple))throw new abiItem_js_1.UnknownSolidityTypeError({type:isTuple});if(match.modifier){if(!options?.modifiers?.has?.(match.modifier))throw new abiParameter_js_1.InvalidModifierError({param,type:options?.type,modifier:match.modifier});
if(signatures_js_1.functionModifiers.has(match.modifier)&&!isValidDataLocation(isTuple,!!match.array))throw new abiParameter_js_1.InvalidFunctionModifierError({param,type:options?.type,modifier:match.modifier});}param={type:`${isTuple}${match.array??""}`,...name,...indexed,...components};cache_js_1.parameterCache.set(parameterCacheKey,param);return param}function splitParameters(params,result=[],current="",depth=0){if(""===params){if(""===current)return result;if(0!==depth)throw new splitParameters_js_1.InvalidParenthesisError({current,
depth});result.push(current.trim());return result}var length=params.length;for(let i=0;i<length;)switch(length=params[i],params=params.slice(i+1),length){case ",":return 0===depth?splitParameters(params,[...result,current.trim()]):splitParameters(params,result,`${current}${length}`,depth);case "(":return splitParameters(params,result,`${current}${length}`,depth+1);case ")":return splitParameters(params,result,`${current}${length}`,depth-1);default:return splitParameters(params,result,`${current}${length}`,
depth)}return[]}function isSolidityType(type){return"address"===type||"bool"===type||"function"===type||"string"===type||regex_js_1.bytesRegex.test(type)||regex_js_1.integerRegex.test(type)}function isSolidityKeyword(name){return"address"===name||"bool"===name||"function"===name||"string"===name||"tuple"===name||regex_js_1.bytesRegex.test(name)||regex_js_1.integerRegex.test(name)||protectedKeywordsRegex.test(name)}function isValidDataLocation(type,isArray){return isArray||"bytes"===type||"string"===
type||"tuple"===type}Object.defineProperty(exports,"__esModule",{value:!0});exports.isValidDataLocation=exports.isSolidityKeyword=exports.isSolidityType=exports.splitParameters=exports.parseAbiParameter=exports.parseSignature=void 0;const regex_js_1=require("module$node_modules$viem$node_modules$abitype$dist$cjs$regex"),abiItem_js_1=require("module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$errors$abiItem"),abiParameter_js_1=require("module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$errors$abiParameter"),
signature_js_1=require("module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$errors$signature"),splitParameters_js_1=require("module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$errors$splitParameters"),cache_js_1=require("module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$runtime$cache"),signatures_js_1=require("module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$runtime$signatures");exports.parseSignature=function(signature,
structs={}){if((0,signatures_js_1.isFunctionSignature)(signature)){var match=(0,signatures_js_1.execFunctionSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature,type:"function"});var inputParams=splitParameters(match.parameters);signature=[];var inputLength=inputParams.length;for(var i$jscomp$0=0;i$jscomp$0<inputLength;i$jscomp$0++)signature.push(parseAbiParameter(inputParams[i$jscomp$0],{modifiers:signatures_js_1.functionModifiers,structs,type:"function"}));inputParams=
[];if(match.returns){inputLength=splitParameters(match.returns);i$jscomp$0=inputLength.length;for(let i=0;i<i$jscomp$0;i++)inputParams.push(parseAbiParameter(inputLength[i],{modifiers:signatures_js_1.functionModifiers,structs,type:"function"}))}return{name:match.name,type:"function",stateMutability:match.stateMutability??"nonpayable",inputs:signature,outputs:inputParams}}if((0,signatures_js_1.isEventSignature)(signature)){match=(0,signatures_js_1.execEventSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature,
type:"event"});signature=splitParameters(match.parameters);inputParams=[];inputLength=signature.length;for(i$jscomp$0=0;i$jscomp$0<inputLength;i$jscomp$0++)inputParams.push(parseAbiParameter(signature[i$jscomp$0],{modifiers:signatures_js_1.eventModifiers,structs,type:"event"}));return{name:match.name,type:"event",inputs:inputParams}}if((0,signatures_js_1.isErrorSignature)(signature)){match=(0,signatures_js_1.execErrorSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature,
type:"error"});signature=splitParameters(match.parameters);inputParams=[];inputLength=signature.length;for(i$jscomp$0=0;i$jscomp$0<inputLength;i$jscomp$0++)inputParams.push(parseAbiParameter(signature[i$jscomp$0],{structs,type:"error"}));return{name:match.name,type:"error",inputs:inputParams}}if((0,signatures_js_1.isConstructorSignature)(signature)){match=(0,signatures_js_1.execConstructorSignature)(signature);if(!match)throw new signature_js_1.InvalidSignatureError({signature,type:"constructor"});
signature=splitParameters(match.parameters);inputParams=[];inputLength=signature.length;for(i$jscomp$0=0;i$jscomp$0<inputLength;i$jscomp$0++)inputParams.push(parseAbiParameter(signature[i$jscomp$0],{structs,type:"constructor"}));return{type:"constructor",stateMutability:match.stateMutability??"nonpayable",inputs:inputParams}}if((0,signatures_js_1.isFallbackSignature)(signature))return{type:"fallback"};if((0,signatures_js_1.isReceiveSignature)(signature))return{type:"receive",stateMutability:"payable"};
throw new signature_js_1.UnknownSignatureError({signature});};const abiParameterWithoutTupleRegex=/^(?<type>[a-zA-Z$_][a-zA-Z0-9$_]*)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,abiParameterWithTupleRegex=/^\((?<type>.+?)\)(?<array>(?:\[\d*?\])+?)?(?:\s(?<modifier>calldata|indexed|memory|storage{1}))?(?:\s(?<name>[a-zA-Z$_][a-zA-Z0-9$_]*))?$/,dynamicIntegerRegex=/^u?int$/;exports.parseAbiParameter=parseAbiParameter;exports.splitParameters=
splitParameters;exports.isSolidityType=isSolidityType;const protectedKeywordsRegex=/^(?:after|alias|anonymous|apply|auto|byte|calldata|case|catch|constant|copyof|default|defined|error|event|external|false|final|function|immutable|implements|in|indexed|inline|internal|let|mapping|match|memory|mutable|null|of|override|partial|private|promise|public|pure|reference|relocatable|return|returns|sizeof|static|storage|struct|super|supports|switch|this|true|try|typedef|typeof|var|view|virtual)$/;exports.isSolidityKeyword=
isSolidityKeyword;exports.isValidDataLocation=isValidDataLocation}
//# sourceMappingURL=module$node_modules$viem$node_modules$abitype$dist$cjs$human_readable$runtime$utils.js.map
