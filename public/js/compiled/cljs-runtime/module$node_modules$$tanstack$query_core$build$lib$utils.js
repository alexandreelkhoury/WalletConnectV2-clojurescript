shadow$provide.module$node_modules$$tanstack$query_core$build$lib$utils=function(global,require,module,exports){function hashQueryKeyByOptions(queryKey,options){return((null==options?void 0:options.queryKeyHashFn)||hashQueryKey)(queryKey)}function hashQueryKey(queryKey){return JSON.stringify(queryKey,(_,val)=>isPlainObject(val)?Object.keys(val).sort().reduce((result,key)=>{result[key]=val[key];return result},{}):val)}function partialDeepEqual(a,b){return a===b?!0:typeof a!==typeof b?!1:a&&b&&"object"===
typeof a&&"object"===typeof b?!Object.keys(b).some(key=>!partialDeepEqual(a[key],b[key])):!1}function replaceEqualDeep(a,b){if(a===b)return a;const array=isPlainArray(a)&&isPlainArray(b);if(array||isPlainObject(a)&&isPlainObject(b)){const aSize=array?a.length:Object.keys(a).length,bItems=array?b:Object.keys(b),bSize=bItems.length,copy=array?[]:{};let equalItems=0;for(let i=0;i<bSize;i++){const key=array?i:bItems[i];copy[key]=replaceEqualDeep(a[key],b[key]);copy[key]===a[key]&&equalItems++}return aSize===
bSize&&equalItems===aSize?a:copy}return b}function isPlainArray(value){return Array.isArray(value)&&value.length===Object.keys(value).length}function isPlainObject(o){if("[object Object]"!==Object.prototype.toString.call(o))return!1;o=o.constructor;if("undefined"===typeof o)return!0;o=o.prototype;return"[object Object]"===Object.prototype.toString.call(o)&&o.hasOwnProperty("isPrototypeOf")?!0:!1}function isQueryKey(value){return Array.isArray(value)}function sleep(timeout){return new Promise(resolve=>
{setTimeout(resolve,timeout)})}Object.defineProperty(exports,"__esModule",{value:!0});global="undefined"===typeof window||"Deno"in window;exports.difference=function(array1,array2){return array1.filter(x=>!array2.includes(x))};exports.functionalUpdate=function(updater,input){return"function"===typeof updater?updater(input):updater};exports.getAbortController=function(){if("function"===typeof AbortController)return new AbortController};exports.hashQueryKey=hashQueryKey;exports.hashQueryKeyByOptions=
hashQueryKeyByOptions;exports.isError=function(value){return value instanceof Error};exports.isPlainArray=isPlainArray;exports.isPlainObject=isPlainObject;exports.isQueryKey=isQueryKey;exports.isServer=global;exports.isValidTimeout=function(value){return"number"===typeof value&&0<=value&&Infinity!==value};exports.matchMutation=function(filters,mutation){const {exact,fetching,predicate,mutationKey}=filters;if(isQueryKey(mutationKey)){if(!mutation.options.mutationKey)return!1;if(exact){if(hashQueryKey(mutation.options.mutationKey)!==
hashQueryKey(mutationKey))return!1}else if(!partialDeepEqual(mutation.options.mutationKey,mutationKey))return!1}return"boolean"===typeof fetching&&"loading"===mutation.state.status!==fetching||predicate&&!predicate(mutation)?!1:!0};exports.matchQuery=function(filters,query){const {type="all",exact,fetchStatus,predicate,queryKey,stale}=filters;if(isQueryKey(queryKey))if(exact){if(query.queryHash!==hashQueryKeyByOptions(queryKey,query.options))return!1}else if(!partialDeepEqual(query.queryKey,queryKey))return!1;
return"all"!==type&&(filters=query.isActive(),"active"===type&&!filters||"inactive"===type&&filters)?!1:"boolean"===typeof stale&&query.isStale()!==stale||"undefined"!==typeof fetchStatus&&fetchStatus!==query.state.fetchStatus||predicate&&!predicate(query)?!1:!0};exports.noop=function(){};exports.parseFilterArgs=function(arg1,arg2,arg3){return isQueryKey(arg1)?[{...arg2,queryKey:arg1},arg3]:[arg1||{},arg2]};exports.parseMutationArgs=function(arg1,arg2,arg3){return isQueryKey(arg1)?"function"===typeof arg2?
{...arg3,mutationKey:arg1,mutationFn:arg2}:{...arg2,mutationKey:arg1}:"function"===typeof arg1?{...arg2,mutationFn:arg1}:{...arg1}};exports.parseMutationFilterArgs=function(arg1,arg2,arg3){return isQueryKey(arg1)?[{...arg2,mutationKey:arg1},arg3]:[arg1||{},arg2]};exports.parseQueryArgs=function(arg1,arg2,arg3){return isQueryKey(arg1)?"function"===typeof arg2?{...arg3,queryKey:arg1,queryFn:arg2}:{...arg2,queryKey:arg1}:arg1};exports.partialDeepEqual=partialDeepEqual;exports.partialMatchKey=function(a,
b){return partialDeepEqual(a,b)};exports.replaceAt=function(array,index,value){array=array.slice(0);array[index]=value;return array};exports.replaceData=function(prevData,data,options){return null!=options.isDataEqual&&options.isDataEqual(prevData,data)?prevData:"function"===typeof options.structuralSharing?options.structuralSharing(prevData,data):!1!==options.structuralSharing?replaceEqualDeep(prevData,data):data};exports.replaceEqualDeep=replaceEqualDeep;exports.scheduleMicrotask=function(callback){sleep(0).then(callback)};
exports.shallowEqualObjects=function(a,b){if(a&&!b||b&&!a)return!1;for(const key in a)if(a[key]!==b[key])return!1;return!0};exports.sleep=sleep;exports.timeUntilStale=function(updatedAt,staleTime){return Math.max(updatedAt+(staleTime||0)-Date.now(),0)}}
//# sourceMappingURL=module$node_modules$$tanstack$query_core$build$lib$utils.js.map
