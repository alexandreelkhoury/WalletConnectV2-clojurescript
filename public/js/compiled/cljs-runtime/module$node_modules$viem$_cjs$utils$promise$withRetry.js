shadow$provide.module$node_modules$viem$_cjs$utils$promise$withRetry=function(global,require,module,exports){Object.defineProperty(exports,"__esModule",{value:!0});exports.withRetry=void 0;const wait_js_1=require("module$node_modules$viem$_cjs$utils$wait");exports.withRetry=function(fn,{delay:delay_=100,retryCount=2,shouldRetry=()=>!0}={}){return new Promise((resolve,reject)=>{const attemptRetry=async({count=0}={})=>{const retry=async({error})=>{(error="function"===typeof delay_?delay_({count,error}):
delay_)&&await (0,wait_js_1.wait)(error);attemptRetry({count:count+1})};try{const data=await fn();resolve(data)}catch(err){if(count<retryCount&&await shouldRetry({count,error:err}))return retry({error:err});reject(err)}};attemptRetry()})}}
//# sourceMappingURL=module$node_modules$viem$_cjs$utils$promise$withRetry.js.map
