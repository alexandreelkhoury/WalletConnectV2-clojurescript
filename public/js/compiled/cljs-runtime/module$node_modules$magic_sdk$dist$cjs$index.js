shadow$provide.module$node_modules$magic_sdk$dist$cjs$index=function(global,require,module,exports){function st(p){return!![].slice.call(document.querySelectorAll(".magic-iframe")).find(I=>I.src.includes(p))}var et=Object.create,be=Object.defineProperty,rt=Object.getOwnPropertyDescriptor,tt=Object.getOwnPropertyNames,nt=Object.getPrototypeOf,ot=Object.prototype.hasOwnProperty,er=(p,E)=>()=>(E||p((E={exports:{}}).exports,E),E.exports),ge=(p,E,I,L)=>{if(E&&"object"==typeof E||"function"==typeof E)for(let D of tt(E))!ot.call(p,
D)&&D!==I&&be(p,D,{get:()=>E[D],enumerable:!(L=rt(E,D))||L.enumerable});return p};exports=(p,E,I)=>(I=null!=p?et(nt(p)):{},ge(!E&&p&&p.__esModule?I:be(I,"default",{value:p,enumerable:!0}),p));var de=(p,E,I)=>new Promise((L,D)=>{var X=A=>{try{Y(I.next(A))}catch(M){D(M)}},P=A=>{try{Y(I.throw(A))}catch(M){D(M)}},Y=A=>A.done?L(A.value):Promise.resolve(A.value).then(X,P);Y((I=I.apply(p,E)).next())}),nr=er((tr,Ce)=>{(function(p){if("object"==typeof tr&&"u">typeof Ce)Ce.exports=p();else if("function"==typeof define&&
define.amd)define([],p);else{var E;"u">typeof window?E=window:"u">typeof global?E=global:"u">typeof self?E=self:E=this;E.localforage=p()}})(function(){return function L(D,X,P){function Y(H,$){if(!X[H]){if(!D[H]){var m="function"==typeof require&&require;if(!$&&m)return m(H,!0);if(A)return A(H,!0);$=Error("Cannot find module '"+H+"'");throw $.code="MODULE_NOT_FOUND",$;}$=X[H]={exports:{}};D[H][0].call($.exports,function(z){return Y(D[H][1][z]||z)},$,$.exports,L,D,X,P)}return X[H].exports}for(var A=
"function"==typeof require&&require,M=0;M<P.length;M++)Y(P[M]);return Y}({1:[function(L,D,X){(function(P){function z(){_=!0;for(var F,k,U=B.length;U;){k=B;B=[];for(F=-1;++F<U;)k[F]();U=B.length}_=!1}var Y=P.MutationObserver||P.WebKitMutationObserver;if(Y){var M=0;Y=new Y(z);var $=P.document.createTextNode("");Y.observe($,{characterData:!0});var A=function(){$.data=M=++M%2}}else if(!P.setImmediate&&"u">typeof P.MessageChannel){var m=new P.MessageChannel;m.port1.onmessage=z;A=function(){m.port2.postMessage(0)}}else"document"in
P&&"onreadystatechange"in P.document.createElement("script")?A=function(){var F=P.document.createElement("script");F.onreadystatechange=function(){z();F.onreadystatechange=null;F.parentNode.removeChild(F);F=null};P.document.documentElement.appendChild(F)}:A=function(){setTimeout(z,0)};var _,B=[];D.exports=function(F){1===B.push(F)&&!_&&A()}}).call(this,"u">typeof global?global:"u">typeof self?self:"u">typeof window?window:{})},{}],2:[function(L,D,X){function Y(){}function m(h){if("function"!=typeof h)throw new TypeError("resolver must be a function");
this.state=$;this.queue=[];this.outcome=void 0;h!==Y&&Z(this,h)}function _(h,N,S){this.promise=h;"function"==typeof N&&(this.onFulfilled=N,this.callFulfilled=this.otherCallFulfilled);"function"==typeof S&&(this.onRejected=S,this.callRejected=this.otherCallRejected)}function B(h,N,S){P(function(){try{var O=N(S)}catch(V){return A.reject(h,V)}O===h?A.reject(h,new TypeError("Cannot resolve promise with itself")):A.resolve(h,O)})}function z(h){var N=h&&h.then;if(h&&("object"==typeof h||"function"==typeof h)&&
"function"==typeof N)return function(){N.apply(h,arguments)}}function Z(h,N){function O(J){S||(S=!0,A.reject(h,J))}function V(J){S||(S=!0,A.resolve(h,J))}var S=!1,Q=F(function(){N(V,O)});"error"===Q.status&&O(Q.value)}function F(h,N){var S={};try{S.value=h(N),S.status="success"}catch(O){S.status="error",S.value=O}return S}var P=L(1),A={},M=["REJECTED"],H=["FULFILLED"],$=["PENDING"];D.exports=m;m.prototype.catch=function(h){return this.then(null,h)};m.prototype.then=function(h,N){if("function"!=typeof h&&
this.state===H||"function"!=typeof N&&this.state===M)return this;var S=new this.constructor(Y);this.state!==$?B(S,this.state===H?h:N,this.outcome):this.queue.push(new _(S,h,N));return S};_.prototype.callFulfilled=function(h){A.resolve(this.promise,h)};_.prototype.otherCallFulfilled=function(h){B(this.promise,this.onFulfilled,h)};_.prototype.callRejected=function(h){A.reject(this.promise,h)};_.prototype.otherCallRejected=function(h){B(this.promise,this.onRejected,h)};A.resolve=function(h,N){var S=
F(z,N);if("error"===S.status)return A.reject(h,S.value);if(S=S.value)Z(h,S);else{h.state=H;h.outcome=N;S=-1;for(var j=h.queue.length;++S<j;)h.queue[S].callFulfilled(N)}return h};A.reject=function(h,N){h.state=M;h.outcome=N;for(var S=-1,O=h.queue.length;++S<O;)h.queue[S].callRejected(N);return h};m.resolve=function(h){return h instanceof this?h:A.resolve(new this(Y),h)};m.reject=function(h){var N=new this(Y);return A.reject(N,h)};m.all=function(h){function ee(fe,a){N.resolve(fe).then(function(v){V[a]=
v;++j===S&&!O&&(O=!0,A.resolve(J,V))},function(v){O||(O=!0,A.reject(J,v))})}var N=this;if("[object Array]"!==Object.prototype.toString.call(h))return this.reject(new TypeError("must be an array"));var S=h.length,O=!1;if(!S)return this.resolve([]);for(var V=Array(S),j=0,Q=-1,J=new this(Y);++Q<S;)ee(h[Q],Q);return J};m.race=function(h){function Q(J){N.resolve(J).then(function(ee){O||(O=!0,A.resolve(j,ee))},function(ee){O||(O=!0,A.reject(j,ee))})}var N=this;if("[object Array]"!==Object.prototype.toString.call(h))return this.reject(new TypeError("must be an array"));
var S=h.length,O=!1;if(!S)return this.resolve([]);for(var V=-1,j=new this(Y);++V<S;)Q(h[V]);return j}},{1:1}],3:[function(L,D,X){D="u">typeof global?global:"u">typeof self?self:"u">typeof window?window:{};"function"!=typeof D.Promise&&(D.Promise=L(2))},{2:2}],4:[function(L,D,X){function $(e,t){e=e||[];t=t||{};try{return new Blob(e,t)}catch(n){if("TypeError"!==n.name)throw n;for(var o=new ("u">typeof BlobBuilder?BlobBuilder:"u">typeof MSBlobBuilder?MSBlobBuilder:"u">typeof MozBlobBuilder?MozBlobBuilder:
WebKitBlobBuilder),i=0;i<e.length;i+=1)o.append(e[i]);return o.getBlob(t.type)}}function _(e,t){t&&e.then(function(r){t(null,r)},function(r){t(r)})}function B(e,t,r){"function"==typeof t&&e.then(t);"function"==typeof r&&e.catch(r)}function z(e){return"string"!=typeof e&&(console.warn(e+" used as a key, but it is not a string."),e=String(e)),e}function Z(){if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function S(e){return(new m(function(t){var r=
e.transaction("local-forage-detect-blob-support","readwrite"),o=$([""]);r.objectStore("local-forage-detect-blob-support").put(o,"key");r.onabort=function(i){i.preventDefault();i.stopPropagation();t(!1)};r.oncomplete=function(){var i=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);t(n||!i||43<=parseInt(i[1],10))}})).catch(function(){return!1})}function O(e){return"boolean"==typeof k?m.resolve(k):S(e).then(function(t){return k=t,k})}function V(e){e=U[e.name];var r={};
r.promise=new m(function(o,i){r.resolve=o;r.reject=i});e.deferredOperations.push(r);e.dbReady?e.dbReady=e.dbReady.then(function(){return r.promise}):e.dbReady=r.promise}function j(e){if(e=U[e.name].deferredOperations.pop())return e.resolve(),e.promise}function Q(e,t){if(e=U[e.name].deferredOperations.pop())return e.reject(t),e.promise}function J(e,t){return new m(function(r,o){if(U[e.name]=U[e.name]||G(),e.db)if(t)V(e),e.db.close();else return r(e.db);var i=[e.name];t&&i.push(e.version);var n=M.open.apply(M,
i);t&&(n.onupgradeneeded=function(f){var u=n.result;try{u.createObjectStore(e.storeName),1>=f.oldVersion&&u.createObjectStore("local-forage-detect-blob-support")}catch(c){if("ConstraintError"===c.name)console.warn('The database "'+e.name+'" has been upgraded from version '+f.oldVersion+" to version "+f.newVersion+', but the storage "'+e.storeName+'" already exists.');else throw c;}});n.onerror=function(f){f.preventDefault();o(n.error)};n.onsuccess=function(){var f=n.result;f.onversionchange=function(u){u.target.close()};
r(f);j(e)}})}function a(e,t){if(!e.db)return!0;var r=!e.db.objectStoreNames.contains(e.storeName),i=e.version>e.db.version;return(e.version<e.db.version&&(e.version!==t&&console.warn('The database "'+e.name+"\" can't be downgraded from version "+e.db.version+" to version "+e.version+"."),e.version=e.db.version),i||r)?(r&&(t=e.db.version+1,t>e.version&&(e.version=t)),!0):!1}function s(e){return new m(function(t,r){var o=new FileReader;o.onerror=r;o.onloadend=function(i){i=btoa(i.target.result||"");
t({__local_forage_encoded_blob:!0,data:i,type:e.type})};o.readAsBinaryString(e)})}function v(e$jscomp$0){for(var e=atob(e$jscomp$0.data),t=e.length,r=new ArrayBuffer(t),o=new Uint8Array(r),i=0;i<t;i++)o[i]=e.charCodeAt(i);return $([r],{type:e$jscomp$0.type})}function b(e){var t=this,r=t._initReady().then(function(){var o=U[t._dbInfo.name];if(o&&o.dbReady)return o.dbReady});return B(r,e,e),r}function w(e){V(e);for(var t=U[e.name],r=t.forages,o=0;o<r.length;o++){var i=r[o];i._dbInfo.db&&(i._dbInfo.db.close(),
i._dbInfo.db=null)}return e.db=null,J(e,!1).then(function(n){return e.db=n,a(e)?J(e,!0):n}).then(function(n){e.db=t.db=n;for(var f=0;f<r.length;f++)r[f]._dbInfo.db=n}).catch(function(n){throw Q(e,n),n;})}function T(e,t,r,o){void 0===o&&(o=1);try{var i=e.db.transaction(e.storeName,t);r(null,i)}catch(n){if(0<o&&(!e.db||"InvalidStateError"===n.name||"NotFoundError"===n.name))return m.resolve().then(function(){if(!e.db||"NotFoundError"===n.name&&!e.db.objectStoreNames.contains(e.storeName)&&e.version<=
e.db.version)return e.db&&(e.version=e.db.version+1),J(e,!0)}).then(function(){return w(e).then(function(){T(e,t,r,o-1)})}).catch(r);r(n)}}function G(){return{forages:[],db:null,dbReady:null,deferredOperations:[]}}function Xe(e){var t=.75*e.length,r=e.length,i=0;"\x3d"===e[e.length-1]&&(t--,"\x3d"===e[e.length-2]&&t--);var l=new ArrayBuffer(t),d=new Uint8Array(l);for(t=0;t<r;t+=4){var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[t]);var f="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[t+
1]);var u="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[t+2]);var c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(e[t+3]);d[i++]=n<<2|f>>4;d[i++]=(f&15)<<4|u>>2;d[i++]=(u&3)<<6|c&63}return l}function De(e){e=new Uint8Array(e);var r="",o;for(o=0;o<e.length;o+=3)r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e[o]>>2],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(e[o]&3)<<4|e[o+1]>>4],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(e[o+
1]&15)<<2|e[o+2]>>6],r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[e[o+2]&63];return 2===e.length%3?r=r.substring(0,r.length-1)+"\x3d":1===e.length%3&&(r=r.substring(0,r.length-2)+"\x3d\x3d"),r}function Qe(e,t,r,o){e.executeSql("CREATE TABLE IF NOT EXISTS "+t.storeName+" (id INTEGER PRIMARY KEY, key unique, value)",[],r,o)}function ae(e,t,r,o,i,n){e.executeSql(r,o,i,function(f,u){u.code===u.SYNTAX_ERR?f.executeSql("SELECT name FROM sqlite_master WHERE type\x3d'table' AND name \x3d ?",
[t.storeName],function(c,l){l.rows.length?n(c,u):Qe(c,t,function(){c.executeSql(r,o,i,n)},n)},n):n(f,u)},n)}function Je(e,t,r,o){var i=this;e=z(e);var n=new m(function(f,u){i.ready().then(function(){void 0===t&&(t=null);var c=t,l=i._dbInfo;l.serializer.serialize(t,function(d,y){y?u(y):l.db.transaction(function(R){ae(R,l,"INSERT OR REPLACE INTO "+l.storeName+" (key, value) VALUES (?, ?)",[e,d],function(){f(c)},function(x,C){u(C)})},function(R){R.code===R.QUOTA_ERR&&(0<o?f(Je.apply(i,[e,c,r,o-1])):
u(R))})})}).catch(u)});return _(n,r),n}function Dr(e){return new m(function(t,r){e.transaction(function(o){o.executeSql("SELECT name FROM sqlite_master WHERE type\x3d'table' AND name \x3c\x3e '__WebKitDatabaseInfoTable__'",[],function(i,n){i=[];for(var u=0;u<n.rows.length;u++)i.push(n.rows.item(u).name);t({db:e,storeNames:i})},function(i,n){r(n)})},function(o){r(o)})})}function $e(e,t){var r=e.name+"/";return e.storeName!==t.storeName&&(r+=e.storeName+"/"),r}function Qr(e,t){e[t]=function(){var r=
arguments;return e.ready().then(function(){return e[t].apply(e,r)})}}function Be(){for(var e=1;e<arguments.length;e++){var t=arguments[e];if(t)for(var r in t)t.hasOwnProperty(r)&&(Ze(t[r])?arguments[0][r]=t[r].slice():arguments[0][r]=t[r])}return arguments[0]}var P="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},M=function(){if("u">typeof indexedDB)return indexedDB;
if("u">typeof webkitIndexedDB)return webkitIndexedDB;if("u">typeof mozIndexedDB)return mozIndexedDB;if("u">typeof OIndexedDB)return OIndexedDB;if("u">typeof msIndexedDB)return msIndexedDB}();"u"<typeof Promise&&L(3);var m=Promise,k=void 0,U={},se=Object.prototype.toString;L={_driver:"asyncStorage",_initStorage:function(e){function f(){return m.resolve()}var t=this,r={db:null};if(e)for(var o in e)r[o]=e[o];var i=U[r.name];i||(i=G(),U[r.name]=i);i.forages.push(t);t._initReady||(t._initReady=t.ready,
t.ready=b);e=[];for(o=0;o<i.forages.length;o++){var c=i.forages[o];c!==t&&e.push(c._initReady().catch(f))}var l=i.forages.slice(0);return m.all(e).then(function(){return r.db=i.db,J(r,!1)}).then(function(d){return r.db=d,a(r,t._defaultConfig.version)?J(r,!0):d}).then(function(d){r.db=i.db=d;t._dbInfo=r;for(d=0;d<l.length;d++){var R=l[d];R!==t&&(R._dbInfo.db=r.db,R._dbInfo.version=r.version)}})},_support:function(){try{if(!M||!M.open)return!1;var e="u">typeof openDatabase&&/(Safari|iPhone|iPad|iPod)/.test(navigator.userAgent)&&
!/Chrome/.test(navigator.userAgent)&&!/BlackBerry/.test(navigator.platform),t="function"==typeof fetch&&-1!==fetch.toString().indexOf("[native code");return(!e||t)&&"u">typeof indexedDB&&"u">typeof IDBKeyRange}catch{return!1}}(),iterate:function(e,t){var r=this,o=new m(function(i,n){r.ready().then(function(){T(r._dbInfo,"readonly",function(f,u){if(f)return n(f);try{var l=u.objectStore(r._dbInfo.storeName).openCursor(),d=1;l.onsuccess=function(){var y=l.result;if(y){var R=y.value;R&&R.__local_forage_encoded_blob&&
(R=v(R));R=e(R,y.key,d++);void 0!==R?i(R):y.continue()}else i()};l.onerror=function(){n(l.error)}}catch(y){n(y)}})}).catch(n)});return _(o,t),o},getItem:function(e,t){var r=this;e=z(e);var o=new m(function(i,n){r.ready().then(function(){T(r._dbInfo,"readonly",function(f,u){if(f)return n(f);try{var l=u.objectStore(r._dbInfo.storeName).get(e);l.onsuccess=function(){var d=l.result;void 0===d&&(d=null);d&&d.__local_forage_encoded_blob&&(d=v(d));i(d)};l.onerror=function(){n(l.error)}}catch(d){n(d)}})}).catch(n)});
return _(o,t),o},setItem:function(e,t,r){var o=this;e=z(e);var i=new m(function(n,f){var u;o.ready().then(function(){return u=o._dbInfo,"[object Blob]"===se.call(t)?O(u.db).then(function(c){return c?t:s(t)}):t}).then(function(c){T(o._dbInfo,"readwrite",function(l,d){if(l)return f(l);try{var y=d.objectStore(o._dbInfo.storeName);null===c&&(c=void 0);var R=y.put(c,e);d.oncomplete=function(){void 0===c&&(c=null);n(c)};d.onabort=d.onerror=function(){f(R.error?R.error:R.transaction.error)}}catch(x){f(x)}})}).catch(f)});
return _(i,r),i},removeItem:function(e,t){var r=this;e=z(e);var o=new m(function(i,n){r.ready().then(function(){T(r._dbInfo,"readwrite",function(f,u){if(f)return n(f);try{var l=u.objectStore(r._dbInfo.storeName).delete(e);u.oncomplete=function(){i()};u.onerror=function(){n(l.error)};u.onabort=function(){n(l.error?l.error:l.transaction.error)}}catch(d){n(d)}})}).catch(n)});return _(o,t),o},clear:function(e){var t=this,r=new m(function(o,i){t.ready().then(function(){T(t._dbInfo,"readwrite",function(n,
f){if(n)return i(n);try{var c=f.objectStore(t._dbInfo.storeName).clear();f.oncomplete=function(){o()};f.onabort=f.onerror=function(){i(c.error?c.error:c.transaction.error)}}catch(l){i(l)}})}).catch(i)});return _(r,e),r},length:function(e){var t=this,r=new m(function(o,i){t.ready().then(function(){T(t._dbInfo,"readonly",function(n,f){if(n)return i(n);try{var c=f.objectStore(t._dbInfo.storeName).count();c.onsuccess=function(){o(c.result)};c.onerror=function(){i(c.error)}}catch(l){i(l)}})}).catch(i)});
return _(r,e),r},key:function(e,t){var r=this,o=new m(function(i,n){0>e?i(null):r.ready().then(function(){T(r._dbInfo,"readonly",function(f,u){if(f)return n(f);try{var l=!1,d=u.objectStore(r._dbInfo.storeName).openKeyCursor();d.onsuccess=function(){var y=d.result;y?0===e||l?i(y.key):(l=!0,y.advance(e)):i(null)};d.onerror=function(){n(d.error)}}catch(y){n(y)}})}).catch(n)});return _(o,t),o},keys:function(e){var t=this,r=new m(function(o,i){t.ready().then(function(){T(t._dbInfo,"readonly",function(n,
f){if(n)return i(n);try{var c=f.objectStore(t._dbInfo.storeName).openKeyCursor(),l=[];c.onsuccess=function(){var d=c.result;d?(l.push(d.key),d.continue()):o(l)};c.onerror=function(){i(c.error)}}catch(d){i(d)}})}).catch(i)});return _(r,e),r},dropInstance:function(e,t){t=Z.apply(this,arguments);var r=this.config();e="function"!=typeof e&&e||{};e.name||(e.name=e.name||r.name,e.storeName=e.storeName||r.storeName);var i;e.name?(r=e.name===r.name&&this._dbInfo.db?m.resolve(this._dbInfo.db):J(e,!1).then(function(u){var c=
U[e.name],l=c.forages;c.db=u;for(c=0;c<l.length;c++)l[c]._dbInfo.db=u;return u}),e.storeName?i=r.then(function(u){if(u.objectStoreNames.contains(e.storeName)){var c=u.version+1;V(e);var l=U[e.name],d=l.forages;u.close();for(u=0;u<d.length;u++){var R=d[u];R._dbInfo.db=null;R._dbInfo.version=c}return(new m(function(C,K){var W=M.open(e.name,c);W.onerror=function(q){W.result.close();K(q)};W.onupgradeneeded=function(){W.result.deleteObjectStore(e.storeName)};W.onsuccess=function(){var q=W.result;q.close();
C(q)}})).then(function(C){l.db=C;for(var K=0;K<d.length;K++){var W=d[K];W._dbInfo.db=C;j(W._dbInfo)}}).catch(function(C){throw(Q(e,C)||m.resolve()).catch(function(){}),C;})}}):i=r.then(function(u){V(e);var c=U[e.name],l=c.forages;u.close();for(u=0;u<l.length;u++)l[u]._dbInfo.db=null;return(new m(function(x,C){var K=M.deleteDatabase(e.name);K.onerror=function(){var W=K.result;W&&W.close();C(K.error)};K.onblocked=function(){console.warn('dropInstance blocked for database "'+e.name+'" until all open connections are closed')};
K.onsuccess=function(){var W=K.result;W&&W.close();x(W)}})).then(function(x){c.db=x;for(x=0;x<l.length;x++)j(l[x]._dbInfo)}).catch(function(x){throw(Q(e,x)||m.resolve()).catch(function(){}),x;})})):i=m.reject("Invalid arguments");return _(i,t),i}};var Pe=/^~~local_forage_type~([^~]+)~/,je=Object.prototype.toString,Ne={serialize:function(e,t){var r="";if(e&&(r=je.call(e)),e&&("[object ArrayBuffer]"===r||e.buffer&&"[object ArrayBuffer]"===je.call(e.buffer))){var o,i="__lfsc__:";e instanceof ArrayBuffer?
(o=e,i+="arbf"):(o=e.buffer,"[object Int8Array]"===r?i+="si08":"[object Uint8Array]"===r?i+="ui08":"[object Uint8ClampedArray]"===r?i+="uic8":"[object Int16Array]"===r?i+="si16":"[object Uint16Array]"===r?i+="ur16":"[object Int32Array]"===r?i+="si32":"[object Uint32Array]"===r?i+="ui32":"[object Float32Array]"===r?i+="fl32":"[object Float64Array]"===r?i+="fl64":t(Error("Failed to get type for BinaryArray")));t(i+De(o))}else if("[object Blob]"===r)r=new FileReader,r.onload=function(){var f="~~local_forage_type~"+
e.type+"~"+De(this.result);t("__lfsc__:blob"+f)},r.readAsArrayBuffer(e);else try{t(JSON.stringify(e))}catch(f){console.error("Couldn't convert value into a JSON string: ",e),t(null,f)}},deserialize:function(e){if("__lfsc__:"!==e.substring(0,9))return JSON.parse(e);var t=e.substring(13);e=e.substring(9,13);if("blob"===e&&Pe.test(t)){var i=t.match(Pe);var o=i[1];t=t.substring(i[0].length)}t=Xe(t);switch(e){case "arbf":return t;case "blob":return $([t],{type:o});case "si08":return new Int8Array(t);case "ui08":return new Uint8Array(t);
case "uic8":return new Uint8ClampedArray(t);case "si16":return new Int16Array(t);case "ur16":return new Uint16Array(t);case "si32":return new Int32Array(t);case "ui32":return new Uint32Array(t);case "fl32":return new Float32Array(t);case "fl64":return new Float64Array(t);default:throw Error("Unkown type: "+e);}},stringToBuffer:Xe,bufferToString:De};X={_driver:"webSQLStorage",_initStorage:function(e){var t=this,r={db:null};if(e)for(var o in e)r[o]="string"!=typeof e[o]?e[o].toString():e[o];e=new m(function(n,
f){try{r.db=openDatabase(r.name,String(r.version),r.description,r.size)}catch(u){return f(u)}r.db.transaction(function(u){Qe(u,r,function(){t._dbInfo=r;n()},function(c,l){f(l)})},f)});return r.serializer=Ne,e},_support:"function"==typeof openDatabase,iterate:function(e,t){var r=this,o=new m(function(i,n){r.ready().then(function(){var f=r._dbInfo;f.db.transaction(function(u){ae(u,f,"SELECT * FROM "+f.storeName,[],function(c,l){c=l.rows;l=c.length;for(var R=0;R<l;R++){var x=c.item(R),C=x.value;if(C&&
(C=f.serializer.deserialize(C)),C=e(C,x.key,R+1),void 0!==C){i(C);return}}i()},function(c,l){n(l)})})}).catch(n)});return _(o,t),o},getItem:function(e,t){var r=this;e=z(e);var o=new m(function(i,n){r.ready().then(function(){var f=r._dbInfo;f.db.transaction(function(u){ae(u,f,"SELECT * FROM "+f.storeName+" WHERE key \x3d ? LIMIT 1",[e],function(c,l){(c=l.rows.length?l.rows.item(0).value:null)&&(c=f.serializer.deserialize(c));i(c)},function(c,l){n(l)})})}).catch(n)});return _(o,t),o},setItem:function(e,
t,r){return Je.apply(this,[e,t,r,1])},removeItem:function(e,t){var r=this;e=z(e);var o=new m(function(i,n){r.ready().then(function(){var f=r._dbInfo;f.db.transaction(function(u){ae(u,f,"DELETE FROM "+f.storeName+" WHERE key \x3d ?",[e],function(){i()},function(c,l){n(l)})})}).catch(n)});return _(o,t),o},clear:function(e){var t=this,r=new m(function(o,i){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(f){ae(f,n,"DELETE FROM "+n.storeName,[],function(){o()},function(u,c){i(c)})})}).catch(i)});
return _(r,e),r},length:function(e){var t=this,r=new m(function(o,i){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(f){ae(f,n,"SELECT COUNT(key) as c FROM "+n.storeName,[],function(u,c){u=c.rows.item(0).c;o(u)},function(u,c){i(c)})})}).catch(i)});return _(r,e),r},key:function(e,t){var r=this,o=new m(function(i,n){r.ready().then(function(){var f=r._dbInfo;f.db.transaction(function(u){ae(u,f,"SELECT key FROM "+f.storeName+" WHERE id \x3d ? LIMIT 1",[e+1],function(c,l){c=l.rows.length?
l.rows.item(0).key:null;i(c)},function(c,l){n(l)})})}).catch(n)});return _(o,t),o},keys:function(e){var t=this,r=new m(function(o,i){t.ready().then(function(){var n=t._dbInfo;n.db.transaction(function(f){ae(f,n,"SELECT key FROM "+n.storeName,[],function(u,c){u=[];for(var d=0;d<c.rows.length;d++)u.push(c.rows.item(d).key);o(u)},function(u,c){i(c)})})}).catch(i)});return _(r,e),r},dropInstance:function(e,t){t=Z.apply(this,arguments);var r=this.config();e="function"!=typeof e&&e||{};e.name||(e.name=
e.name||r.name,e.storeName=e.storeName||r.storeName);var o=this,i;return e.name?i=(new m(function(n){var f;e.name===r.name?f=o._dbInfo.db:f=openDatabase(e.name,"","",0);e.storeName?n({db:f,storeNames:[e.storeName]}):n(Dr(f))})).then(function(n){return new m(function(f,u){n.db.transaction(function(c){function l(x){return new m(function(C,K){c.executeSql("DROP TABLE IF EXISTS "+x,[],function(){C()},function(W,q){K(q)})})}for(var d=[],y=0,R=n.storeNames.length;y<R;y++)d.push(l(n.storeNames[y]));m.all(d).then(function(){f()}).catch(function(x){u(x)})},
function(c){u(c)})})}):i=m.reject("Invalid arguments"),_(i,t),i}};try{var JSCompiler_inline_result$jscomp$0="u">typeof localStorage&&"setItem"in localStorage&&!!localStorage.setItem}catch{JSCompiler_inline_result$jscomp$0=!1}var Gr=function(t$jscomp$0,r$jscomp$0){for(var o=t$jscomp$0.length,i=0;i<o;){var t=t$jscomp$0[i],r=r$jscomp$0;if(t===r||"number"==typeof t&&"number"==typeof r&&isNaN(t)&&isNaN(r))return!0;i++}return!1},Ze=Array.isArray||function(e){return"[object Array]"===Object.prototype.toString.call(e)},
he={},qe={},le={INDEXEDDB:L,WEBSQL:X,LOCALSTORAGE:{_driver:"localStorageWrapper",_initStorage:function(e){var r={};if(e)for(var o in e)r[o]=e[o];r.keyPrefix=$e(e,this._defaultConfig);try{var JSCompiler_inline_result=(localStorage.setItem("_localforage_support_test",!0),localStorage.removeItem("_localforage_support_test"),!1)}catch{JSCompiler_inline_result=!0}return!JSCompiler_inline_result||0<localStorage.length?(this._dbInfo=r,r.serializer=Ne,m.resolve()):m.reject()},_support:JSCompiler_inline_result$jscomp$0,
iterate:function(e,t){var r=this,o=r.ready().then(function(){for(var i=r._dbInfo,n=i.keyPrefix,f=n.length,u=localStorage.length,c=1,l=0;l<u;l++){var d=localStorage.key(l);if(0===d.indexOf(n)){var y=localStorage.getItem(d);if(y&&(y=i.serializer.deserialize(y)),y=e(y,d.substring(f),c++),void 0!==y)return y}}});return _(o,t),o},getItem:function(e,t){var r=this;e=z(e);var o=r.ready().then(function(){var i=r._dbInfo,n=localStorage.getItem(i.keyPrefix+e);return n&&(n=i.serializer.deserialize(n)),n});return _(o,
t),o},setItem:function(e,t,r){var o=this;e=z(e);var i=o.ready().then(function(){void 0===t&&(t=null);var n=t;return new m(function(f,u){var c=o._dbInfo;c.serializer.serialize(t,function(l,d){if(d)u(d);else try{localStorage.setItem(c.keyPrefix+e,l),f(n)}catch(y){"QuotaExceededError"!==y.name&&"NS_ERROR_DOM_QUOTA_REACHED"!==y.name||u(y),u(y)}})})});return _(i,r),i},removeItem:function(e,t){var r=this;e=z(e);var o=r.ready().then(function(){localStorage.removeItem(r._dbInfo.keyPrefix+e)});return _(o,
t),o},clear:function(e){var t=this,r=t.ready().then(function(){for(var o=t._dbInfo.keyPrefix,i=localStorage.length-1;0<=i;i--){var n=localStorage.key(i);0===n.indexOf(o)&&localStorage.removeItem(n)}});return _(r,e),r},length:function(e){var r=this.keys().then(function(o){return o.length});return _(r,e),r},key:function(e,t){var r=this,o=r.ready().then(function(){var i=r._dbInfo;try{var n=localStorage.key(e)}catch{n=null}return n&&(n=n.substring(i.keyPrefix.length)),n});return _(o,t),o},keys:function(e){var t=
this,r=t.ready().then(function(){for(var o=t._dbInfo,i=localStorage.length,n=[],f=0;f<i;f++){var u=localStorage.key(f);0===u.indexOf(o.keyPrefix)&&n.push(u.substring(o.keyPrefix.length))}return n});return _(r,e),r},dropInstance:function(e,t){if(t=Z.apply(this,arguments),e="function"!=typeof e&&e||{},!e.name){var r=this.config();e.name=e.name||r.name;e.storeName=e.storeName||r.storeName}var o=this,i;return e.name?i=(new m(function(n){e.storeName?n($e(e,o._defaultConfig)):n(e.name+"/")})).then(function(n){for(var f=
localStorage.length-1;0<=f;f--){var u=localStorage.key(f);0===u.indexOf(n)&&localStorage.removeItem(u)}}):i=m.reject("Invalid arguments"),_(i,t),i}}};JSCompiler_inline_result$jscomp$0=[le.INDEXEDDB._driver,le.WEBSQL._driver,le.LOCALSTORAGE._driver];var pe=["dropInstance"],Te="clear getItem iterate key keys length removeItem setItem".split(" ").concat(pe),Xr={description:"",driver:JSCompiler_inline_result$jscomp$0.slice(),name:"localforage",size:4980736,storeName:"keyvaluepairs",version:1};JSCompiler_inline_result$jscomp$0=
new (function(){function e(t){if(!(this instanceof e))throw new TypeError("Cannot call a class as a function");for(var r in le)if(le.hasOwnProperty(r)){var o=le[r],i=o._driver;this[r]=i;he[i]||this.defineDriver(o)}this._defaultConfig=Be({},Xr);this._config=Be({},this._defaultConfig,t);this._initDriver=this._driverSet=null;this._ready=!1;this._dbInfo=null;this._wrapLibraryMethodsWithReady();this.setDriver(this._config.driver).catch(function(){})}return e.prototype.config=function(r){if("object"===
("u"<typeof r?"undefined":P(r))){if(this._ready)return Error("Can't call config() after localforage has been used.");for(var o in r){if("storeName"===o&&(r[o]=r[o].replace(/\W/g,"_")),"version"===o&&"number"!=typeof r[o])return Error("Database version must be a number.");this._config[o]=r[o]}return"driver"in r&&r.driver?this.setDriver(this._config.driver):!0}return"string"==typeof r?this._config[r]:this._config},e.prototype.defineDriver=function(r,o,i){var n=new m(function(f,u){try{var c=r._driver,
l=Error("Custom driver not compliant; see https://mozilla.github.io/localForage/#definedriver");if(r._driver){for(var d=Te.concat("_initStorage"),y=0,R=d.length;y<R;y++){var x=d[y];if((!Gr(pe,x)||r[x])&&"function"!=typeof r[x]){u(l);return}}(function(){for(var me=function(qr){return function(){var ke=m.reject(Error("Method "+qr+" is not implemented by the current driver"));return _(ke,arguments[arguments.length-1]),ke}},xe=0,Zr=pe.length;xe<Zr;xe++){var Oe=pe[xe];r[Oe]||(r[Oe]=me(Oe))}})();l=function(me){he[c]&&
console.info("Redefining LocalForage driver: "+c);he[c]=r;qe[c]=me;f()};"_support"in r?r._support&&"function"==typeof r._support?r._support().then(l,u):l(!!r._support):l(!0)}else u(l)}catch(q){u(q)}});return B(n,o,i),n},e.prototype.driver=function(){return this._driver||null},e.prototype.getDriver=function(r,o,i){r=he[r]?m.resolve(he[r]):m.reject(Error("Driver not found."));return B(r,o,i),r},e.prototype.getSerializer=function(r){var o=m.resolve(Ne);return B(o,r),o},e.prototype.ready=function(r){var o=
this,i=o._driverSet.then(function(){return null===o._ready&&(o._ready=o._initDriver()),o._ready});return B(i,r,r),i},e.prototype.setDriver=function(r,o,i){function u(){n._config.driver=n.driver()}function c(y){return n._extend(y),u(),n._ready=n._initStorage(n._config),n._ready}function l(y){return function(){function x(){for(;R<y.length;){var C=y[R];return R++,n._dbInfo=null,n._ready=null,n.getDriver(C).then(c).catch(x)}u();return n._driverSet=m.reject(Error("No available storage method found.")),
n._driverSet}var R=0;return x()}}var n=this;Ze(r)||(r=[r]);var f=this._getSupportedDrivers(r);return this._driverSet=(null!==this._driverSet?this._driverSet.catch(function(){return m.resolve()}):m.resolve()).then(function(){var y=f[0];return n._dbInfo=null,n._ready=null,n.getDriver(y).then(function(R){n._driver=R._driver;u();n._wrapLibraryMethodsWithReady();n._initDriver=l(f)})}).catch(function(){u();return n._driverSet=m.reject(Error("No available storage method found.")),n._driverSet}),B(this._driverSet,
o,i),this._driverSet},e.prototype.supports=function(r){return!!qe[r]},e.prototype._extend=function(r){Be(this,r)},e.prototype._getSupportedDrivers=function(r){for(var o=[],i=0,n=r.length;i<n;i++){var f=r[i];this.supports(f)&&o.push(f)}return o},e.prototype._wrapLibraryMethodsWithReady=function(){for(var r=0,o=Te.length;r<o;r++)Qr(this,Te[r])},e.prototype.createInstance=function(r){return new e(r)},e}());D.exports=JSCompiler_inline_result$jscomp$0},{3:3}]},{},[4])(4)})}),ir=er((_e,or)=>{(function(p,
E){"object"==typeof _e&&"u">typeof or?E(_e):"function"==typeof define&&define.amd?define("localforage-driver-memory",["exports"],E):E(p.LocalforageDriverMemory={})})("u">typeof self?self:_e,function(p){function I(a){var s="function"==typeof Symbol&&a[Symbol.iterator],v=0;return s?s.call(a):{next:function(){return a&&v>=a.length&&(a=void 0),{value:a&&a[v++],done:!a}}}}function A(a){var s=.75*a.length,v=a.length;"\x3d"===a[a.length-1]&&(s--,"\x3d"===a[a.length-2]&&s--);s=new ArrayBuffer(s);for(var b=
new Uint8Array(s),w=0,T=0;w<v;w+=4){var G="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[w]),ce="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[w+1]),ue="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[w+2]),ve="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/".indexOf(a[w+3]);b[T++]=G<<2|ce>>4;b[T++]=(ce&15)<<4|ue>>2;b[T++]=(ue&3)<<6|ve&63}return s}function M(a){a=new Uint8Array(a);for(var v="",
g=0;g<a.length;g+=3)v+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a[g]>>2],v+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(a[g]&3)<<4|a[g+1]>>4],v+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[(a[g+1]&15)<<2|a[g+2]>>6],v+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/"[a[g+2]&63];return 2===a.length%3?v=v.substring(0,v.length-1)+"\x3d":1===a.length%3&&(v=v.substring(0,v.length-2)+"\x3d\x3d"),v}function m(a){var v;
if(null===a||"object"!=typeof a||"isActiveClone"in a)return a;var g=a instanceof Date?new Date(a):a.constructor();try{for(var b=I(Object.keys(a)),w=b.next();!w.done;w=b.next()){var T=w.value;Object.prototype.hasOwnProperty.call(a,T)&&(a.isActiveClone=null,g[T]=m(a[T]),delete a.isActiveClone)}}catch(G){var s={error:G}}finally{try{w&&!w.done&&(v=b.return)&&v.call(b)}finally{if(s)throw s.error;}}return g}function _(a,s){return(a.name||s.name)+"/"+(a.storeName||s.storeName)+"/"}function B(a,s){s&&a.then(function(v){s(null,
v)},function(v){s(v)})}function z(){for(var s=0;s<arguments.length;s++);if(arguments.length&&"function"==typeof arguments[arguments.length-1])return arguments[arguments.length-1]}function Z(a,s){var v=this;if(s=z.apply(this,arguments),a="function"!=typeof a&&a||{},!a.name){var g=this.config();a.name=a.name||g.name;a.storeName=a.storeName||g.storeName}var b;return a.name?b=new Promise(function(w){a.storeName?w(_(a,v._defaultConfig)):w(a.name+"/")}):b=Promise.reject("Invalid arguments"),{promise:b,
callback:s}}function F(a){return"string"!=typeof a&&(console.warn(a+" used as a key, but it is not a string."),a=String(a)),a}var D=/^~~local_forage_type~([^~]+)~/,Y=Object.prototype.toString,k={bufferToString:M,deserialize:function(a){if("__lfsc__:"!==a.substring(0,9))return JSON.parse(a);var s=a.substring(13);a=a.substring(9,13);if("blob"===a&&D.test(s)){var b=s.match(D);var g=b[1];s=s.substring(b[0].length)}s=A(s);switch(a){case "arbf":return s;case "blob":s=[s];g={type:g};s=s||[];g=g||{};try{var JSCompiler_inline_result=
new Blob(s,g)}catch(w){if("TypeError"!==w.name)throw w;JSCompiler_inline_result=new ("u">typeof BlobBuilder?BlobBuilder:"u">typeof MSBlobBuilder?MSBlobBuilder:"u">typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder);for(a=0;a<s.length;a+=1)JSCompiler_inline_result.append(s[a]);JSCompiler_inline_result=JSCompiler_inline_result.getBlob(g.type)}return JSCompiler_inline_result;case "si08":return new Int8Array(s);case "ui08":return new Uint8Array(s);case "uic8":return new Uint8ClampedArray(s);case "si16":return new Int16Array(s);
case "ur16":return new Uint16Array(s);case "si32":return new Int32Array(s);case "ui32":return new Uint32Array(s);case "fl32":return new Float32Array(s);case "fl64":return new Float64Array(s);default:throw Error("Unkown type: "+a);}},serialize:function(a,s){var v="";if(a&&(v=Y.call(a)),a&&("[object ArrayBuffer]"===v||a.buffer&&"[object ArrayBuffer]"===Y.call(a.buffer))){var g=void 0,b="__lfsc__:";a instanceof ArrayBuffer?(g=a,b+="arbf"):(g=a.buffer,"[object Int8Array]"===v?b+="si08":"[object Uint8Array]"===
v?b+="ui08":"[object Uint8ClampedArray]"===v?b+="uic8":"[object Int16Array]"===v?b+="si16":"[object Uint16Array]"===v?b+="ur16":"[object Int32Array]"===v?b+="si32":"[object Uint32Array]"===v?b+="ui32":"[object Float32Array]"===v?b+="fl32":"[object Float64Array]"===v?b+="fl64":s(Error("Failed to get type for BinaryArray")));s(b+M(g))}else if("[object Blob]"===v)v=new FileReader,v.onload=function(){var T="~~local_forage_type~"+a.type+"~"+M(this.result);s("__lfsc__:blob"+T)},v.readAsArrayBuffer(a);else try{s(JSON.stringify(a))}catch(T){console.error("Couldn't convert value into a JSON string: ",
a),s(null,T)}},stringToBuffer:A},U={},se=function(){function a(s){this.kp=s;this.data={}}return a.resolve=function(s){return U[s]||(U[s]=new a(s)),U[s]},a.prototype.clear=function(){this.data={}},a.prototype.drop=function(){this.clear();delete U[this.kp]},a.prototype.get=function(s){return this.data[s]},a.prototype.key=function(s){return this.keys()[s]},a.prototype.keys=function(){return Object.keys(this.data)},a.prototype.rm=function(s){delete this.data[s]},a.prototype.set=function(s,v){this.data[s]=
v},a}();p._support=!0;p._driver="localforage-driver-memory";p._initStorage=function(a){a=a?m(a):{};var v=_(a,this._defaultConfig),g=se.resolve(v);return this._dbInfo=a,this._dbInfo.serializer=k,this._dbInfo.keyPrefix=v,this._dbInfo.mStore=g,Promise.resolve()};p.clear=function(a){var s=this,v=this.ready().then(function(){s._dbInfo.mStore.clear()});return B(v,a),v};p.dropInstance=function(a,s){var v=Z.apply(this,arguments),g=v.promise;v=v.callback;var w=g.then(function(T){se.resolve(T).drop()});return B(w,
v),g};p.getItem=function(a,s){var v=this;a=F(a);var g=this.ready().then(function(){var b=v._dbInfo.mStore.get(a);return null==b?null:v._dbInfo.serializer.deserialize(b)});return B(g,s),g};p.iterate=function(a,s){var v=this,g=this.ready().then(function(){for(var b=v._dbInfo.mStore,w=b.keys(),T=0;T<w.length;T++){var G=b.get(w[T]);if(G&&(G=v._dbInfo.serializer.deserialize(G)),G=a(G,w[T],T+1),void 0!==G)return G}});return B(g,s),g};p.key=function(a,s){var v=this,g=this.ready().then(function(){try{var b=
v._dbInfo.mStore.key(a);void 0===b&&(b=null)}catch{b=null}return b});return B(g,s),g};p.keys=function(a){var s=this,v=this.ready().then(function(){return s._dbInfo.mStore.keys()});return B(v,a),v};p.length=function(a){var s=this.keys().then(function(v){return v.length});return B(s,a),s};p.removeItem=function(a,s){var v=this;a=F(a);var g=this.ready().then(function(){v._dbInfo.mStore.rm(a)});return B(g,s),g};p.setItem=function(a,s,v){var g=this;a=F(a);var b=this.ready().then(function(){void 0===s&&
(s=null);var w=s;return new Promise(function(T,G){g._dbInfo.serializer.serialize(s,function(ce,ue){if(ue)G(ue);else try{g._dbInfo.mStore.set(a,ce),T(w)}catch(ve){G(ve)}})})});return B(b,v),b};Object.defineProperty(p,"__esModule",{value:!0})})});er={};((p,E)=>{for(var I in E)be(p,I,{get:E[I],enumerable:!0})})(er,{Magic:()=>ct});module.exports=(p=>ge(be({},"__esModule",{value:!0}),p))(er);var Ie=require("module$node_modules$$magic_sdk$provider$dist$cjs$index"),Ee=exports(nr()),Le=exports(ir()),oe=require("module$node_modules$$magic_sdk$provider$dist$cjs$index"),
ft={display:"none",position:"fixed",top:"0",right:"0",width:"100%",height:"100%",borderRadius:"0",border:"none",zIndex:"2147483647"};exports=class extends oe.ViewController{constructor(){super(...arguments);this.activeElement=null}init(){this.test="hello";this.iframe=new Promise(I$jscomp$0=>{let L=()=>{if(st(encodeURIComponent(this.parameters)))(0,oe.createDuplicateIframeWarning)().log();else{let D=document.createElement("iframe");D.classList.add("magic-iframe");D.dataset.magicIframeLabel=(0,oe.createURL)(this.endpoint).host;
D.title="Secure Modal";D.src=(0,oe.createURL)(`/send?params=${encodeURIComponent(this.parameters)}`,this.endpoint).href;var p=D;for(let [E,I]of Object.entries(ft))p.style[E]=I;document.body.appendChild(D);I$jscomp$0(D)}};["loaded","interactive","complete"].includes(document.readyState)?L():window.addEventListener("load",L,!1)});window.addEventListener("message",I=>{var L;if(I.origin===this.endpoint&&I.data&&I.data.msgType&&this.messageHandlers.size){I.data.response=null!=(L=I.data.response)?L:{};
for(let D of this.messageHandlers.values())D(I)}})}showOverlay(){return de(this,null,function*(){let I=yield this.iframe;I.style.display="block";this.activeElement=document.activeElement;I.focus()})}hideOverlay(){return de(this,null,function*(){var L;(yield this.iframe).style.display="none";null!=(L=this.activeElement)&&L.focus&&this.activeElement.focus();this.activeElement=null})}_post(I){return de(this,null,function*(){let L=yield this.iframe;if(L&&L.contentWindow)L.contentWindow.postMessage(I,
this.endpoint);else throw(0,oe.createModalNotReadyError)();})}};((p,E,I)=>(ge(p,E,"default"),I&&ge(I,E,"default")))(er,require("module$node_modules$$magic_sdk$commons$dist$cjs$index"),module.exports);var ct=(0,Ie.createSDK)(Ie.SDKBase,{platform:"web",sdkName:"magic-sdk",version:"17.3.0",defaultEndpoint:"https://auth.magic.link/",ViewController:exports,configureStorage:()=>de(void 0,null,function*(){let p=Ee.default.createInstance({name:"MagicAuthLocalStorageDB",storeName:"MagicAuthLocalStorage"});
return yield p.defineDriver(Le),yield p.setDriver([Ee.default.INDEXEDDB,Ee.default.LOCALSTORAGE,Le._driver]),p})})}
//# sourceMappingURL=module$node_modules$magic_sdk$dist$cjs$index.js.map
